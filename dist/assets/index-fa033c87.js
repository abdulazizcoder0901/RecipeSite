function oz(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function sz(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var tD={exports:{}},bg={},nD={exports:{}},Oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yd=Symbol.for("react.element"),az=Symbol.for("react.portal"),uz=Symbol.for("react.fragment"),lz=Symbol.for("react.strict_mode"),cz=Symbol.for("react.profiler"),fz=Symbol.for("react.provider"),hz=Symbol.for("react.context"),dz=Symbol.for("react.forward_ref"),pz=Symbol.for("react.suspense"),vz=Symbol.for("react.memo"),mz=Symbol.for("react.lazy"),MR=Symbol.iterator;function gz(e){return e===null||typeof e!="object"?null:(e=MR&&e[MR]||e["@@iterator"],typeof e=="function"?e:null)}var rD={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},iD=Object.assign,oD={};function _c(e,t,n){this.props=e,this.context=t,this.refs=oD,this.updater=n||rD}_c.prototype.isReactComponent={};_c.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};_c.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function sD(){}sD.prototype=_c.prototype;function jb(e,t,n){this.props=e,this.context=t,this.refs=oD,this.updater=n||rD}var Vb=jb.prototype=new sD;Vb.constructor=jb;iD(Vb,_c.prototype);Vb.isPureReactComponent=!0;var FR=Array.isArray,aD=Object.prototype.hasOwnProperty,Bb={current:null},uD={key:!0,ref:!0,__self:!0,__source:!0};function lD(e,t,n){var r,i={},s=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(s=""+t.key),t)aD.call(t,r)&&!uD.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),h=0;h<l;h++)c[h]=arguments[h+2];i.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:yd,type:e,key:s,ref:a,props:i,_owner:Bb.current}}function yz(e,t){return{$$typeof:yd,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function $b(e){return typeof e=="object"&&e!==null&&e.$$typeof===yd}function _z(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var UR=/\/+/g;function bw(e,t){return typeof e=="object"&&e!==null&&e.key!=null?_z(""+e.key):t.toString(36)}function Mv(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case yd:case az:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+bw(a,0):r,FR(i)?(n="",e!=null&&(n=e.replace(UR,"$&/")+"/"),Mv(i,t,n,"",function(h){return h})):i!=null&&($b(i)&&(i=yz(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(UR,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",FR(e))for(var l=0;l<e.length;l++){s=e[l];var c=r+bw(s,l);a+=Mv(s,t,n,c,i)}else if(c=gz(e),typeof c=="function")for(e=c.call(e),l=0;!(s=e.next()).done;)s=s.value,c=r+bw(s,l++),a+=Mv(s,t,n,c,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function tv(e,t,n){if(e==null)return e;var r=[],i=0;return Mv(e,r,"","",function(s){return t.call(n,s,i++)}),r}function wz(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Zn={current:null},Fv={transition:null},Ez={ReactCurrentDispatcher:Zn,ReactCurrentBatchConfig:Fv,ReactCurrentOwner:Bb};Oe.Children={map:tv,forEach:function(e,t,n){tv(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return tv(e,function(){t++}),t},toArray:function(e){return tv(e,function(t){return t})||[]},only:function(e){if(!$b(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Oe.Component=_c;Oe.Fragment=uz;Oe.Profiler=cz;Oe.PureComponent=jb;Oe.StrictMode=lz;Oe.Suspense=pz;Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ez;Oe.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=iD({},e.props),i=e.key,s=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,a=Bb.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)aD.call(t,c)&&!uD.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var h=0;h<c;h++)l[h]=arguments[h+2];r.children=l}return{$$typeof:yd,type:e.type,key:i,ref:s,props:r,_owner:a}};Oe.createContext=function(e){return e={$$typeof:hz,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:fz,_context:e},e.Consumer=e};Oe.createElement=lD;Oe.createFactory=function(e){var t=lD.bind(null,e);return t.type=e,t};Oe.createRef=function(){return{current:null}};Oe.forwardRef=function(e){return{$$typeof:dz,render:e}};Oe.isValidElement=$b;Oe.lazy=function(e){return{$$typeof:mz,_payload:{_status:-1,_result:e},_init:wz}};Oe.memo=function(e,t){return{$$typeof:vz,type:e,compare:t===void 0?null:t}};Oe.startTransition=function(e){var t=Fv.transition;Fv.transition={};try{e()}finally{Fv.transition=t}};Oe.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Oe.useCallback=function(e,t){return Zn.current.useCallback(e,t)};Oe.useContext=function(e){return Zn.current.useContext(e)};Oe.useDebugValue=function(){};Oe.useDeferredValue=function(e){return Zn.current.useDeferredValue(e)};Oe.useEffect=function(e,t){return Zn.current.useEffect(e,t)};Oe.useId=function(){return Zn.current.useId()};Oe.useImperativeHandle=function(e,t,n){return Zn.current.useImperativeHandle(e,t,n)};Oe.useInsertionEffect=function(e,t){return Zn.current.useInsertionEffect(e,t)};Oe.useLayoutEffect=function(e,t){return Zn.current.useLayoutEffect(e,t)};Oe.useMemo=function(e,t){return Zn.current.useMemo(e,t)};Oe.useReducer=function(e,t,n){return Zn.current.useReducer(e,t,n)};Oe.useRef=function(e){return Zn.current.useRef(e)};Oe.useState=function(e){return Zn.current.useState(e)};Oe.useSyncExternalStore=function(e,t,n){return Zn.current.useSyncExternalStore(e,t,n)};Oe.useTransition=function(){return Zn.current.useTransition()};Oe.version="18.2.0";nD.exports=Oe;var U=nD.exports;const Me=sz(U),bz=oz({__proto__:null,default:Me},[U]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tz=U,Iz=Symbol.for("react.element"),Sz=Symbol.for("react.fragment"),Cz=Object.prototype.hasOwnProperty,kz=Tz.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Nz={key:!0,ref:!0,__self:!0,__source:!0};function cD(e,t,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)Cz.call(t,r)&&!Nz.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Iz,type:e,key:s,ref:a,props:i,_owner:kz.current}}bg.Fragment=Sz;bg.jsx=cD;bg.jsxs=cD;tD.exports=bg;var q=tD.exports,LE={},fD={exports:{}},Fr={},hD={exports:{}},dD={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(W,oe){var he=W.length;W.push(oe);e:for(;0<he;){var Ze=he-1>>>1,wt=W[Ze];if(0<i(wt,oe))W[Ze]=oe,W[he]=wt,he=Ze;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var oe=W[0],he=W.pop();if(he!==oe){W[0]=he;e:for(var Ze=0,wt=W.length,uo=wt>>>1;Ze<uo;){var et=2*(Ze+1)-1,ci=W[et],nr=et+1,lo=W[nr];if(0>i(ci,he))nr<wt&&0>i(lo,ci)?(W[Ze]=lo,W[nr]=he,Ze=nr):(W[Ze]=ci,W[et]=he,Ze=et);else if(nr<wt&&0>i(lo,he))W[Ze]=lo,W[nr]=he,Ze=nr;else break e}}return oe}function i(W,oe){var he=W.sortIndex-oe.sortIndex;return he!==0?he:W.id-oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],h=[],d=1,v=null,m=3,y=!1,_=!1,E=!1,S=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(W){for(var oe=n(h);oe!==null;){if(oe.callback===null)r(h);else if(oe.startTime<=W)r(h),oe.sortIndex=oe.expirationTime,t(c,oe);else break;oe=n(h)}}function C(W){if(E=!1,k(W),!_)if(n(c)!==null)_=!0,qe(x);else{var oe=n(h);oe!==null&&_t(C,oe.startTime-W)}}function x(W,oe){_=!1,E&&(E=!1,b(M),M=-1),y=!0;var he=m;try{for(k(oe),v=n(c);v!==null&&(!(v.expirationTime>oe)||W&&!ze());){var Ze=v.callback;if(typeof Ze=="function"){v.callback=null,m=v.priorityLevel;var wt=Ze(v.expirationTime<=oe);oe=e.unstable_now(),typeof wt=="function"?v.callback=wt:v===n(c)&&r(c),k(oe)}else r(c);v=n(c)}if(v!==null)var uo=!0;else{var et=n(h);et!==null&&_t(C,et.startTime-oe),uo=!1}return uo}finally{v=null,m=he,y=!1}}var O=!1,V=null,M=-1,te=5,R=-1;function ze(){return!(e.unstable_now()-R<te)}function me(){if(V!==null){var W=e.unstable_now();R=W;var oe=!0;try{oe=V(!0,W)}finally{oe?Ut():(O=!1,V=null)}}else O=!1}var Ut;if(typeof I=="function")Ut=function(){I(me)};else if(typeof MessageChannel<"u"){var lt=new MessageChannel,kt=lt.port2;lt.port1.onmessage=me,Ut=function(){kt.postMessage(null)}}else Ut=function(){S(me,0)};function qe(W){V=W,O||(O=!0,Ut())}function _t(W,oe){M=S(function(){W(e.unstable_now())},oe)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(W){W.callback=null},e.unstable_continueExecution=function(){_||y||(_=!0,qe(x))},e.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):te=0<W?Math.floor(1e3/W):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(W){switch(m){case 1:case 2:case 3:var oe=3;break;default:oe=m}var he=m;m=oe;try{return W()}finally{m=he}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(W,oe){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var he=m;m=W;try{return oe()}finally{m=he}},e.unstable_scheduleCallback=function(W,oe,he){var Ze=e.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?Ze+he:Ze):he=Ze,W){case 1:var wt=-1;break;case 2:wt=250;break;case 5:wt=1073741823;break;case 4:wt=1e4;break;default:wt=5e3}return wt=he+wt,W={id:d++,callback:oe,priorityLevel:W,startTime:he,expirationTime:wt,sortIndex:-1},he>Ze?(W.sortIndex=he,t(h,W),n(c)===null&&W===n(h)&&(E?(b(M),M=-1):E=!0,_t(C,he-Ze))):(W.sortIndex=wt,t(c,W),_||y||(_=!0,qe(x))),W},e.unstable_shouldYield=ze,e.unstable_wrapCallback=function(W){var oe=m;return function(){var he=m;m=oe;try{return W.apply(this,arguments)}finally{m=he}}}})(dD);hD.exports=dD;var Rz=hD.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pD=U,xr=Rz;function K(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var vD=new Set,Ch={};function gu(e,t){Vl(e,t),Vl(e+"Capture",t)}function Vl(e,t){for(Ch[e]=t,e=0;e<t.length;e++)vD.add(t[e])}var Po=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ME=Object.prototype.hasOwnProperty,Az=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,jR={},VR={};function Pz(e){return ME.call(VR,e)?!0:ME.call(jR,e)?!1:Az.test(e)?VR[e]=!0:(jR[e]=!0,!1)}function xz(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Oz(e,t,n,r){if(t===null||typeof t>"u"||xz(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function er(e,t,n,r,i,s,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var In={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){In[e]=new er(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];In[t]=new er(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){In[e]=new er(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){In[e]=new er(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){In[e]=new er(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){In[e]=new er(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){In[e]=new er(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){In[e]=new er(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){In[e]=new er(e,5,!1,e.toLowerCase(),null,!1,!1)});var zb=/[\-:]([a-z])/g;function qb(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(zb,qb);In[t]=new er(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(zb,qb);In[t]=new er(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(zb,qb);In[t]=new er(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){In[e]=new er(e,1,!1,e.toLowerCase(),null,!1,!1)});In.xlinkHref=new er("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){In[e]=new er(e,1,!1,e.toLowerCase(),null,!0,!0)});function Wb(e,t,n,r){var i=In.hasOwnProperty(t)?In[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Oz(t,n,i,r)&&(n=null),r||i===null?Pz(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var jo=pD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,nv=Symbol.for("react.element"),hl=Symbol.for("react.portal"),dl=Symbol.for("react.fragment"),Hb=Symbol.for("react.strict_mode"),FE=Symbol.for("react.profiler"),mD=Symbol.for("react.provider"),gD=Symbol.for("react.context"),Kb=Symbol.for("react.forward_ref"),UE=Symbol.for("react.suspense"),jE=Symbol.for("react.suspense_list"),Gb=Symbol.for("react.memo"),os=Symbol.for("react.lazy"),yD=Symbol.for("react.offscreen"),BR=Symbol.iterator;function Af(e){return e===null||typeof e!="object"?null:(e=BR&&e[BR]||e["@@iterator"],typeof e=="function"?e:null)}var Ct=Object.assign,Tw;function Qf(e){if(Tw===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Tw=t&&t[1]||""}return`
`+Tw+e}var Iw=!1;function Sw(e,t){if(!e||Iw)return"";Iw=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(h){var r=h}Reflect.construct(e,[],t)}else{try{t.call()}catch(h){r=h}e.call(t.prototype)}else{try{throw Error()}catch(h){r=h}e()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,l=s.length-1;1<=a&&0<=l&&i[a]!==s[l];)l--;for(;1<=a&&0<=l;a--,l--)if(i[a]!==s[l]){if(a!==1||l!==1)do if(a--,l--,0>l||i[a]!==s[l]){var c=`
`+i[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{Iw=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Qf(e):""}function Dz(e){switch(e.tag){case 5:return Qf(e.type);case 16:return Qf("Lazy");case 13:return Qf("Suspense");case 19:return Qf("SuspenseList");case 0:case 2:case 15:return e=Sw(e.type,!1),e;case 11:return e=Sw(e.type.render,!1),e;case 1:return e=Sw(e.type,!0),e;default:return""}}function VE(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case dl:return"Fragment";case hl:return"Portal";case FE:return"Profiler";case Hb:return"StrictMode";case UE:return"Suspense";case jE:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case gD:return(e.displayName||"Context")+".Consumer";case mD:return(e._context.displayName||"Context")+".Provider";case Kb:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Gb:return t=e.displayName||null,t!==null?t:VE(e.type)||"Memo";case os:t=e._payload,e=e._init;try{return VE(e(t))}catch{}}return null}function Lz(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return VE(t);case 8:return t===Hb?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Os(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function _D(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Mz(e){var t=_D(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function rv(e){e._valueTracker||(e._valueTracker=Mz(e))}function wD(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=_D(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function im(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function BE(e,t){var n=t.checked;return Ct({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function $R(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Os(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ED(e,t){t=t.checked,t!=null&&Wb(e,"checked",t,!1)}function $E(e,t){ED(e,t);var n=Os(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?zE(e,t.type,n):t.hasOwnProperty("defaultValue")&&zE(e,t.type,Os(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function zR(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function zE(e,t,n){(t!=="number"||im(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Yf=Array.isArray;function Nl(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Os(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function qE(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(K(91));return Ct({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function qR(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(K(92));if(Yf(n)){if(1<n.length)throw Error(K(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Os(n)}}function bD(e,t){var n=Os(t.value),r=Os(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function WR(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function TD(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function WE(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?TD(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var iv,ID=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(iv=iv||document.createElement("div"),iv.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=iv.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function kh(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var nh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Fz=["Webkit","ms","Moz","O"];Object.keys(nh).forEach(function(e){Fz.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),nh[t]=nh[e]})});function SD(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||nh.hasOwnProperty(e)&&nh[e]?(""+t).trim():t+"px"}function CD(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=SD(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Uz=Ct({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function HE(e,t){if(t){if(Uz[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(K(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(K(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(K(61))}if(t.style!=null&&typeof t.style!="object")throw Error(K(62))}}function KE(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var GE=null;function Qb(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var QE=null,Rl=null,Al=null;function HR(e){if(e=Ed(e)){if(typeof QE!="function")throw Error(K(280));var t=e.stateNode;t&&(t=kg(t),QE(e.stateNode,e.type,t))}}function kD(e){Rl?Al?Al.push(e):Al=[e]:Rl=e}function ND(){if(Rl){var e=Rl,t=Al;if(Al=Rl=null,HR(e),t)for(e=0;e<t.length;e++)HR(t[e])}}function RD(e,t){return e(t)}function AD(){}var Cw=!1;function PD(e,t,n){if(Cw)return e(t,n);Cw=!0;try{return RD(e,t,n)}finally{Cw=!1,(Rl!==null||Al!==null)&&(AD(),ND())}}function Nh(e,t){var n=e.stateNode;if(n===null)return null;var r=kg(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(K(231,t,typeof n));return n}var YE=!1;if(Po)try{var Pf={};Object.defineProperty(Pf,"passive",{get:function(){YE=!0}}),window.addEventListener("test",Pf,Pf),window.removeEventListener("test",Pf,Pf)}catch{YE=!1}function jz(e,t,n,r,i,s,a,l,c){var h=Array.prototype.slice.call(arguments,3);try{t.apply(n,h)}catch(d){this.onError(d)}}var rh=!1,om=null,sm=!1,XE=null,Vz={onError:function(e){rh=!0,om=e}};function Bz(e,t,n,r,i,s,a,l,c){rh=!1,om=null,jz.apply(Vz,arguments)}function $z(e,t,n,r,i,s,a,l,c){if(Bz.apply(this,arguments),rh){if(rh){var h=om;rh=!1,om=null}else throw Error(K(198));sm||(sm=!0,XE=h)}}function yu(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function xD(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function KR(e){if(yu(e)!==e)throw Error(K(188))}function zz(e){var t=e.alternate;if(!t){if(t=yu(e),t===null)throw Error(K(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return KR(i),e;if(s===r)return KR(i),t;s=s.sibling}throw Error(K(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(K(189))}}if(n.alternate!==r)throw Error(K(190))}if(n.tag!==3)throw Error(K(188));return n.stateNode.current===n?e:t}function OD(e){return e=zz(e),e!==null?DD(e):null}function DD(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=DD(e);if(t!==null)return t;e=e.sibling}return null}var LD=xr.unstable_scheduleCallback,GR=xr.unstable_cancelCallback,qz=xr.unstable_shouldYield,Wz=xr.unstable_requestPaint,Mt=xr.unstable_now,Hz=xr.unstable_getCurrentPriorityLevel,Yb=xr.unstable_ImmediatePriority,MD=xr.unstable_UserBlockingPriority,am=xr.unstable_NormalPriority,Kz=xr.unstable_LowPriority,FD=xr.unstable_IdlePriority,Tg=null,Gi=null;function Gz(e){if(Gi&&typeof Gi.onCommitFiberRoot=="function")try{Gi.onCommitFiberRoot(Tg,e,void 0,(e.current.flags&128)===128)}catch{}}var Ni=Math.clz32?Math.clz32:Xz,Qz=Math.log,Yz=Math.LN2;function Xz(e){return e>>>=0,e===0?32:31-(Qz(e)/Yz|0)|0}var ov=64,sv=4194304;function Xf(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function um(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=n&268435455;if(a!==0){var l=a&~i;l!==0?r=Xf(l):(s&=a,s!==0&&(r=Xf(s)))}else a=n&~i,a!==0?r=Xf(a):s!==0&&(r=Xf(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ni(t),i=1<<n,r|=e[n],t&=~i;return r}function Jz(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zz(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-Ni(s),l=1<<a,c=i[a];c===-1?(!(l&n)||l&r)&&(i[a]=Jz(l,t)):c<=t&&(e.expiredLanes|=l),s&=~l}}function JE(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function UD(){var e=ov;return ov<<=1,!(ov&4194240)&&(ov=64),e}function kw(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function _d(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ni(t),e[t]=n}function e5(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Ni(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function Xb(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ni(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Xe=0;function jD(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var VD,Jb,BD,$D,zD,ZE=!1,av=[],_s=null,ws=null,Es=null,Rh=new Map,Ah=new Map,us=[],t5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function QR(e,t){switch(e){case"focusin":case"focusout":_s=null;break;case"dragenter":case"dragleave":ws=null;break;case"mouseover":case"mouseout":Es=null;break;case"pointerover":case"pointerout":Rh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ah.delete(t.pointerId)}}function xf(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Ed(t),t!==null&&Jb(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function n5(e,t,n,r,i){switch(t){case"focusin":return _s=xf(_s,e,t,n,r,i),!0;case"dragenter":return ws=xf(ws,e,t,n,r,i),!0;case"mouseover":return Es=xf(Es,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Rh.set(s,xf(Rh.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ah.set(s,xf(Ah.get(s)||null,e,t,n,r,i)),!0}return!1}function qD(e){var t=Oa(e.target);if(t!==null){var n=yu(t);if(n!==null){if(t=n.tag,t===13){if(t=xD(n),t!==null){e.blockedOn=t,zD(e.priority,function(){BD(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Uv(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=e1(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);GE=r,n.target.dispatchEvent(r),GE=null}else return t=Ed(n),t!==null&&Jb(t),e.blockedOn=n,!1;t.shift()}return!0}function YR(e,t,n){Uv(e)&&n.delete(t)}function r5(){ZE=!1,_s!==null&&Uv(_s)&&(_s=null),ws!==null&&Uv(ws)&&(ws=null),Es!==null&&Uv(Es)&&(Es=null),Rh.forEach(YR),Ah.forEach(YR)}function Of(e,t){e.blockedOn===t&&(e.blockedOn=null,ZE||(ZE=!0,xr.unstable_scheduleCallback(xr.unstable_NormalPriority,r5)))}function Ph(e){function t(i){return Of(i,e)}if(0<av.length){Of(av[0],e);for(var n=1;n<av.length;n++){var r=av[n];r.blockedOn===e&&(r.blockedOn=null)}}for(_s!==null&&Of(_s,e),ws!==null&&Of(ws,e),Es!==null&&Of(Es,e),Rh.forEach(t),Ah.forEach(t),n=0;n<us.length;n++)r=us[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<us.length&&(n=us[0],n.blockedOn===null);)qD(n),n.blockedOn===null&&us.shift()}var Pl=jo.ReactCurrentBatchConfig,lm=!0;function i5(e,t,n,r){var i=Xe,s=Pl.transition;Pl.transition=null;try{Xe=1,Zb(e,t,n,r)}finally{Xe=i,Pl.transition=s}}function o5(e,t,n,r){var i=Xe,s=Pl.transition;Pl.transition=null;try{Xe=4,Zb(e,t,n,r)}finally{Xe=i,Pl.transition=s}}function Zb(e,t,n,r){if(lm){var i=e1(e,t,n,r);if(i===null)Fw(e,t,r,cm,n),QR(e,r);else if(n5(i,e,t,n,r))r.stopPropagation();else if(QR(e,r),t&4&&-1<t5.indexOf(e)){for(;i!==null;){var s=Ed(i);if(s!==null&&VD(s),s=e1(e,t,n,r),s===null&&Fw(e,t,r,cm,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Fw(e,t,r,null,n)}}var cm=null;function e1(e,t,n,r){if(cm=null,e=Qb(r),e=Oa(e),e!==null)if(t=yu(e),t===null)e=null;else if(n=t.tag,n===13){if(e=xD(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return cm=e,null}function WD(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Hz()){case Yb:return 1;case MD:return 4;case am:case Kz:return 16;case FD:return 536870912;default:return 16}default:return 16}}var ps=null,eT=null,jv=null;function HD(){if(jv)return jv;var e,t=eT,n=t.length,r,i="value"in ps?ps.value:ps.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[s-r];r++);return jv=i.slice(e,1<r?1-r:void 0)}function Vv(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function uv(){return!0}function XR(){return!1}function Ur(e){function t(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?uv:XR,this.isPropagationStopped=XR,this}return Ct(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=uv)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=uv)},persist:function(){},isPersistent:uv}),t}var wc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tT=Ur(wc),wd=Ct({},wc,{view:0,detail:0}),s5=Ur(wd),Nw,Rw,Df,Ig=Ct({},wd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nT,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Df&&(Df&&e.type==="mousemove"?(Nw=e.screenX-Df.screenX,Rw=e.screenY-Df.screenY):Rw=Nw=0,Df=e),Nw)},movementY:function(e){return"movementY"in e?e.movementY:Rw}}),JR=Ur(Ig),a5=Ct({},Ig,{dataTransfer:0}),u5=Ur(a5),l5=Ct({},wd,{relatedTarget:0}),Aw=Ur(l5),c5=Ct({},wc,{animationName:0,elapsedTime:0,pseudoElement:0}),f5=Ur(c5),h5=Ct({},wc,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),d5=Ur(h5),p5=Ct({},wc,{data:0}),ZR=Ur(p5),v5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},m5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},g5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function y5(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=g5[e])?!!t[e]:!1}function nT(){return y5}var _5=Ct({},wd,{key:function(e){if(e.key){var t=v5[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Vv(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?m5[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nT,charCode:function(e){return e.type==="keypress"?Vv(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Vv(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),w5=Ur(_5),E5=Ct({},Ig,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),eA=Ur(E5),b5=Ct({},wd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nT}),T5=Ur(b5),I5=Ct({},wc,{propertyName:0,elapsedTime:0,pseudoElement:0}),S5=Ur(I5),C5=Ct({},Ig,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),k5=Ur(C5),N5=[9,13,27,32],rT=Po&&"CompositionEvent"in window,ih=null;Po&&"documentMode"in document&&(ih=document.documentMode);var R5=Po&&"TextEvent"in window&&!ih,KD=Po&&(!rT||ih&&8<ih&&11>=ih),tA=String.fromCharCode(32),nA=!1;function GD(e,t){switch(e){case"keyup":return N5.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function QD(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var pl=!1;function A5(e,t){switch(e){case"compositionend":return QD(t);case"keypress":return t.which!==32?null:(nA=!0,tA);case"textInput":return e=t.data,e===tA&&nA?null:e;default:return null}}function P5(e,t){if(pl)return e==="compositionend"||!rT&&GD(e,t)?(e=HD(),jv=eT=ps=null,pl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return KD&&t.locale!=="ko"?null:t.data;default:return null}}var x5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rA(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!x5[e.type]:t==="textarea"}function YD(e,t,n,r){kD(r),t=fm(t,"onChange"),0<t.length&&(n=new tT("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var oh=null,xh=null;function O5(e){aL(e,0)}function Sg(e){var t=gl(e);if(wD(t))return e}function D5(e,t){if(e==="change")return t}var XD=!1;if(Po){var Pw;if(Po){var xw="oninput"in document;if(!xw){var iA=document.createElement("div");iA.setAttribute("oninput","return;"),xw=typeof iA.oninput=="function"}Pw=xw}else Pw=!1;XD=Pw&&(!document.documentMode||9<document.documentMode)}function oA(){oh&&(oh.detachEvent("onpropertychange",JD),xh=oh=null)}function JD(e){if(e.propertyName==="value"&&Sg(xh)){var t=[];YD(t,xh,e,Qb(e)),PD(O5,t)}}function L5(e,t,n){e==="focusin"?(oA(),oh=t,xh=n,oh.attachEvent("onpropertychange",JD)):e==="focusout"&&oA()}function M5(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Sg(xh)}function F5(e,t){if(e==="click")return Sg(t)}function U5(e,t){if(e==="input"||e==="change")return Sg(t)}function j5(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var xi=typeof Object.is=="function"?Object.is:j5;function Oh(e,t){if(xi(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ME.call(t,i)||!xi(e[i],t[i]))return!1}return!0}function sA(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function aA(e,t){var n=sA(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=sA(n)}}function ZD(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ZD(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function eL(){for(var e=window,t=im();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=im(e.document)}return t}function iT(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function V5(e){var t=eL(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ZD(n.ownerDocument.documentElement,n)){if(r!==null&&iT(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=aA(n,s);var a=aA(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var B5=Po&&"documentMode"in document&&11>=document.documentMode,vl=null,t1=null,sh=null,n1=!1;function uA(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;n1||vl==null||vl!==im(r)||(r=vl,"selectionStart"in r&&iT(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),sh&&Oh(sh,r)||(sh=r,r=fm(t1,"onSelect"),0<r.length&&(t=new tT("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vl)))}function lv(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ml={animationend:lv("Animation","AnimationEnd"),animationiteration:lv("Animation","AnimationIteration"),animationstart:lv("Animation","AnimationStart"),transitionend:lv("Transition","TransitionEnd")},Ow={},tL={};Po&&(tL=document.createElement("div").style,"AnimationEvent"in window||(delete ml.animationend.animation,delete ml.animationiteration.animation,delete ml.animationstart.animation),"TransitionEvent"in window||delete ml.transitionend.transition);function Cg(e){if(Ow[e])return Ow[e];if(!ml[e])return e;var t=ml[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in tL)return Ow[e]=t[n];return e}var nL=Cg("animationend"),rL=Cg("animationiteration"),iL=Cg("animationstart"),oL=Cg("transitionend"),sL=new Map,lA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zs(e,t){sL.set(e,t),gu(t,[e])}for(var Dw=0;Dw<lA.length;Dw++){var Lw=lA[Dw],$5=Lw.toLowerCase(),z5=Lw[0].toUpperCase()+Lw.slice(1);zs($5,"on"+z5)}zs(nL,"onAnimationEnd");zs(rL,"onAnimationIteration");zs(iL,"onAnimationStart");zs("dblclick","onDoubleClick");zs("focusin","onFocus");zs("focusout","onBlur");zs(oL,"onTransitionEnd");Vl("onMouseEnter",["mouseout","mouseover"]);Vl("onMouseLeave",["mouseout","mouseover"]);Vl("onPointerEnter",["pointerout","pointerover"]);Vl("onPointerLeave",["pointerout","pointerover"]);gu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));gu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));gu("onBeforeInput",["compositionend","keypress","textInput","paste"]);gu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));gu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));gu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),q5=new Set("cancel close invalid load scroll toggle".split(" ").concat(Jf));function cA(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,$z(r,t,void 0,e),e.currentTarget=null}function aL(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,h=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;cA(i,l,h),s=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,h=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;cA(i,l,h),s=c}}}if(sm)throw e=XE,sm=!1,XE=null,e}function st(e,t){var n=t[a1];n===void 0&&(n=t[a1]=new Set);var r=e+"__bubble";n.has(r)||(uL(t,e,2,!1),n.add(r))}function Mw(e,t,n){var r=0;t&&(r|=4),uL(n,e,r,t)}var cv="_reactListening"+Math.random().toString(36).slice(2);function Dh(e){if(!e[cv]){e[cv]=!0,vD.forEach(function(n){n!=="selectionchange"&&(q5.has(n)||Mw(n,!1,e),Mw(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[cv]||(t[cv]=!0,Mw("selectionchange",!1,t))}}function uL(e,t,n,r){switch(WD(t)){case 1:var i=i5;break;case 4:i=o5;break;default:i=Zb}n=i.bind(null,t,n,e),i=void 0,!YE||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Fw(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;l!==null;){if(a=Oa(l),a===null)return;if(c=a.tag,c===5||c===6){r=s=a;continue e}l=l.parentNode}}r=r.return}PD(function(){var h=s,d=Qb(n),v=[];e:{var m=sL.get(e);if(m!==void 0){var y=tT,_=e;switch(e){case"keypress":if(Vv(n)===0)break e;case"keydown":case"keyup":y=w5;break;case"focusin":_="focus",y=Aw;break;case"focusout":_="blur",y=Aw;break;case"beforeblur":case"afterblur":y=Aw;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=JR;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=u5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=T5;break;case nL:case rL:case iL:y=f5;break;case oL:y=S5;break;case"scroll":y=s5;break;case"wheel":y=k5;break;case"copy":case"cut":case"paste":y=d5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=eA}var E=(t&4)!==0,S=!E&&e==="scroll",b=E?m!==null?m+"Capture":null:m;E=[];for(var I=h,k;I!==null;){k=I;var C=k.stateNode;if(k.tag===5&&C!==null&&(k=C,b!==null&&(C=Nh(I,b),C!=null&&E.push(Lh(I,C,k)))),S)break;I=I.return}0<E.length&&(m=new y(m,_,null,n,d),v.push({event:m,listeners:E}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",m&&n!==GE&&(_=n.relatedTarget||n.fromElement)&&(Oa(_)||_[xo]))break e;if((y||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,y?(_=n.relatedTarget||n.toElement,y=h,_=_?Oa(_):null,_!==null&&(S=yu(_),_!==S||_.tag!==5&&_.tag!==6)&&(_=null)):(y=null,_=h),y!==_)){if(E=JR,C="onMouseLeave",b="onMouseEnter",I="mouse",(e==="pointerout"||e==="pointerover")&&(E=eA,C="onPointerLeave",b="onPointerEnter",I="pointer"),S=y==null?m:gl(y),k=_==null?m:gl(_),m=new E(C,I+"leave",y,n,d),m.target=S,m.relatedTarget=k,C=null,Oa(d)===h&&(E=new E(b,I+"enter",_,n,d),E.target=k,E.relatedTarget=S,C=E),S=C,y&&_)t:{for(E=y,b=_,I=0,k=E;k;k=il(k))I++;for(k=0,C=b;C;C=il(C))k++;for(;0<I-k;)E=il(E),I--;for(;0<k-I;)b=il(b),k--;for(;I--;){if(E===b||b!==null&&E===b.alternate)break t;E=il(E),b=il(b)}E=null}else E=null;y!==null&&fA(v,m,y,E,!1),_!==null&&S!==null&&fA(v,S,_,E,!0)}}e:{if(m=h?gl(h):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var x=D5;else if(rA(m))if(XD)x=U5;else{x=M5;var O=L5}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(x=F5);if(x&&(x=x(e,h))){YD(v,x,n,d);break e}O&&O(e,m,h),e==="focusout"&&(O=m._wrapperState)&&O.controlled&&m.type==="number"&&zE(m,"number",m.value)}switch(O=h?gl(h):window,e){case"focusin":(rA(O)||O.contentEditable==="true")&&(vl=O,t1=h,sh=null);break;case"focusout":sh=t1=vl=null;break;case"mousedown":n1=!0;break;case"contextmenu":case"mouseup":case"dragend":n1=!1,uA(v,n,d);break;case"selectionchange":if(B5)break;case"keydown":case"keyup":uA(v,n,d)}var V;if(rT)e:{switch(e){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else pl?GD(e,n)&&(M="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(M="onCompositionStart");M&&(KD&&n.locale!=="ko"&&(pl||M!=="onCompositionStart"?M==="onCompositionEnd"&&pl&&(V=HD()):(ps=d,eT="value"in ps?ps.value:ps.textContent,pl=!0)),O=fm(h,M),0<O.length&&(M=new ZR(M,e,null,n,d),v.push({event:M,listeners:O}),V?M.data=V:(V=QD(n),V!==null&&(M.data=V)))),(V=R5?A5(e,n):P5(e,n))&&(h=fm(h,"onBeforeInput"),0<h.length&&(d=new ZR("onBeforeInput","beforeinput",null,n,d),v.push({event:d,listeners:h}),d.data=V))}aL(v,t)})}function Lh(e,t,n){return{instance:e,listener:t,currentTarget:n}}function fm(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Nh(e,n),s!=null&&r.unshift(Lh(e,s,i)),s=Nh(e,t),s!=null&&r.push(Lh(e,s,i))),e=e.return}return r}function il(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function fA(e,t,n,r,i){for(var s=t._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,h=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&h!==null&&(l=h,i?(c=Nh(n,s),c!=null&&a.unshift(Lh(n,c,l))):i||(c=Nh(n,s),c!=null&&a.push(Lh(n,c,l)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var W5=/\r\n?/g,H5=/\u0000|\uFFFD/g;function hA(e){return(typeof e=="string"?e:""+e).replace(W5,`
`).replace(H5,"")}function fv(e,t,n){if(t=hA(t),hA(e)!==t&&n)throw Error(K(425))}function hm(){}var r1=null,i1=null;function o1(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var s1=typeof setTimeout=="function"?setTimeout:void 0,K5=typeof clearTimeout=="function"?clearTimeout:void 0,dA=typeof Promise=="function"?Promise:void 0,G5=typeof queueMicrotask=="function"?queueMicrotask:typeof dA<"u"?function(e){return dA.resolve(null).then(e).catch(Q5)}:s1;function Q5(e){setTimeout(function(){throw e})}function Uw(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Ph(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ph(t)}function bs(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function pA(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ec=Math.random().toString(36).slice(2),Hi="__reactFiber$"+Ec,Mh="__reactProps$"+Ec,xo="__reactContainer$"+Ec,a1="__reactEvents$"+Ec,Y5="__reactListeners$"+Ec,X5="__reactHandles$"+Ec;function Oa(e){var t=e[Hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[xo]||n[Hi]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=pA(e);e!==null;){if(n=e[Hi])return n;e=pA(e)}return t}e=n,n=e.parentNode}return null}function Ed(e){return e=e[Hi]||e[xo],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function gl(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(K(33))}function kg(e){return e[Mh]||null}var u1=[],yl=-1;function qs(e){return{current:e}}function ut(e){0>yl||(e.current=u1[yl],u1[yl]=null,yl--)}function it(e,t){yl++,u1[yl]=e.current,e.current=t}var Ds={},Fn=qs(Ds),dr=qs(!1),Ja=Ds;function Bl(e,t){var n=e.type.contextTypes;if(!n)return Ds;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function pr(e){return e=e.childContextTypes,e!=null}function dm(){ut(dr),ut(Fn)}function vA(e,t,n){if(Fn.current!==Ds)throw Error(K(168));it(Fn,t),it(dr,n)}function lL(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(K(108,Lz(e)||"Unknown",i));return Ct({},n,r)}function pm(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ds,Ja=Fn.current,it(Fn,e),it(dr,dr.current),!0}function mA(e,t,n){var r=e.stateNode;if(!r)throw Error(K(169));n?(e=lL(e,t,Ja),r.__reactInternalMemoizedMergedChildContext=e,ut(dr),ut(Fn),it(Fn,e)):ut(dr),it(dr,n)}var Eo=null,Ng=!1,jw=!1;function cL(e){Eo===null?Eo=[e]:Eo.push(e)}function J5(e){Ng=!0,cL(e)}function Ws(){if(!jw&&Eo!==null){jw=!0;var e=0,t=Xe;try{var n=Eo;for(Xe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Eo=null,Ng=!1}catch(i){throw Eo!==null&&(Eo=Eo.slice(e+1)),LD(Yb,Ws),i}finally{Xe=t,jw=!1}}return null}var _l=[],wl=0,vm=null,mm=0,Kr=[],Gr=0,Za=null,bo=1,To="";function Sa(e,t){_l[wl++]=mm,_l[wl++]=vm,vm=e,mm=t}function fL(e,t,n){Kr[Gr++]=bo,Kr[Gr++]=To,Kr[Gr++]=Za,Za=e;var r=bo;e=To;var i=32-Ni(r)-1;r&=~(1<<i),n+=1;var s=32-Ni(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,bo=1<<32-Ni(t)+i|n<<i|r,To=s+e}else bo=1<<s|n<<i|r,To=e}function oT(e){e.return!==null&&(Sa(e,1),fL(e,1,0))}function sT(e){for(;e===vm;)vm=_l[--wl],_l[wl]=null,mm=_l[--wl],_l[wl]=null;for(;e===Za;)Za=Kr[--Gr],Kr[Gr]=null,To=Kr[--Gr],Kr[Gr]=null,bo=Kr[--Gr],Kr[Gr]=null}var Pr=null,Nr=null,mt=!1,Ci=null;function hL(e,t){var n=Qr(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function gA(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Pr=e,Nr=bs(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Pr=e,Nr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Za!==null?{id:bo,overflow:To}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Qr(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Pr=e,Nr=null,!0):!1;default:return!1}}function l1(e){return(e.mode&1)!==0&&(e.flags&128)===0}function c1(e){if(mt){var t=Nr;if(t){var n=t;if(!gA(e,t)){if(l1(e))throw Error(K(418));t=bs(n.nextSibling);var r=Pr;t&&gA(e,t)?hL(r,n):(e.flags=e.flags&-4097|2,mt=!1,Pr=e)}}else{if(l1(e))throw Error(K(418));e.flags=e.flags&-4097|2,mt=!1,Pr=e}}}function yA(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Pr=e}function hv(e){if(e!==Pr)return!1;if(!mt)return yA(e),mt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!o1(e.type,e.memoizedProps)),t&&(t=Nr)){if(l1(e))throw dL(),Error(K(418));for(;t;)hL(e,t),t=bs(t.nextSibling)}if(yA(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(K(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Nr=bs(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Nr=null}}else Nr=Pr?bs(e.stateNode.nextSibling):null;return!0}function dL(){for(var e=Nr;e;)e=bs(e.nextSibling)}function $l(){Nr=Pr=null,mt=!1}function aT(e){Ci===null?Ci=[e]:Ci.push(e)}var Z5=jo.ReactCurrentBatchConfig;function bi(e,t){if(e&&e.defaultProps){t=Ct({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var gm=qs(null),ym=null,El=null,uT=null;function lT(){uT=El=ym=null}function cT(e){var t=gm.current;ut(gm),e._currentValue=t}function f1(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function xl(e,t){ym=e,uT=El=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(cr=!0),e.firstContext=null)}function ii(e){var t=e._currentValue;if(uT!==e)if(e={context:e,memoizedValue:t,next:null},El===null){if(ym===null)throw Error(K(308));El=e,ym.dependencies={lanes:0,firstContext:e}}else El=El.next=e;return t}var Da=null;function fT(e){Da===null?Da=[e]:Da.push(e)}function pL(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,fT(t)):(n.next=i.next,i.next=n),t.interleaved=n,Oo(e,r)}function Oo(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ss=!1;function hT(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vL(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Co(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ts(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Fe&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Oo(e,n)}return i=r.interleaved,i===null?(t.next=t,fT(r)):(t.next=i.next,i.next=t),r.interleaved=t,Oo(e,n)}function Bv(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Xb(e,n)}}function _A(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function _m(e,t,n,r){var i=e.updateQueue;ss=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,h=c.next;c.next=null,a===null?s=h:a.next=h,a=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=h:l.next=h,d.lastBaseUpdate=c))}if(s!==null){var v=i.baseState;a=0,d=h=c=null,l=s;do{var m=l.lane,y=l.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var _=e,E=l;switch(m=t,y=n,E.tag){case 1:if(_=E.payload,typeof _=="function"){v=_.call(y,v,m);break e}v=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=E.payload,m=typeof _=="function"?_.call(y,v,m):_,m==null)break e;v=Ct({},v,m);break e;case 2:ss=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else y={eventTime:y,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(h=d=y,c=v):d=d.next=y,a|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(1);if(d===null&&(c=v),i.baseState=c,i.firstBaseUpdate=h,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);tu|=a,e.lanes=a,e.memoizedState=v}}function wA(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(K(191,i));i.call(r)}}}var mL=new pD.Component().refs;function h1(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ct({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Rg={isMounted:function(e){return(e=e._reactInternals)?yu(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Yn(),i=Ss(e),s=Co(r,i);s.payload=t,n!=null&&(s.callback=n),t=Ts(e,s,i),t!==null&&(Ri(t,e,i,r),Bv(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Yn(),i=Ss(e),s=Co(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Ts(e,s,i),t!==null&&(Ri(t,e,i,r),Bv(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Yn(),r=Ss(e),i=Co(n,r);i.tag=2,t!=null&&(i.callback=t),t=Ts(e,i,r),t!==null&&(Ri(t,e,r,n),Bv(t,e,r))}};function EA(e,t,n,r,i,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,a):t.prototype&&t.prototype.isPureReactComponent?!Oh(n,r)||!Oh(i,s):!0}function gL(e,t,n){var r=!1,i=Ds,s=t.contextType;return typeof s=="object"&&s!==null?s=ii(s):(i=pr(t)?Ja:Fn.current,r=t.contextTypes,s=(r=r!=null)?Bl(e,i):Ds),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Rg,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function bA(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Rg.enqueueReplaceState(t,t.state,null)}function d1(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=mL,hT(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=ii(s):(s=pr(t)?Ja:Fn.current,i.context=Bl(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(h1(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Rg.enqueueReplaceState(i,i.state,null),_m(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Lf(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(K(309));var r=n.stateNode}if(!r)throw Error(K(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(a){var l=i.refs;l===mL&&(l=i.refs={}),a===null?delete l[s]:l[s]=a},t._stringRef=s,t)}if(typeof e!="string")throw Error(K(284));if(!n._owner)throw Error(K(290,e))}return e}function dv(e,t){throw e=Object.prototype.toString.call(t),Error(K(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function TA(e){var t=e._init;return t(e._payload)}function yL(e){function t(b,I){if(e){var k=b.deletions;k===null?(b.deletions=[I],b.flags|=16):k.push(I)}}function n(b,I){if(!e)return null;for(;I!==null;)t(b,I),I=I.sibling;return null}function r(b,I){for(b=new Map;I!==null;)I.key!==null?b.set(I.key,I):b.set(I.index,I),I=I.sibling;return b}function i(b,I){return b=Cs(b,I),b.index=0,b.sibling=null,b}function s(b,I,k){return b.index=k,e?(k=b.alternate,k!==null?(k=k.index,k<I?(b.flags|=2,I):k):(b.flags|=2,I)):(b.flags|=1048576,I)}function a(b){return e&&b.alternate===null&&(b.flags|=2),b}function l(b,I,k,C){return I===null||I.tag!==6?(I=Hw(k,b.mode,C),I.return=b,I):(I=i(I,k),I.return=b,I)}function c(b,I,k,C){var x=k.type;return x===dl?d(b,I,k.props.children,C,k.key):I!==null&&(I.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===os&&TA(x)===I.type)?(C=i(I,k.props),C.ref=Lf(b,I,k),C.return=b,C):(C=Kv(k.type,k.key,k.props,null,b.mode,C),C.ref=Lf(b,I,k),C.return=b,C)}function h(b,I,k,C){return I===null||I.tag!==4||I.stateNode.containerInfo!==k.containerInfo||I.stateNode.implementation!==k.implementation?(I=Kw(k,b.mode,C),I.return=b,I):(I=i(I,k.children||[]),I.return=b,I)}function d(b,I,k,C,x){return I===null||I.tag!==7?(I=qa(k,b.mode,C,x),I.return=b,I):(I=i(I,k),I.return=b,I)}function v(b,I,k){if(typeof I=="string"&&I!==""||typeof I=="number")return I=Hw(""+I,b.mode,k),I.return=b,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case nv:return k=Kv(I.type,I.key,I.props,null,b.mode,k),k.ref=Lf(b,null,I),k.return=b,k;case hl:return I=Kw(I,b.mode,k),I.return=b,I;case os:var C=I._init;return v(b,C(I._payload),k)}if(Yf(I)||Af(I))return I=qa(I,b.mode,k,null),I.return=b,I;dv(b,I)}return null}function m(b,I,k,C){var x=I!==null?I.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return x!==null?null:l(b,I,""+k,C);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case nv:return k.key===x?c(b,I,k,C):null;case hl:return k.key===x?h(b,I,k,C):null;case os:return x=k._init,m(b,I,x(k._payload),C)}if(Yf(k)||Af(k))return x!==null?null:d(b,I,k,C,null);dv(b,k)}return null}function y(b,I,k,C,x){if(typeof C=="string"&&C!==""||typeof C=="number")return b=b.get(k)||null,l(I,b,""+C,x);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case nv:return b=b.get(C.key===null?k:C.key)||null,c(I,b,C,x);case hl:return b=b.get(C.key===null?k:C.key)||null,h(I,b,C,x);case os:var O=C._init;return y(b,I,k,O(C._payload),x)}if(Yf(C)||Af(C))return b=b.get(k)||null,d(I,b,C,x,null);dv(I,C)}return null}function _(b,I,k,C){for(var x=null,O=null,V=I,M=I=0,te=null;V!==null&&M<k.length;M++){V.index>M?(te=V,V=null):te=V.sibling;var R=m(b,V,k[M],C);if(R===null){V===null&&(V=te);break}e&&V&&R.alternate===null&&t(b,V),I=s(R,I,M),O===null?x=R:O.sibling=R,O=R,V=te}if(M===k.length)return n(b,V),mt&&Sa(b,M),x;if(V===null){for(;M<k.length;M++)V=v(b,k[M],C),V!==null&&(I=s(V,I,M),O===null?x=V:O.sibling=V,O=V);return mt&&Sa(b,M),x}for(V=r(b,V);M<k.length;M++)te=y(V,b,M,k[M],C),te!==null&&(e&&te.alternate!==null&&V.delete(te.key===null?M:te.key),I=s(te,I,M),O===null?x=te:O.sibling=te,O=te);return e&&V.forEach(function(ze){return t(b,ze)}),mt&&Sa(b,M),x}function E(b,I,k,C){var x=Af(k);if(typeof x!="function")throw Error(K(150));if(k=x.call(k),k==null)throw Error(K(151));for(var O=x=null,V=I,M=I=0,te=null,R=k.next();V!==null&&!R.done;M++,R=k.next()){V.index>M?(te=V,V=null):te=V.sibling;var ze=m(b,V,R.value,C);if(ze===null){V===null&&(V=te);break}e&&V&&ze.alternate===null&&t(b,V),I=s(ze,I,M),O===null?x=ze:O.sibling=ze,O=ze,V=te}if(R.done)return n(b,V),mt&&Sa(b,M),x;if(V===null){for(;!R.done;M++,R=k.next())R=v(b,R.value,C),R!==null&&(I=s(R,I,M),O===null?x=R:O.sibling=R,O=R);return mt&&Sa(b,M),x}for(V=r(b,V);!R.done;M++,R=k.next())R=y(V,b,M,R.value,C),R!==null&&(e&&R.alternate!==null&&V.delete(R.key===null?M:R.key),I=s(R,I,M),O===null?x=R:O.sibling=R,O=R);return e&&V.forEach(function(me){return t(b,me)}),mt&&Sa(b,M),x}function S(b,I,k,C){if(typeof k=="object"&&k!==null&&k.type===dl&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case nv:e:{for(var x=k.key,O=I;O!==null;){if(O.key===x){if(x=k.type,x===dl){if(O.tag===7){n(b,O.sibling),I=i(O,k.props.children),I.return=b,b=I;break e}}else if(O.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===os&&TA(x)===O.type){n(b,O.sibling),I=i(O,k.props),I.ref=Lf(b,O,k),I.return=b,b=I;break e}n(b,O);break}else t(b,O);O=O.sibling}k.type===dl?(I=qa(k.props.children,b.mode,C,k.key),I.return=b,b=I):(C=Kv(k.type,k.key,k.props,null,b.mode,C),C.ref=Lf(b,I,k),C.return=b,b=C)}return a(b);case hl:e:{for(O=k.key;I!==null;){if(I.key===O)if(I.tag===4&&I.stateNode.containerInfo===k.containerInfo&&I.stateNode.implementation===k.implementation){n(b,I.sibling),I=i(I,k.children||[]),I.return=b,b=I;break e}else{n(b,I);break}else t(b,I);I=I.sibling}I=Kw(k,b.mode,C),I.return=b,b=I}return a(b);case os:return O=k._init,S(b,I,O(k._payload),C)}if(Yf(k))return _(b,I,k,C);if(Af(k))return E(b,I,k,C);dv(b,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,I!==null&&I.tag===6?(n(b,I.sibling),I=i(I,k),I.return=b,b=I):(n(b,I),I=Hw(k,b.mode,C),I.return=b,b=I),a(b)):n(b,I)}return S}var zl=yL(!0),_L=yL(!1),bd={},Qi=qs(bd),Fh=qs(bd),Uh=qs(bd);function La(e){if(e===bd)throw Error(K(174));return e}function dT(e,t){switch(it(Uh,t),it(Fh,e),it(Qi,bd),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:WE(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=WE(t,e)}ut(Qi),it(Qi,t)}function ql(){ut(Qi),ut(Fh),ut(Uh)}function wL(e){La(Uh.current);var t=La(Qi.current),n=WE(t,e.type);t!==n&&(it(Fh,e),it(Qi,n))}function pT(e){Fh.current===e&&(ut(Qi),ut(Fh))}var bt=qs(0);function wm(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Vw=[];function vT(){for(var e=0;e<Vw.length;e++)Vw[e]._workInProgressVersionPrimary=null;Vw.length=0}var $v=jo.ReactCurrentDispatcher,Bw=jo.ReactCurrentBatchConfig,eu=0,St=null,Yt=null,un=null,Em=!1,ah=!1,jh=0,eq=0;function Cn(){throw Error(K(321))}function mT(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!xi(e[n],t[n]))return!1;return!0}function gT(e,t,n,r,i,s){if(eu=s,St=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$v.current=e===null||e.memoizedState===null?iq:oq,e=n(r,i),ah){s=0;do{if(ah=!1,jh=0,25<=s)throw Error(K(301));s+=1,un=Yt=null,t.updateQueue=null,$v.current=sq,e=n(r,i)}while(ah)}if($v.current=bm,t=Yt!==null&&Yt.next!==null,eu=0,un=Yt=St=null,Em=!1,t)throw Error(K(300));return e}function yT(){var e=jh!==0;return jh=0,e}function qi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return un===null?St.memoizedState=un=e:un=un.next=e,un}function oi(){if(Yt===null){var e=St.alternate;e=e!==null?e.memoizedState:null}else e=Yt.next;var t=un===null?St.memoizedState:un.next;if(t!==null)un=t,Yt=e;else{if(e===null)throw Error(K(310));Yt=e,e={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},un===null?St.memoizedState=un=e:un=un.next=e}return un}function Vh(e,t){return typeof t=="function"?t(e):t}function $w(e){var t=oi(),n=t.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=e;var r=Yt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=a=null,c=null,h=s;do{var d=h.lane;if((eu&d)===d)c!==null&&(c=c.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:e(r,h.action);else{var v={lane:d,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};c===null?(l=c=v,a=r):c=c.next=v,St.lanes|=d,tu|=d}h=h.next}while(h!==null&&h!==s);c===null?a=r:c.next=l,xi(r,t.memoizedState)||(cr=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,St.lanes|=s,tu|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function zw(e){var t=oi(),n=t.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=e(s,a.action),a=a.next;while(a!==i);xi(s,t.memoizedState)||(cr=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function EL(){}function bL(e,t){var n=St,r=oi(),i=t(),s=!xi(r.memoizedState,i);if(s&&(r.memoizedState=i,cr=!0),r=r.queue,_T(SL.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||un!==null&&un.memoizedState.tag&1){if(n.flags|=2048,Bh(9,IL.bind(null,n,r,i,t),void 0,null),dn===null)throw Error(K(349));eu&30||TL(n,t,i)}return i}function TL(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=St.updateQueue,t===null?(t={lastEffect:null,stores:null},St.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function IL(e,t,n,r){t.value=n,t.getSnapshot=r,CL(t)&&kL(e)}function SL(e,t,n){return n(function(){CL(t)&&kL(e)})}function CL(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!xi(e,n)}catch{return!0}}function kL(e){var t=Oo(e,1);t!==null&&Ri(t,e,1,-1)}function IA(e){var t=qi();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:e},t.queue=e,e=e.dispatch=rq.bind(null,St,e),[t.memoizedState,e]}function Bh(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=St.updateQueue,t===null?(t={lastEffect:null,stores:null},St.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function NL(){return oi().memoizedState}function zv(e,t,n,r){var i=qi();St.flags|=e,i.memoizedState=Bh(1|t,n,void 0,r===void 0?null:r)}function Ag(e,t,n,r){var i=oi();r=r===void 0?null:r;var s=void 0;if(Yt!==null){var a=Yt.memoizedState;if(s=a.destroy,r!==null&&mT(r,a.deps)){i.memoizedState=Bh(t,n,s,r);return}}St.flags|=e,i.memoizedState=Bh(1|t,n,s,r)}function SA(e,t){return zv(8390656,8,e,t)}function _T(e,t){return Ag(2048,8,e,t)}function RL(e,t){return Ag(4,2,e,t)}function AL(e,t){return Ag(4,4,e,t)}function PL(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function xL(e,t,n){return n=n!=null?n.concat([e]):null,Ag(4,4,PL.bind(null,t,e),n)}function wT(){}function OL(e,t){var n=oi();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&mT(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function DL(e,t){var n=oi();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&mT(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function LL(e,t,n){return eu&21?(xi(n,t)||(n=UD(),St.lanes|=n,tu|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,cr=!0),e.memoizedState=n)}function tq(e,t){var n=Xe;Xe=n!==0&&4>n?n:4,e(!0);var r=Bw.transition;Bw.transition={};try{e(!1),t()}finally{Xe=n,Bw.transition=r}}function ML(){return oi().memoizedState}function nq(e,t,n){var r=Ss(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},FL(e))UL(t,n);else if(n=pL(e,t,n,r),n!==null){var i=Yn();Ri(n,e,r,i),jL(n,t,r)}}function rq(e,t,n){var r=Ss(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(FL(e))UL(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,l=s(a,n);if(i.hasEagerState=!0,i.eagerState=l,xi(l,a)){var c=t.interleaved;c===null?(i.next=i,fT(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}n=pL(e,t,i,r),n!==null&&(i=Yn(),Ri(n,e,r,i),jL(n,t,r))}}function FL(e){var t=e.alternate;return e===St||t!==null&&t===St}function UL(e,t){ah=Em=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function jL(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Xb(e,n)}}var bm={readContext:ii,useCallback:Cn,useContext:Cn,useEffect:Cn,useImperativeHandle:Cn,useInsertionEffect:Cn,useLayoutEffect:Cn,useMemo:Cn,useReducer:Cn,useRef:Cn,useState:Cn,useDebugValue:Cn,useDeferredValue:Cn,useTransition:Cn,useMutableSource:Cn,useSyncExternalStore:Cn,useId:Cn,unstable_isNewReconciler:!1},iq={readContext:ii,useCallback:function(e,t){return qi().memoizedState=[e,t===void 0?null:t],e},useContext:ii,useEffect:SA,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,zv(4194308,4,PL.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zv(4194308,4,e,t)},useInsertionEffect:function(e,t){return zv(4,2,e,t)},useMemo:function(e,t){var n=qi();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=qi();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=nq.bind(null,St,e),[r.memoizedState,e]},useRef:function(e){var t=qi();return e={current:e},t.memoizedState=e},useState:IA,useDebugValue:wT,useDeferredValue:function(e){return qi().memoizedState=e},useTransition:function(){var e=IA(!1),t=e[0];return e=tq.bind(null,e[1]),qi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=St,i=qi();if(mt){if(n===void 0)throw Error(K(407));n=n()}else{if(n=t(),dn===null)throw Error(K(349));eu&30||TL(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,SA(SL.bind(null,r,s,e),[e]),r.flags|=2048,Bh(9,IL.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=qi(),t=dn.identifierPrefix;if(mt){var n=To,r=bo;n=(r&~(1<<32-Ni(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=jh++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=eq++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},oq={readContext:ii,useCallback:OL,useContext:ii,useEffect:_T,useImperativeHandle:xL,useInsertionEffect:RL,useLayoutEffect:AL,useMemo:DL,useReducer:$w,useRef:NL,useState:function(){return $w(Vh)},useDebugValue:wT,useDeferredValue:function(e){var t=oi();return LL(t,Yt.memoizedState,e)},useTransition:function(){var e=$w(Vh)[0],t=oi().memoizedState;return[e,t]},useMutableSource:EL,useSyncExternalStore:bL,useId:ML,unstable_isNewReconciler:!1},sq={readContext:ii,useCallback:OL,useContext:ii,useEffect:_T,useImperativeHandle:xL,useInsertionEffect:RL,useLayoutEffect:AL,useMemo:DL,useReducer:zw,useRef:NL,useState:function(){return zw(Vh)},useDebugValue:wT,useDeferredValue:function(e){var t=oi();return Yt===null?t.memoizedState=e:LL(t,Yt.memoizedState,e)},useTransition:function(){var e=zw(Vh)[0],t=oi().memoizedState;return[e,t]},useMutableSource:EL,useSyncExternalStore:bL,useId:ML,unstable_isNewReconciler:!1};function Wl(e,t){try{var n="",r=t;do n+=Dz(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function qw(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function p1(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var aq=typeof WeakMap=="function"?WeakMap:Map;function VL(e,t,n){n=Co(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Im||(Im=!0,I1=r),p1(e,t)},n}function BL(e,t,n){n=Co(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){p1(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){p1(e,t),typeof r!="function"&&(Is===null?Is=new Set([this]):Is.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function CA(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new aq;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Eq.bind(null,e,t,n),t.then(e,e))}function kA(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function NA(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Co(-1,1),t.tag=2,Ts(n,t,1))),n.lanes|=1),e)}var uq=jo.ReactCurrentOwner,cr=!1;function zn(e,t,n,r){t.child=e===null?_L(t,null,n,r):zl(t,e.child,n,r)}function RA(e,t,n,r,i){n=n.render;var s=t.ref;return xl(t,i),r=gT(e,t,n,r,s,i),n=yT(),e!==null&&!cr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Do(e,t,i)):(mt&&n&&oT(t),t.flags|=1,zn(e,t,r,i),t.child)}function AA(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!NT(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,$L(e,t,s,r,i)):(e=Kv(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Oh,n(a,r)&&e.ref===t.ref)return Do(e,t,i)}return t.flags|=1,e=Cs(s,r),e.ref=t.ref,e.return=t,t.child=e}function $L(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Oh(s,r)&&e.ref===t.ref)if(cr=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(cr=!0);else return t.lanes=e.lanes,Do(e,t,i)}return v1(e,t,n,r,i)}function zL(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},it(Tl,Ir),Ir|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,it(Tl,Ir),Ir|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,it(Tl,Ir),Ir|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,it(Tl,Ir),Ir|=r;return zn(e,t,i,n),t.child}function qL(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function v1(e,t,n,r,i){var s=pr(n)?Ja:Fn.current;return s=Bl(t,s),xl(t,i),n=gT(e,t,n,r,s,i),r=yT(),e!==null&&!cr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Do(e,t,i)):(mt&&r&&oT(t),t.flags|=1,zn(e,t,n,i),t.child)}function PA(e,t,n,r,i){if(pr(n)){var s=!0;pm(t)}else s=!1;if(xl(t,i),t.stateNode===null)qv(e,t),gL(t,n,r),d1(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,h=n.contextType;typeof h=="object"&&h!==null?h=ii(h):(h=pr(n)?Ja:Fn.current,h=Bl(t,h));var d=n.getDerivedStateFromProps,v=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";v||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==h)&&bA(t,a,r,h),ss=!1;var m=t.memoizedState;a.state=m,_m(t,r,a,i),c=t.memoizedState,l!==r||m!==c||dr.current||ss?(typeof d=="function"&&(h1(t,n,d,r),c=t.memoizedState),(l=ss||EA(t,n,l,r,m,c,h))?(v||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=h,r=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,vL(e,t),l=t.memoizedProps,h=t.type===t.elementType?l:bi(t.type,l),a.props=h,v=t.pendingProps,m=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=ii(c):(c=pr(n)?Ja:Fn.current,c=Bl(t,c));var y=n.getDerivedStateFromProps;(d=typeof y=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==v||m!==c)&&bA(t,a,r,c),ss=!1,m=t.memoizedState,a.state=m,_m(t,r,a,i);var _=t.memoizedState;l!==v||m!==_||dr.current||ss?(typeof y=="function"&&(h1(t,n,y,r),_=t.memoizedState),(h=ss||EA(t,n,h,r,m,_,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,_,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,_,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=_),a.props=r,a.state=_,a.context=c,r=h):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return m1(e,t,n,r,s,i)}function m1(e,t,n,r,i,s){qL(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&mA(t,n,!1),Do(e,t,s);r=t.stateNode,uq.current=t;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=zl(t,e.child,null,s),t.child=zl(t,null,l,s)):zn(e,t,l,s),t.memoizedState=r.state,i&&mA(t,n,!0),t.child}function WL(e){var t=e.stateNode;t.pendingContext?vA(e,t.pendingContext,t.pendingContext!==t.context):t.context&&vA(e,t.context,!1),dT(e,t.containerInfo)}function xA(e,t,n,r,i){return $l(),aT(i),t.flags|=256,zn(e,t,n,r),t.child}var g1={dehydrated:null,treeContext:null,retryLane:0};function y1(e){return{baseLanes:e,cachePool:null,transitions:null}}function HL(e,t,n){var r=t.pendingProps,i=bt.current,s=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),it(bt,i&1),e===null)return c1(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,s?(r=t.mode,s=t.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Og(a,r,0,null),e=qa(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=y1(n),t.memoizedState=g1,e):ET(t,a));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return lq(e,t,a,r,l,i,n);if(s){s=r.fallback,a=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Cs(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Cs(l,s):(s=qa(s,a,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,a=e.child.memoizedState,a=a===null?y1(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=e.childLanes&~n,t.memoizedState=g1,r}return s=e.child,e=s.sibling,r=Cs(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function ET(e,t){return t=Og({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function pv(e,t,n,r){return r!==null&&aT(r),zl(t,e.child,null,n),e=ET(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function lq(e,t,n,r,i,s,a){if(n)return t.flags&256?(t.flags&=-257,r=qw(Error(K(422))),pv(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Og({mode:"visible",children:r.children},i,0,null),s=qa(s,i,a,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&zl(t,e.child,null,a),t.child.memoizedState=y1(a),t.memoizedState=g1,s);if(!(t.mode&1))return pv(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(K(419)),r=qw(s,r,void 0),pv(e,t,a,r)}if(l=(a&e.childLanes)!==0,cr||l){if(r=dn,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Oo(e,i),Ri(r,e,i,-1))}return kT(),r=qw(Error(K(421))),pv(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=bq.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Nr=bs(i.nextSibling),Pr=t,mt=!0,Ci=null,e!==null&&(Kr[Gr++]=bo,Kr[Gr++]=To,Kr[Gr++]=Za,bo=e.id,To=e.overflow,Za=t),t=ET(t,r.children),t.flags|=4096,t)}function OA(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),f1(e.return,t,n)}function Ww(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function KL(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(zn(e,t,r.children,n),r=bt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&OA(e,n,t);else if(e.tag===19)OA(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(it(bt,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&wm(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ww(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&wm(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ww(t,!0,n,null,s);break;case"together":Ww(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qv(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Do(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),tu|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(K(153));if(t.child!==null){for(e=t.child,n=Cs(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Cs(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function cq(e,t,n){switch(t.tag){case 3:WL(t),$l();break;case 5:wL(t);break;case 1:pr(t.type)&&pm(t);break;case 4:dT(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;it(gm,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(it(bt,bt.current&1),t.flags|=128,null):n&t.child.childLanes?HL(e,t,n):(it(bt,bt.current&1),e=Do(e,t,n),e!==null?e.sibling:null);it(bt,bt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return KL(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),it(bt,bt.current),r)break;return null;case 22:case 23:return t.lanes=0,zL(e,t,n)}return Do(e,t,n)}var GL,_1,QL,YL;GL=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};_1=function(){};QL=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,La(Qi.current);var s=null;switch(n){case"input":i=BE(e,i),r=BE(e,r),s=[];break;case"select":i=Ct({},i,{value:void 0}),r=Ct({},r,{value:void 0}),s=[];break;case"textarea":i=qE(e,i),r=qE(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=hm)}HE(n,r);var a;n=null;for(h in i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var l=i[h];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Ch.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var c=r[h];if(l=i!=null?i[h]:void 0,r.hasOwnProperty(h)&&c!==l&&(c!=null||l!=null))if(h==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(h,n)),n=c;else h==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(h,c)):h==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(h,""+c):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Ch.hasOwnProperty(h)?(c!=null&&h==="onScroll"&&st("scroll",e),s||l===c||(s=[])):(s=s||[]).push(h,c))}n&&(s=s||[]).push("style",n);var h=s;(t.updateQueue=h)&&(t.flags|=4)}};YL=function(e,t,n,r){n!==r&&(t.flags|=4)};function Mf(e,t){if(!mt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function kn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function fq(e,t,n){var r=t.pendingProps;switch(sT(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kn(t),null;case 1:return pr(t.type)&&dm(),kn(t),null;case 3:return r=t.stateNode,ql(),ut(dr),ut(Fn),vT(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(hv(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ci!==null&&(k1(Ci),Ci=null))),_1(e,t),kn(t),null;case 5:pT(t);var i=La(Uh.current);if(n=t.type,e!==null&&t.stateNode!=null)QL(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(K(166));return kn(t),null}if(e=La(Qi.current),hv(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Hi]=t,r[Mh]=s,e=(t.mode&1)!==0,n){case"dialog":st("cancel",r),st("close",r);break;case"iframe":case"object":case"embed":st("load",r);break;case"video":case"audio":for(i=0;i<Jf.length;i++)st(Jf[i],r);break;case"source":st("error",r);break;case"img":case"image":case"link":st("error",r),st("load",r);break;case"details":st("toggle",r);break;case"input":$R(r,s),st("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},st("invalid",r);break;case"textarea":qR(r,s),st("invalid",r)}HE(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&fv(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&fv(r.textContent,l,e),i=["children",""+l]):Ch.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&st("scroll",r)}switch(n){case"input":rv(r),zR(r,s,!0);break;case"textarea":rv(r),WR(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=hm)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=TD(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Hi]=t,e[Mh]=r,GL(e,t,!1,!1),t.stateNode=e;e:{switch(a=KE(n,r),n){case"dialog":st("cancel",e),st("close",e),i=r;break;case"iframe":case"object":case"embed":st("load",e),i=r;break;case"video":case"audio":for(i=0;i<Jf.length;i++)st(Jf[i],e);i=r;break;case"source":st("error",e),i=r;break;case"img":case"image":case"link":st("error",e),st("load",e),i=r;break;case"details":st("toggle",e),i=r;break;case"input":$R(e,r),i=BE(e,r),st("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Ct({},r,{value:void 0}),st("invalid",e);break;case"textarea":qR(e,r),i=qE(e,r),st("invalid",e);break;default:i=r}HE(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?CD(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&ID(e,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&kh(e,c):typeof c=="number"&&kh(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ch.hasOwnProperty(s)?c!=null&&s==="onScroll"&&st("scroll",e):c!=null&&Wb(e,s,c,a))}switch(n){case"input":rv(e),zR(e,r,!1);break;case"textarea":rv(e),WR(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Os(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Nl(e,!!r.multiple,s,!1):r.defaultValue!=null&&Nl(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=hm)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return kn(t),null;case 6:if(e&&t.stateNode!=null)YL(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(K(166));if(n=La(Uh.current),La(Qi.current),hv(t)){if(r=t.stateNode,n=t.memoizedProps,r[Hi]=t,(s=r.nodeValue!==n)&&(e=Pr,e!==null))switch(e.tag){case 3:fv(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&fv(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Hi]=t,t.stateNode=r}return kn(t),null;case 13:if(ut(bt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(mt&&Nr!==null&&t.mode&1&&!(t.flags&128))dL(),$l(),t.flags|=98560,s=!1;else if(s=hv(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(K(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(K(317));s[Hi]=t}else $l(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;kn(t),s=!1}else Ci!==null&&(k1(Ci),Ci=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||bt.current&1?Jt===0&&(Jt=3):kT())),t.updateQueue!==null&&(t.flags|=4),kn(t),null);case 4:return ql(),_1(e,t),e===null&&Dh(t.stateNode.containerInfo),kn(t),null;case 10:return cT(t.type._context),kn(t),null;case 17:return pr(t.type)&&dm(),kn(t),null;case 19:if(ut(bt),s=t.memoizedState,s===null)return kn(t),null;if(r=(t.flags&128)!==0,a=s.rendering,a===null)if(r)Mf(s,!1);else{if(Jt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=wm(e),a!==null){for(t.flags|=128,Mf(s,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,e=a.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return it(bt,bt.current&1|2),t.child}e=e.sibling}s.tail!==null&&Mt()>Hl&&(t.flags|=128,r=!0,Mf(s,!1),t.lanes=4194304)}else{if(!r)if(e=wm(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Mf(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!mt)return kn(t),null}else 2*Mt()-s.renderingStartTime>Hl&&n!==1073741824&&(t.flags|=128,r=!0,Mf(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(n=s.last,n!==null?n.sibling=a:t.child=a,s.last=a)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Mt(),t.sibling=null,n=bt.current,it(bt,r?n&1|2:n&1),t):(kn(t),null);case 22:case 23:return CT(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ir&1073741824&&(kn(t),t.subtreeFlags&6&&(t.flags|=8192)):kn(t),null;case 24:return null;case 25:return null}throw Error(K(156,t.tag))}function hq(e,t){switch(sT(t),t.tag){case 1:return pr(t.type)&&dm(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ql(),ut(dr),ut(Fn),vT(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return pT(t),null;case 13:if(ut(bt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(K(340));$l()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ut(bt),null;case 4:return ql(),null;case 10:return cT(t.type._context),null;case 22:case 23:return CT(),null;case 24:return null;default:return null}}var vv=!1,An=!1,dq=typeof WeakSet=="function"?WeakSet:Set,Z=null;function bl(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){At(e,t,r)}else n.current=null}function w1(e,t,n){try{n()}catch(r){At(e,t,r)}}var DA=!1;function pq(e,t){if(r1=lm,e=eL(),iT(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,h=0,d=0,v=e,m=null;t:for(;;){for(var y;v!==n||i!==0&&v.nodeType!==3||(l=a+i),v!==s||r!==0&&v.nodeType!==3||(c=a+r),v.nodeType===3&&(a+=v.nodeValue.length),(y=v.firstChild)!==null;)m=v,v=y;for(;;){if(v===e)break t;if(m===n&&++h===i&&(l=a),m===s&&++d===r&&(c=a),(y=v.nextSibling)!==null)break;v=m,m=v.parentNode}v=y}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(i1={focusedElem:e,selectionRange:n},lm=!1,Z=t;Z!==null;)if(t=Z,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Z=e;else for(;Z!==null;){t=Z;try{var _=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var E=_.memoizedProps,S=_.memoizedState,b=t.stateNode,I=b.getSnapshotBeforeUpdate(t.elementType===t.type?E:bi(t.type,E),S);b.__reactInternalSnapshotBeforeUpdate=I}break;case 3:var k=t.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(C){At(t,t.return,C)}if(e=t.sibling,e!==null){e.return=t.return,Z=e;break}Z=t.return}return _=DA,DA=!1,_}function uh(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&w1(t,n,s)}i=i.next}while(i!==r)}}function Pg(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function E1(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function XL(e){var t=e.alternate;t!==null&&(e.alternate=null,XL(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Hi],delete t[Mh],delete t[a1],delete t[Y5],delete t[X5])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function JL(e){return e.tag===5||e.tag===3||e.tag===4}function LA(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||JL(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function b1(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=hm));else if(r!==4&&(e=e.child,e!==null))for(b1(e,t,n),e=e.sibling;e!==null;)b1(e,t,n),e=e.sibling}function T1(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(T1(e,t,n),e=e.sibling;e!==null;)T1(e,t,n),e=e.sibling}var gn=null,Ii=!1;function Zo(e,t,n){for(n=n.child;n!==null;)ZL(e,t,n),n=n.sibling}function ZL(e,t,n){if(Gi&&typeof Gi.onCommitFiberUnmount=="function")try{Gi.onCommitFiberUnmount(Tg,n)}catch{}switch(n.tag){case 5:An||bl(n,t);case 6:var r=gn,i=Ii;gn=null,Zo(e,t,n),gn=r,Ii=i,gn!==null&&(Ii?(e=gn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):gn.removeChild(n.stateNode));break;case 18:gn!==null&&(Ii?(e=gn,n=n.stateNode,e.nodeType===8?Uw(e.parentNode,n):e.nodeType===1&&Uw(e,n),Ph(e)):Uw(gn,n.stateNode));break;case 4:r=gn,i=Ii,gn=n.stateNode.containerInfo,Ii=!0,Zo(e,t,n),gn=r,Ii=i;break;case 0:case 11:case 14:case 15:if(!An&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&w1(n,t,a),i=i.next}while(i!==r)}Zo(e,t,n);break;case 1:if(!An&&(bl(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){At(n,t,l)}Zo(e,t,n);break;case 21:Zo(e,t,n);break;case 22:n.mode&1?(An=(r=An)||n.memoizedState!==null,Zo(e,t,n),An=r):Zo(e,t,n);break;default:Zo(e,t,n)}}function MA(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new dq),t.forEach(function(r){var i=Tq.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function yi(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:gn=l.stateNode,Ii=!1;break e;case 3:gn=l.stateNode.containerInfo,Ii=!0;break e;case 4:gn=l.stateNode.containerInfo,Ii=!0;break e}l=l.return}if(gn===null)throw Error(K(160));ZL(s,a,i),gn=null,Ii=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(h){At(i,t,h)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)e2(t,e),t=t.sibling}function e2(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(yi(t,e),zi(e),r&4){try{uh(3,e,e.return),Pg(3,e)}catch(E){At(e,e.return,E)}try{uh(5,e,e.return)}catch(E){At(e,e.return,E)}}break;case 1:yi(t,e),zi(e),r&512&&n!==null&&bl(n,n.return);break;case 5:if(yi(t,e),zi(e),r&512&&n!==null&&bl(n,n.return),e.flags&32){var i=e.stateNode;try{kh(i,"")}catch(E){At(e,e.return,E)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,a=n!==null?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&ED(i,s),KE(l,a);var h=KE(l,s);for(a=0;a<c.length;a+=2){var d=c[a],v=c[a+1];d==="style"?CD(i,v):d==="dangerouslySetInnerHTML"?ID(i,v):d==="children"?kh(i,v):Wb(i,d,v,h)}switch(l){case"input":$E(i,s);break;case"textarea":bD(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?Nl(i,!!s.multiple,y,!1):m!==!!s.multiple&&(s.defaultValue!=null?Nl(i,!!s.multiple,s.defaultValue,!0):Nl(i,!!s.multiple,s.multiple?[]:"",!1))}i[Mh]=s}catch(E){At(e,e.return,E)}}break;case 6:if(yi(t,e),zi(e),r&4){if(e.stateNode===null)throw Error(K(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(E){At(e,e.return,E)}}break;case 3:if(yi(t,e),zi(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ph(t.containerInfo)}catch(E){At(e,e.return,E)}break;case 4:yi(t,e),zi(e);break;case 13:yi(t,e),zi(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(IT=Mt())),r&4&&MA(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(An=(h=An)||d,yi(t,e),An=h):yi(t,e),zi(e),r&8192){if(h=e.memoizedState!==null,(e.stateNode.isHidden=h)&&!d&&e.mode&1)for(Z=e,d=e.child;d!==null;){for(v=Z=d;Z!==null;){switch(m=Z,y=m.child,m.tag){case 0:case 11:case 14:case 15:uh(4,m,m.return);break;case 1:bl(m,m.return);var _=m.stateNode;if(typeof _.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,_.props=t.memoizedProps,_.state=t.memoizedState,_.componentWillUnmount()}catch(E){At(r,n,E)}}break;case 5:bl(m,m.return);break;case 22:if(m.memoizedState!==null){UA(v);continue}}y!==null?(y.return=m,Z=y):UA(v)}d=d.sibling}e:for(d=null,v=e;;){if(v.tag===5){if(d===null){d=v;try{i=v.stateNode,h?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=v.stateNode,c=v.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=SD("display",a))}catch(E){At(e,e.return,E)}}}else if(v.tag===6){if(d===null)try{v.stateNode.nodeValue=h?"":v.memoizedProps}catch(E){At(e,e.return,E)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===e)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===e)break e;for(;v.sibling===null;){if(v.return===null||v.return===e)break e;d===v&&(d=null),v=v.return}d===v&&(d=null),v.sibling.return=v.return,v=v.sibling}}break;case 19:yi(t,e),zi(e),r&4&&MA(e);break;case 21:break;default:yi(t,e),zi(e)}}function zi(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(JL(n)){var r=n;break e}n=n.return}throw Error(K(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(kh(i,""),r.flags&=-33);var s=LA(e);T1(e,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,l=LA(e);b1(e,l,a);break;default:throw Error(K(161))}}catch(c){At(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function vq(e,t,n){Z=e,t2(e)}function t2(e,t,n){for(var r=(e.mode&1)!==0;Z!==null;){var i=Z,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||vv;if(!a){var l=i.alternate,c=l!==null&&l.memoizedState!==null||An;l=vv;var h=An;if(vv=a,(An=c)&&!h)for(Z=i;Z!==null;)a=Z,c=a.child,a.tag===22&&a.memoizedState!==null?jA(i):c!==null?(c.return=a,Z=c):jA(i);for(;s!==null;)Z=s,t2(s),s=s.sibling;Z=i,vv=l,An=h}FA(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Z=s):FA(e)}}function FA(e){for(;Z!==null;){var t=Z;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:An||Pg(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!An)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:bi(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&wA(t,s,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}wA(t,a,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var h=t.alternate;if(h!==null){var d=h.memoizedState;if(d!==null){var v=d.dehydrated;v!==null&&Ph(v)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}An||t.flags&512&&E1(t)}catch(m){At(t,t.return,m)}}if(t===e){Z=null;break}if(n=t.sibling,n!==null){n.return=t.return,Z=n;break}Z=t.return}}function UA(e){for(;Z!==null;){var t=Z;if(t===e){Z=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Z=n;break}Z=t.return}}function jA(e){for(;Z!==null;){var t=Z;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Pg(4,t)}catch(c){At(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(c){At(t,i,c)}}var s=t.return;try{E1(t)}catch(c){At(t,s,c)}break;case 5:var a=t.return;try{E1(t)}catch(c){At(t,a,c)}}}catch(c){At(t,t.return,c)}if(t===e){Z=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Z=l;break}Z=t.return}}var mq=Math.ceil,Tm=jo.ReactCurrentDispatcher,bT=jo.ReactCurrentOwner,ti=jo.ReactCurrentBatchConfig,Fe=0,dn=null,qt=null,En=0,Ir=0,Tl=qs(0),Jt=0,$h=null,tu=0,xg=0,TT=0,lh=null,ar=null,IT=0,Hl=1/0,_o=null,Im=!1,I1=null,Is=null,mv=!1,vs=null,Sm=0,ch=0,S1=null,Wv=-1,Hv=0;function Yn(){return Fe&6?Mt():Wv!==-1?Wv:Wv=Mt()}function Ss(e){return e.mode&1?Fe&2&&En!==0?En&-En:Z5.transition!==null?(Hv===0&&(Hv=UD()),Hv):(e=Xe,e!==0||(e=window.event,e=e===void 0?16:WD(e.type)),e):1}function Ri(e,t,n,r){if(50<ch)throw ch=0,S1=null,Error(K(185));_d(e,n,r),(!(Fe&2)||e!==dn)&&(e===dn&&(!(Fe&2)&&(xg|=n),Jt===4&&ls(e,En)),vr(e,r),n===1&&Fe===0&&!(t.mode&1)&&(Hl=Mt()+500,Ng&&Ws()))}function vr(e,t){var n=e.callbackNode;Zz(e,t);var r=um(e,e===dn?En:0);if(r===0)n!==null&&GR(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&GR(n),t===1)e.tag===0?J5(VA.bind(null,e)):cL(VA.bind(null,e)),G5(function(){!(Fe&6)&&Ws()}),n=null;else{switch(jD(r)){case 1:n=Yb;break;case 4:n=MD;break;case 16:n=am;break;case 536870912:n=FD;break;default:n=am}n=l2(n,n2.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function n2(e,t){if(Wv=-1,Hv=0,Fe&6)throw Error(K(327));var n=e.callbackNode;if(Ol()&&e.callbackNode!==n)return null;var r=um(e,e===dn?En:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Cm(e,r);else{t=r;var i=Fe;Fe|=2;var s=i2();(dn!==e||En!==t)&&(_o=null,Hl=Mt()+500,za(e,t));do try{_q();break}catch(l){r2(e,l)}while(1);lT(),Tm.current=s,Fe=i,qt!==null?t=0:(dn=null,En=0,t=Jt)}if(t!==0){if(t===2&&(i=JE(e),i!==0&&(r=i,t=C1(e,i))),t===1)throw n=$h,za(e,0),ls(e,r),vr(e,Mt()),n;if(t===6)ls(e,r);else{if(i=e.current.alternate,!(r&30)&&!gq(i)&&(t=Cm(e,r),t===2&&(s=JE(e),s!==0&&(r=s,t=C1(e,s))),t===1))throw n=$h,za(e,0),ls(e,r),vr(e,Mt()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(K(345));case 2:Ca(e,ar,_o);break;case 3:if(ls(e,r),(r&130023424)===r&&(t=IT+500-Mt(),10<t)){if(um(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Yn(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=s1(Ca.bind(null,e,ar,_o),t);break}Ca(e,ar,_o);break;case 4:if(ls(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-Ni(r);s=1<<a,a=t[a],a>i&&(i=a),r&=~s}if(r=i,r=Mt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*mq(r/1960))-r,10<r){e.timeoutHandle=s1(Ca.bind(null,e,ar,_o),r);break}Ca(e,ar,_o);break;case 5:Ca(e,ar,_o);break;default:throw Error(K(329))}}}return vr(e,Mt()),e.callbackNode===n?n2.bind(null,e):null}function C1(e,t){var n=lh;return e.current.memoizedState.isDehydrated&&(za(e,t).flags|=256),e=Cm(e,t),e!==2&&(t=ar,ar=n,t!==null&&k1(t)),e}function k1(e){ar===null?ar=e:ar.push.apply(ar,e)}function gq(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!xi(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ls(e,t){for(t&=~TT,t&=~xg,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ni(t),r=1<<n;e[n]=-1,t&=~r}}function VA(e){if(Fe&6)throw Error(K(327));Ol();var t=um(e,0);if(!(t&1))return vr(e,Mt()),null;var n=Cm(e,t);if(e.tag!==0&&n===2){var r=JE(e);r!==0&&(t=r,n=C1(e,r))}if(n===1)throw n=$h,za(e,0),ls(e,t),vr(e,Mt()),n;if(n===6)throw Error(K(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ca(e,ar,_o),vr(e,Mt()),null}function ST(e,t){var n=Fe;Fe|=1;try{return e(t)}finally{Fe=n,Fe===0&&(Hl=Mt()+500,Ng&&Ws())}}function nu(e){vs!==null&&vs.tag===0&&!(Fe&6)&&Ol();var t=Fe;Fe|=1;var n=ti.transition,r=Xe;try{if(ti.transition=null,Xe=1,e)return e()}finally{Xe=r,ti.transition=n,Fe=t,!(Fe&6)&&Ws()}}function CT(){Ir=Tl.current,ut(Tl)}function za(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,K5(n)),qt!==null)for(n=qt.return;n!==null;){var r=n;switch(sT(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&dm();break;case 3:ql(),ut(dr),ut(Fn),vT();break;case 5:pT(r);break;case 4:ql();break;case 13:ut(bt);break;case 19:ut(bt);break;case 10:cT(r.type._context);break;case 22:case 23:CT()}n=n.return}if(dn=e,qt=e=Cs(e.current,null),En=Ir=t,Jt=0,$h=null,TT=xg=tu=0,ar=lh=null,Da!==null){for(t=0;t<Da.length;t++)if(n=Da[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}Da=null}return e}function r2(e,t){do{var n=qt;try{if(lT(),$v.current=bm,Em){for(var r=St.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Em=!1}if(eu=0,un=Yt=St=null,ah=!1,jh=0,bT.current=null,n===null||n.return===null){Jt=1,$h=t,qt=null;break}e:{var s=e,a=n.return,l=n,c=t;if(t=En,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var h=c,d=l,v=d.tag;if(!(d.mode&1)&&(v===0||v===11||v===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=kA(a);if(y!==null){y.flags&=-257,NA(y,a,l,s,t),y.mode&1&&CA(s,h,t),t=y,c=h;var _=t.updateQueue;if(_===null){var E=new Set;E.add(c),t.updateQueue=E}else _.add(c);break e}else{if(!(t&1)){CA(s,h,t),kT();break e}c=Error(K(426))}}else if(mt&&l.mode&1){var S=kA(a);if(S!==null){!(S.flags&65536)&&(S.flags|=256),NA(S,a,l,s,t),aT(Wl(c,l));break e}}s=c=Wl(c,l),Jt!==4&&(Jt=2),lh===null?lh=[s]:lh.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var b=VL(s,c,t);_A(s,b);break e;case 1:l=c;var I=s.type,k=s.stateNode;if(!(s.flags&128)&&(typeof I.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(Is===null||!Is.has(k)))){s.flags|=65536,t&=-t,s.lanes|=t;var C=BL(s,l,t);_A(s,C);break e}}s=s.return}while(s!==null)}s2(n)}catch(x){t=x,qt===n&&n!==null&&(qt=n=n.return);continue}break}while(1)}function i2(){var e=Tm.current;return Tm.current=bm,e===null?bm:e}function kT(){(Jt===0||Jt===3||Jt===2)&&(Jt=4),dn===null||!(tu&268435455)&&!(xg&268435455)||ls(dn,En)}function Cm(e,t){var n=Fe;Fe|=2;var r=i2();(dn!==e||En!==t)&&(_o=null,za(e,t));do try{yq();break}catch(i){r2(e,i)}while(1);if(lT(),Fe=n,Tm.current=r,qt!==null)throw Error(K(261));return dn=null,En=0,Jt}function yq(){for(;qt!==null;)o2(qt)}function _q(){for(;qt!==null&&!qz();)o2(qt)}function o2(e){var t=u2(e.alternate,e,Ir);e.memoizedProps=e.pendingProps,t===null?s2(e):qt=t,bT.current=null}function s2(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=hq(n,t),n!==null){n.flags&=32767,qt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Jt=6,qt=null;return}}else if(n=fq(n,t,Ir),n!==null){qt=n;return}if(t=t.sibling,t!==null){qt=t;return}qt=t=e}while(t!==null);Jt===0&&(Jt=5)}function Ca(e,t,n){var r=Xe,i=ti.transition;try{ti.transition=null,Xe=1,wq(e,t,n,r)}finally{ti.transition=i,Xe=r}return null}function wq(e,t,n,r){do Ol();while(vs!==null);if(Fe&6)throw Error(K(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(K(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(e5(e,s),e===dn&&(qt=dn=null,En=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||mv||(mv=!0,l2(am,function(){return Ol(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ti.transition,ti.transition=null;var a=Xe;Xe=1;var l=Fe;Fe|=4,bT.current=null,pq(e,n),e2(n,e),V5(i1),lm=!!r1,i1=r1=null,e.current=n,vq(n),Wz(),Fe=l,Xe=a,ti.transition=s}else e.current=n;if(mv&&(mv=!1,vs=e,Sm=i),s=e.pendingLanes,s===0&&(Is=null),Gz(n.stateNode),vr(e,Mt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Im)throw Im=!1,e=I1,I1=null,e;return Sm&1&&e.tag!==0&&Ol(),s=e.pendingLanes,s&1?e===S1?ch++:(ch=0,S1=e):ch=0,Ws(),null}function Ol(){if(vs!==null){var e=jD(Sm),t=ti.transition,n=Xe;try{if(ti.transition=null,Xe=16>e?16:e,vs===null)var r=!1;else{if(e=vs,vs=null,Sm=0,Fe&6)throw Error(K(331));var i=Fe;for(Fe|=4,Z=e.current;Z!==null;){var s=Z,a=s.child;if(Z.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var h=l[c];for(Z=h;Z!==null;){var d=Z;switch(d.tag){case 0:case 11:case 15:uh(8,d,s)}var v=d.child;if(v!==null)v.return=d,Z=v;else for(;Z!==null;){d=Z;var m=d.sibling,y=d.return;if(XL(d),d===h){Z=null;break}if(m!==null){m.return=y,Z=m;break}Z=y}}}var _=s.alternate;if(_!==null){var E=_.child;if(E!==null){_.child=null;do{var S=E.sibling;E.sibling=null,E=S}while(E!==null)}}Z=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,Z=a;else e:for(;Z!==null;){if(s=Z,s.flags&2048)switch(s.tag){case 0:case 11:case 15:uh(9,s,s.return)}var b=s.sibling;if(b!==null){b.return=s.return,Z=b;break e}Z=s.return}}var I=e.current;for(Z=I;Z!==null;){a=Z;var k=a.child;if(a.subtreeFlags&2064&&k!==null)k.return=a,Z=k;else e:for(a=I;Z!==null;){if(l=Z,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Pg(9,l)}}catch(x){At(l,l.return,x)}if(l===a){Z=null;break e}var C=l.sibling;if(C!==null){C.return=l.return,Z=C;break e}Z=l.return}}if(Fe=i,Ws(),Gi&&typeof Gi.onPostCommitFiberRoot=="function")try{Gi.onPostCommitFiberRoot(Tg,e)}catch{}r=!0}return r}finally{Xe=n,ti.transition=t}}return!1}function BA(e,t,n){t=Wl(n,t),t=VL(e,t,1),e=Ts(e,t,1),t=Yn(),e!==null&&(_d(e,1,t),vr(e,t))}function At(e,t,n){if(e.tag===3)BA(e,e,n);else for(;t!==null;){if(t.tag===3){BA(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Is===null||!Is.has(r))){e=Wl(n,e),e=BL(t,e,1),t=Ts(t,e,1),e=Yn(),t!==null&&(_d(t,1,e),vr(t,e));break}}t=t.return}}function Eq(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Yn(),e.pingedLanes|=e.suspendedLanes&n,dn===e&&(En&n)===n&&(Jt===4||Jt===3&&(En&130023424)===En&&500>Mt()-IT?za(e,0):TT|=n),vr(e,t)}function a2(e,t){t===0&&(e.mode&1?(t=sv,sv<<=1,!(sv&130023424)&&(sv=4194304)):t=1);var n=Yn();e=Oo(e,t),e!==null&&(_d(e,t,n),vr(e,n))}function bq(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),a2(e,n)}function Tq(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(K(314))}r!==null&&r.delete(t),a2(e,n)}var u2;u2=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||dr.current)cr=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return cr=!1,cq(e,t,n);cr=!!(e.flags&131072)}else cr=!1,mt&&t.flags&1048576&&fL(t,mm,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qv(e,t),e=t.pendingProps;var i=Bl(t,Fn.current);xl(t,n),i=gT(null,t,r,e,i,n);var s=yT();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,pr(r)?(s=!0,pm(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,hT(t),i.updater=Rg,t.stateNode=i,i._reactInternals=t,d1(t,r,e,n),t=m1(null,t,r,!0,s,n)):(t.tag=0,mt&&s&&oT(t),zn(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qv(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Sq(r),e=bi(r,e),i){case 0:t=v1(null,t,r,e,n);break e;case 1:t=PA(null,t,r,e,n);break e;case 11:t=RA(null,t,r,e,n);break e;case 14:t=AA(null,t,r,bi(r.type,e),n);break e}throw Error(K(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:bi(r,i),v1(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:bi(r,i),PA(e,t,r,i,n);case 3:e:{if(WL(t),e===null)throw Error(K(387));r=t.pendingProps,s=t.memoizedState,i=s.element,vL(e,t),_m(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Wl(Error(K(423)),t),t=xA(e,t,r,n,i);break e}else if(r!==i){i=Wl(Error(K(424)),t),t=xA(e,t,r,n,i);break e}else for(Nr=bs(t.stateNode.containerInfo.firstChild),Pr=t,mt=!0,Ci=null,n=_L(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if($l(),r===i){t=Do(e,t,n);break e}zn(e,t,r,n)}t=t.child}return t;case 5:return wL(t),e===null&&c1(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,a=i.children,o1(r,i)?a=null:s!==null&&o1(r,s)&&(t.flags|=32),qL(e,t),zn(e,t,a,n),t.child;case 6:return e===null&&c1(t),null;case 13:return HL(e,t,n);case 4:return dT(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=zl(t,null,r,n):zn(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:bi(r,i),RA(e,t,r,i,n);case 7:return zn(e,t,t.pendingProps,n),t.child;case 8:return zn(e,t,t.pendingProps.children,n),t.child;case 12:return zn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,it(gm,r._currentValue),r._currentValue=a,s!==null)if(xi(s.value,a)){if(s.children===i.children&&!dr.current){t=Do(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){a=s.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=Co(-1,n&-n),c.tag=2;var h=s.updateQueue;if(h!==null){h=h.shared;var d=h.pending;d===null?c.next=c:(c.next=d.next,d.next=c),h.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),f1(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(s.tag===10)a=s.type===t.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(K(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),f1(a,n,t),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}zn(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,xl(t,n),i=ii(i),r=r(i),t.flags|=1,zn(e,t,r,n),t.child;case 14:return r=t.type,i=bi(r,t.pendingProps),i=bi(r.type,i),AA(e,t,r,i,n);case 15:return $L(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:bi(r,i),qv(e,t),t.tag=1,pr(r)?(e=!0,pm(t)):e=!1,xl(t,n),gL(t,r,i),d1(t,r,i,n),m1(null,t,r,!0,e,n);case 19:return KL(e,t,n);case 22:return zL(e,t,n)}throw Error(K(156,t.tag))};function l2(e,t){return LD(e,t)}function Iq(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qr(e,t,n,r){return new Iq(e,t,n,r)}function NT(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Sq(e){if(typeof e=="function")return NT(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Kb)return 11;if(e===Gb)return 14}return 2}function Cs(e,t){var n=e.alternate;return n===null?(n=Qr(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Kv(e,t,n,r,i,s){var a=2;if(r=e,typeof e=="function")NT(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case dl:return qa(n.children,i,s,t);case Hb:a=8,i|=8;break;case FE:return e=Qr(12,n,t,i|2),e.elementType=FE,e.lanes=s,e;case UE:return e=Qr(13,n,t,i),e.elementType=UE,e.lanes=s,e;case jE:return e=Qr(19,n,t,i),e.elementType=jE,e.lanes=s,e;case yD:return Og(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case mD:a=10;break e;case gD:a=9;break e;case Kb:a=11;break e;case Gb:a=14;break e;case os:a=16,r=null;break e}throw Error(K(130,e==null?e:typeof e,""))}return t=Qr(a,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function qa(e,t,n,r){return e=Qr(7,e,r,t),e.lanes=n,e}function Og(e,t,n,r){return e=Qr(22,e,r,t),e.elementType=yD,e.lanes=n,e.stateNode={isHidden:!1},e}function Hw(e,t,n){return e=Qr(6,e,null,t),e.lanes=n,e}function Kw(e,t,n){return t=Qr(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Cq(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kw(0),this.expirationTimes=kw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kw(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function RT(e,t,n,r,i,s,a,l,c){return e=new Cq(e,t,n,l,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Qr(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},hT(s),e}function kq(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:hl,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function c2(e){if(!e)return Ds;e=e._reactInternals;e:{if(yu(e)!==e||e.tag!==1)throw Error(K(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(pr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(K(171))}if(e.tag===1){var n=e.type;if(pr(n))return lL(e,n,t)}return t}function f2(e,t,n,r,i,s,a,l,c){return e=RT(n,r,!0,e,i,s,a,l,c),e.context=c2(null),n=e.current,r=Yn(),i=Ss(n),s=Co(r,i),s.callback=t??null,Ts(n,s,i),e.current.lanes=i,_d(e,i,r),vr(e,r),e}function Dg(e,t,n,r){var i=t.current,s=Yn(),a=Ss(i);return n=c2(n),t.context===null?t.context=n:t.pendingContext=n,t=Co(s,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Ts(i,t,a),e!==null&&(Ri(e,i,a,s),Bv(e,i,a)),a}function km(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function $A(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function AT(e,t){$A(e,t),(e=e.alternate)&&$A(e,t)}function Nq(){return null}var h2=typeof reportError=="function"?reportError:function(e){console.error(e)};function PT(e){this._internalRoot=e}Lg.prototype.render=PT.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(K(409));Dg(e,t,null,null)};Lg.prototype.unmount=PT.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;nu(function(){Dg(null,e,null,null)}),t[xo]=null}};function Lg(e){this._internalRoot=e}Lg.prototype.unstable_scheduleHydration=function(e){if(e){var t=$D();e={blockedOn:null,target:e,priority:t};for(var n=0;n<us.length&&t!==0&&t<us[n].priority;n++);us.splice(n,0,e),n===0&&qD(e)}};function xT(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Mg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function zA(){}function Rq(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var h=km(a);s.call(h)}}var a=f2(t,r,e,0,null,!1,!1,"",zA);return e._reactRootContainer=a,e[xo]=a.current,Dh(e.nodeType===8?e.parentNode:e),nu(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var h=km(c);l.call(h)}}var c=RT(e,0,!1,null,null,!1,!1,"",zA);return e._reactRootContainer=c,e[xo]=c.current,Dh(e.nodeType===8?e.parentNode:e),nu(function(){Dg(t,c,n,r)}),c}function Fg(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var l=i;i=function(){var c=km(a);l.call(c)}}Dg(t,a,e,i)}else a=Rq(n,t,e,i,r);return km(a)}VD=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Xf(t.pendingLanes);n!==0&&(Xb(t,n|1),vr(t,Mt()),!(Fe&6)&&(Hl=Mt()+500,Ws()))}break;case 13:nu(function(){var r=Oo(e,1);if(r!==null){var i=Yn();Ri(r,e,1,i)}}),AT(e,1)}};Jb=function(e){if(e.tag===13){var t=Oo(e,134217728);if(t!==null){var n=Yn();Ri(t,e,134217728,n)}AT(e,134217728)}};BD=function(e){if(e.tag===13){var t=Ss(e),n=Oo(e,t);if(n!==null){var r=Yn();Ri(n,e,t,r)}AT(e,t)}};$D=function(){return Xe};zD=function(e,t){var n=Xe;try{return Xe=e,t()}finally{Xe=n}};QE=function(e,t,n){switch(t){case"input":if($E(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=kg(r);if(!i)throw Error(K(90));wD(r),$E(r,i)}}}break;case"textarea":bD(e,n);break;case"select":t=n.value,t!=null&&Nl(e,!!n.multiple,t,!1)}};RD=ST;AD=nu;var Aq={usingClientEntryPoint:!1,Events:[Ed,gl,kg,kD,ND,ST]},Ff={findFiberByHostInstance:Oa,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Pq={bundleType:Ff.bundleType,version:Ff.version,rendererPackageName:Ff.rendererPackageName,rendererConfig:Ff.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:jo.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=OD(e),e===null?null:e.stateNode},findFiberByHostInstance:Ff.findFiberByHostInstance||Nq,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gv.isDisabled&&gv.supportsFiber)try{Tg=gv.inject(Pq),Gi=gv}catch{}}Fr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Aq;Fr.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xT(t))throw Error(K(200));return kq(e,t,null,n)};Fr.createRoot=function(e,t){if(!xT(e))throw Error(K(299));var n=!1,r="",i=h2;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=RT(e,1,!1,null,null,n,!1,r,i),e[xo]=t.current,Dh(e.nodeType===8?e.parentNode:e),new PT(t)};Fr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(K(188)):(e=Object.keys(e).join(","),Error(K(268,e)));return e=OD(t),e=e===null?null:e.stateNode,e};Fr.flushSync=function(e){return nu(e)};Fr.hydrate=function(e,t,n){if(!Mg(t))throw Error(K(200));return Fg(null,e,t,!0,n)};Fr.hydrateRoot=function(e,t,n){if(!xT(e))throw Error(K(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=h2;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=f2(t,null,e,1,n??null,i,!1,s,a),e[xo]=t.current,Dh(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Lg(t)};Fr.render=function(e,t,n){if(!Mg(t))throw Error(K(200));return Fg(null,e,t,!1,n)};Fr.unmountComponentAtNode=function(e){if(!Mg(e))throw Error(K(40));return e._reactRootContainer?(nu(function(){Fg(null,null,e,!1,function(){e._reactRootContainer=null,e[xo]=null})}),!0):!1};Fr.unstable_batchedUpdates=ST;Fr.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Mg(n))throw Error(K(200));if(e==null||e._reactInternals===void 0)throw Error(K(38));return Fg(e,t,n,!1,r)};Fr.version="18.2.0-next-9e3b772b8-20220608";function d2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(d2)}catch(e){console.error(e)}}d2(),fD.exports=Fr;var xq=fD.exports,qA=xq;LE.createRoot=qA.createRoot,LE.hydrateRoot=qA.hydrateRoot;/**
 * @remix-run/router v1.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vt(){return vt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vt.apply(this,arguments)}var $t;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})($t||($t={}));const WA="popstate";function Oq(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:a,hash:l}=r.location;return zh("",{pathname:s,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:ru(i)}return Lq(t,n,null,e)}function be(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Kl(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Dq(){return Math.random().toString(36).substr(2,8)}function HA(e,t){return{usr:e.state,key:e.key,idx:t}}function zh(e,t,n,r){return n===void 0&&(n=null),vt({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Vo(t):t,{state:n,key:t&&t.key||r||Dq()})}function ru(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Vo(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Lq(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,l=$t.Pop,c=null,h=d();h==null&&(h=0,a.replaceState(vt({},a.state,{idx:h}),""));function d(){return(a.state||{idx:null}).idx}function v(){l=$t.Pop;let S=d(),b=S==null?null:S-h;h=S,c&&c({action:l,location:E.location,delta:b})}function m(S,b){l=$t.Push;let I=zh(E.location,S,b);n&&n(I,S),h=d()+1;let k=HA(I,h),C=E.createHref(I);try{a.pushState(k,"",C)}catch(x){if(x instanceof DOMException&&x.name==="DataCloneError")throw x;i.location.assign(C)}s&&c&&c({action:l,location:E.location,delta:1})}function y(S,b){l=$t.Replace;let I=zh(E.location,S,b);n&&n(I,S),h=d();let k=HA(I,h),C=E.createHref(I);a.replaceState(k,"",C),s&&c&&c({action:l,location:E.location,delta:0})}function _(S){let b=i.location.origin!=="null"?i.location.origin:i.location.href,I=typeof S=="string"?S:ru(S);return be(b,"No window.location.(origin|href) available to create URL for href: "+I),new URL(I,b)}let E={get action(){return l},get location(){return e(i,a)},listen(S){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(WA,v),c=S,()=>{i.removeEventListener(WA,v),c=null}},createHref(S){return t(i,S)},createURL:_,encodeLocation(S){let b=_(S);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:m,replace:y,go(S){return a.go(S)}};return E}var Qt;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Qt||(Qt={}));const Mq=new Set(["lazy","caseSensitive","path","id","index","children"]);function Fq(e){return e.index===!0}function N1(e,t,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),e.map((i,s)=>{let a=[...n,s],l=typeof i.id=="string"?i.id:a.join("-");if(be(i.index!==!0||!i.children,"Cannot specify children on an index route"),be(!r[l],'Found a route id collision on id "'+l+`".  Route id's must be globally unique within Data Router usages`),Fq(i)){let c=vt({},i,t(i),{id:l});return r[l]=c,c}else{let c=vt({},i,t(i),{id:l,children:void 0});return r[l]=c,i.children&&(c.children=N1(i.children,t,a,r)),c}})}function Il(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?Vo(t):t,i=bc(r.pathname||"/",n);if(i==null)return null;let s=p2(e);Uq(s);let a=null;for(let l=0;a==null&&l<s.length;++l)a=Kq(s[l],Yq(i));return a}function p2(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,a,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};c.relativePath.startsWith("/")&&(be(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let h=ko([r,c.relativePath]),d=n.concat(c);s.children&&s.children.length>0&&(be(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),p2(s.children,t,d,h)),!(s.path==null&&!s.index)&&t.push({path:h,score:Wq(h,s.index),routesMeta:d})};return e.forEach((s,a)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,a);else for(let c of v2(s.path))i(s,a,c)}),t}function v2(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=v2(r.join("/")),l=[];return l.push(...a.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...a),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Uq(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Hq(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const jq=/^:\w+$/,Vq=3,Bq=2,$q=1,zq=10,qq=-2,KA=e=>e==="*";function Wq(e,t){let n=e.split("/"),r=n.length;return n.some(KA)&&(r+=qq),t&&(r+=Bq),n.filter(i=>!KA(i)).reduce((i,s)=>i+(jq.test(s)?Vq:s===""?$q:zq),r)}function Hq(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function Kq(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let a=0;a<n.length;++a){let l=n[a],c=a===n.length-1,h=i==="/"?t:t.slice(i.length)||"/",d=Gq({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},h);if(!d)return null;Object.assign(r,d.params);let v=l.route;s.push({params:r,pathname:ko([i,d.pathname]),pathnameBase:e6(ko([i,d.pathnameBase])),route:v}),d.pathnameBase!=="/"&&(i=ko([i,d.pathnameBase]))}return s}function Gq(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Qq(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((h,d,v)=>{if(d==="*"){let m=l[v]||"";a=s.slice(0,s.length-m.length).replace(/(.)\/+$/,"$1")}return h[d]=Xq(l[v]||"",d),h},{}),pathname:s,pathnameBase:a,pattern:e}}function Qq(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Kl(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(a,l)=>(r.push(l),"/([^\\/]+)"));return e.endsWith("*")?(r.push("*"),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function Yq(e){try{return decodeURI(e)}catch(t){return Kl(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Xq(e,t){try{return decodeURIComponent(e)}catch(n){return Kl(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function bc(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Jq(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Vo(e):e;return{pathname:n?n.startsWith("/")?n:Zq(n,t):t,search:t6(r),hash:n6(i)}}function Zq(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Gw(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Td(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Ug(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Vo(e):(i=vt({},e),be(!i.pathname||!i.pathname.includes("?"),Gw("?","pathname","search",i)),be(!i.pathname||!i.pathname.includes("#"),Gw("#","pathname","hash",i)),be(!i.search||!i.search.includes("#"),Gw("#","search","hash",i)));let s=e===""||i.pathname==="",a=s?"/":i.pathname,l;if(r||a==null)l=n;else{let v=t.length-1;if(a.startsWith("..")){let m=a.split("/");for(;m[0]==="..";)m.shift(),v-=1;i.pathname=m.join("/")}l=v>=0?t[v]:"/"}let c=Jq(i,l),h=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(h||d)&&(c.pathname+="/"),c}const ko=e=>e.join("/").replace(/\/\/+/g,"/"),e6=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),t6=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,n6=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class OT{constructor(t,n,r,i){i===void 0&&(i=!1),this.status=t,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function m2(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const g2=["post","put","patch","delete"],r6=new Set(g2),i6=["get",...g2],o6=new Set(i6),s6=new Set([301,302,303,307,308]),a6=new Set([307,308]),Qw={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},u6={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Uf={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},y2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,l6=e=>({hasErrorBoundary:!!e.hasErrorBoundary});function c6(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",r=!n;be(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(e.mapRouteProperties)i=e.mapRouteProperties;else if(e.detectErrorBoundary){let D=e.detectErrorBoundary;i=F=>({hasErrorBoundary:D(F)})}else i=l6;let s={},a=N1(e.routes,i,void 0,s),l,c=e.basename||"/",h=vt({v7_normalizeFormMethod:!1,v7_prependBasename:!1},e.future),d=null,v=new Set,m=null,y=null,_=null,E=e.hydrationData!=null,S=Il(a,e.history.location,c),b=null;if(S==null){let D=Wr(404,{pathname:e.history.location.pathname}),{matches:F,route:$}=tP(a);S=F,b={[$.id]:D}}let I=!S.some(D=>D.route.lazy)&&(!S.some(D=>D.route.loader)||e.hydrationData!=null),k,C={historyAction:e.history.action,location:e.history.location,matches:S,initialized:I,navigation:Qw,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||b,fetchers:new Map,blockers:new Map},x=$t.Pop,O=!1,V,M=!1,te=!1,R=[],ze=[],me=new Map,Ut=0,lt=-1,kt=new Map,qe=new Set,_t=new Map,W=new Map,oe=new Map,he=!1;function Ze(){return d=e.history.listen(D=>{let{action:F,location:$,delta:Y}=D;if(he){he=!1;return}Kl(oe.size===0||Y!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ge=Ke({currentLocation:C.location,nextLocation:$,historyAction:F});if(ge&&Y!=null){he=!0,e.history.go(Y*-1),xu(ge,{state:"blocked",location:$,proceed(){xu(ge,{state:"proceeding",proceed:void 0,reset:void 0,location:$}),e.history.go(Y)},reset(){let ae=new Map(C.blockers);ae.set(ge,Uf),et({blockers:ae})}});return}return Ue(F,$)}),C.initialized||Ue($t.Pop,C.location),k}function wt(){d&&d(),v.clear(),V&&V.abort(),C.fetchers.forEach((D,F)=>Pu(F)),C.blockers.forEach((D,F)=>np(F))}function uo(D){return v.add(D),()=>v.delete(D)}function et(D){C=vt({},C,D),v.forEach(F=>F(C))}function ci(D,F){var $,Y;let ge=C.actionData!=null&&C.navigation.formMethod!=null&&Si(C.navigation.formMethod)&&C.navigation.state==="loading"&&(($=D.state)==null?void 0:$._isRedirect)!==!0,ae;F.actionData?Object.keys(F.actionData).length>0?ae=F.actionData:ae=null:ge?ae=C.actionData:ae=null;let pe=F.loaderData?eP(C.loaderData,F.loaderData,F.matches||[],F.errors):C.loaderData,fe=C.blockers;fe.size>0&&(fe=new Map(fe),fe.forEach((We,De)=>fe.set(De,Uf)));let re=O===!0||C.navigation.formMethod!=null&&Si(C.navigation.formMethod)&&((Y=D.state)==null?void 0:Y._isRedirect)!==!0;l&&(a=l,l=void 0),M||x===$t.Pop||(x===$t.Push?e.history.push(D,D.state):x===$t.Replace&&e.history.replace(D,D.state)),et(vt({},F,{actionData:ae,loaderData:pe,historyAction:x,location:D,initialized:!0,navigation:Qw,revalidation:"idle",restoreScrollPosition:Nt(D,F.matches||C.matches),preventScrollReset:re,blockers:fe})),x=$t.Pop,O=!1,M=!1,te=!1,R=[],ze=[]}async function nr(D,F){if(typeof D=="number"){e.history.go(D);return}let $=R1(C.location,C.matches,c,h.v7_prependBasename,D,F==null?void 0:F.fromRouteId,F==null?void 0:F.relative),{path:Y,submission:ge,error:ae}=GA(h.v7_normalizeFormMethod,!1,$,F),pe=C.location,fe=zh(C.location,Y,F&&F.state);fe=vt({},fe,e.history.encodeLocation(fe));let re=F&&F.replace!=null?F.replace:void 0,We=$t.Push;re===!0?We=$t.Replace:re===!1||ge!=null&&Si(ge.formMethod)&&ge.formAction===C.location.pathname+C.location.search&&(We=$t.Replace);let De=F&&"preventScrollReset"in F?F.preventScrollReset===!0:void 0,jt=Ke({currentLocation:pe,nextLocation:fe,historyAction:We});if(jt){xu(jt,{state:"blocked",location:fe,proceed(){xu(jt,{state:"proceeding",proceed:void 0,reset:void 0,location:fe}),nr(D,F)},reset(){let xt=new Map(C.blockers);xt.set(jt,Uf),et({blockers:xt})}});return}return await Ue(We,fe,{submission:ge,pendingError:ae,preventScrollReset:De,replace:F&&F.replace})}function lo(){if(ea(),et({revalidation:"loading"}),C.navigation.state!=="submitting"){if(C.navigation.state==="idle"){Ue(C.historyAction,C.location,{startUninterruptedRevalidation:!0});return}Ue(x||C.historyAction,C.navigation.location,{overrideNavigation:C.navigation})}}async function Ue(D,F,$){V&&V.abort(),V=null,x=D,M=($&&$.startUninterruptedRevalidation)===!0,rp(C.location,C.matches),O=($&&$.preventScrollReset)===!0;let Y=l||a,ge=$&&$.overrideNavigation,ae=Il(Y,F,c);if(!ae){let xt=Wr(404,{pathname:F.pathname}),{matches:rn,route:Vr}=tP(Y);ta(),ci(F,{matches:rn,loaderData:{},errors:{[Vr.id]:xt}});return}if(C.initialized&&!te&&v6(C.location,F)&&!($&&$.submission&&Si($.submission.formMethod))){ci(F,{matches:ae});return}V=new AbortController;let pe=Vf(e.history,F,V.signal,$&&$.submission),fe,re;if($&&$.pendingError)re={[Sl(ae).route.id]:$.pendingError};else if($&&$.submission&&Si($.submission.formMethod)){let xt=await Hy(pe,F,$.submission,ae,{replace:$.replace});if(xt.shortCircuited)return;fe=xt.pendingActionData,re=xt.pendingActionError,ge=yv(F,$.submission),pe=new Request(pe.url,{signal:pe.signal})}let{shortCircuited:We,loaderData:De,errors:jt}=await Ky(pe,F,ae,ge,$&&$.submission,$&&$.fetcherSubmission,$&&$.replace,fe,re);We||(V=null,ci(F,vt({matches:ae},fe?{actionData:fe}:{},{loaderData:De,errors:jt})))}async function Hy(D,F,$,Y,ge){ge===void 0&&(ge={}),ea();let ae=w6(F,$);et({navigation:ae});let pe,fe=P1(Y,F);if(!fe.route.action&&!fe.route.lazy)pe={type:Qt.error,error:Wr(405,{method:D.method,pathname:F.pathname,routeId:fe.route.id})};else if(pe=await jf("action",D,fe,Y,s,i,c),D.signal.aborted)return{shortCircuited:!0};if(Dl(pe)){let re;return ge&&ge.replace!=null?re=ge.replace:re=pe.location===C.location.pathname+C.location.search,await Di(C,pe,{submission:$,replace:re}),{shortCircuited:!0}}if(fh(pe)){let re=Sl(Y,fe.route.id);return(ge&&ge.replace)!==!0&&(x=$t.Push),{pendingActionData:{},pendingActionError:{[re.route.id]:pe.error}}}if(Ma(pe))throw Wr(400,{type:"defer-action"});return{pendingActionData:{[fe.route.id]:pe.data}}}async function Ky(D,F,$,Y,ge,ae,pe,fe,re){let We=Y||yv(F,ge),De=ge||ae||iP(We),jt=l||a,[xt,rn]=QA(e.history,C,$,De,F,te,R,ze,_t,qe,jt,c,fe,re);if(ta(tt=>!($&&$.some(on=>on.route.id===tt))||xt&&xt.some(on=>on.route.id===tt)),xt.length===0&&rn.length===0){let tt=ep();return ci(F,vt({matches:$,loaderData:{},errors:re||null},fe?{actionData:fe}:{},tt?{fetchers:new Map(C.fetchers)}:{})),{shortCircuited:!0}}if(!M){rn.forEach(on=>{let fo=C.fetchers.get(on.key),ft=Bf(void 0,fo?fo.data:void 0);C.fetchers.set(on.key,ft)});let tt=fe||C.actionData;et(vt({navigation:We},tt?Object.keys(tt).length===0?{actionData:null}:{actionData:tt}:{},rn.length>0?{fetchers:new Map(C.fetchers)}:{}))}lt=++Ut,rn.forEach(tt=>{me.has(tt.key)&&Li(tt.key),tt.controller&&me.set(tt.key,tt.controller)});let Vr=()=>rn.forEach(tt=>Li(tt.key));V&&V.signal.addEventListener("abort",Vr);let{results:na,loaderResults:Ou,fetcherResults:Du}=await rr(C.matches,$,xt,rn,D);if(D.signal.aborted)return{shortCircuited:!0};V&&V.signal.removeEventListener("abort",Vr),rn.forEach(tt=>me.delete(tt.key));let ct=nP(na);if(ct)return await Di(C,ct,{replace:pe}),{shortCircuited:!0};let{loaderData:co,errors:Wc}=ZA(C,$,xt,Ou,re,rn,Du,W);W.forEach((tt,on)=>{tt.subscribe(fo=>{(fo||tt.done)&&W.delete(on)})});let Hc=ep(),Lu=tp(lt),ra=Hc||Lu||rn.length>0;return vt({loaderData:co,errors:Wc},ra?{fetchers:new Map(C.fetchers)}:{})}function Zs(D){return C.fetchers.get(D)||u6}function Gy(D,F,$,Y){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");me.has(D)&&Li(D);let ge=l||a,ae=R1(C.location,C.matches,c,h.v7_prependBasename,$,F,Y==null?void 0:Y.relative),pe=Il(ge,ae,c);if(!pe){jr(D,F,Wr(404,{pathname:ae}));return}let{path:fe,submission:re,error:We}=GA(h.v7_normalizeFormMethod,!0,ae,Y);if(We){jr(D,F,We);return}let De=P1(pe,fe);if(O=(Y&&Y.preventScrollReset)===!0,re&&Si(re.formMethod)){Qy(D,F,fe,De,pe,re);return}_t.set(D,{routeId:F,path:fe}),fi(D,F,fe,De,pe,re)}async function Qy(D,F,$,Y,ge,ae){if(ea(),_t.delete(D),!Y.route.action&&!Y.route.lazy){let ft=Wr(405,{method:ae.formMethod,pathname:$,routeId:F});jr(D,F,ft);return}let pe=C.fetchers.get(D),fe=E6(ae,pe);C.fetchers.set(D,fe),et({fetchers:new Map(C.fetchers)});let re=new AbortController,We=Vf(e.history,$,re.signal,ae);me.set(D,re);let De=await jf("action",We,Y,ge,s,i,c);if(We.signal.aborted){me.get(D)===re&&me.delete(D);return}if(Dl(De)){me.delete(D),qe.add(D);let ft=Bf(ae);return C.fetchers.set(D,ft),et({fetchers:new Map(C.fetchers)}),Di(C,De,{submission:ae,isFetchActionRedirect:!0})}if(fh(De)){jr(D,F,De.error);return}if(Ma(De))throw Wr(400,{type:"defer-action"});let jt=C.navigation.location||C.location,xt=Vf(e.history,jt,re.signal),rn=l||a,Vr=C.navigation.state!=="idle"?Il(rn,C.navigation.location,c):C.matches;be(Vr,"Didn't find any matches after fetcher action");let na=++Ut;kt.set(D,na);let Ou=Bf(ae,De.data);C.fetchers.set(D,Ou);let[Du,ct]=QA(e.history,C,Vr,ae,jt,te,R,ze,_t,qe,rn,c,{[Y.route.id]:De.data},void 0);ct.filter(ft=>ft.key!==D).forEach(ft=>{let ia=ft.key,Kc=C.fetchers.get(ia),Xy=Bf(void 0,Kc?Kc.data:void 0);C.fetchers.set(ia,Xy),me.has(ia)&&Li(ia),ft.controller&&me.set(ia,ft.controller)}),et({fetchers:new Map(C.fetchers)});let co=()=>ct.forEach(ft=>Li(ft.key));re.signal.addEventListener("abort",co);let{results:Wc,loaderResults:Hc,fetcherResults:Lu}=await rr(C.matches,Vr,Du,ct,xt);if(re.signal.aborted)return;re.signal.removeEventListener("abort",co),kt.delete(D),me.delete(D),ct.forEach(ft=>me.delete(ft.key));let ra=nP(Wc);if(ra)return Di(C,ra);let{loaderData:tt,errors:on}=ZA(C,C.matches,Du,Hc,void 0,ct,Lu,W);if(C.fetchers.has(D)){let ft=Gv(De.data);C.fetchers.set(D,ft)}let fo=tp(na);C.navigation.state==="loading"&&na>lt?(be(x,"Expected pending action"),V&&V.abort(),ci(C.navigation.location,{matches:Vr,loaderData:tt,errors:on,fetchers:new Map(C.fetchers)})):(et(vt({errors:on,loaderData:eP(C.loaderData,tt,Vr,on)},fo||ct.length>0?{fetchers:new Map(C.fetchers)}:{})),te=!1)}async function fi(D,F,$,Y,ge,ae){let pe=C.fetchers.get(D),fe=Bf(ae,pe?pe.data:void 0);C.fetchers.set(D,fe),et({fetchers:new Map(C.fetchers)});let re=new AbortController,We=Vf(e.history,$,re.signal);me.set(D,re);let De=await jf("loader",We,Y,ge,s,i,c);if(Ma(De)&&(De=await E2(De,We.signal,!0)||De),me.get(D)===re&&me.delete(D),We.signal.aborted)return;if(Dl(De)){qe.add(D),await Di(C,De);return}if(fh(De)){let xt=Sl(C.matches,F);C.fetchers.delete(D),et({fetchers:new Map(C.fetchers),errors:{[xt.route.id]:De.error}});return}be(!Ma(De),"Unhandled fetcher deferred data");let jt=Gv(De.data);C.fetchers.set(D,jt),et({fetchers:new Map(C.fetchers)})}async function Di(D,F,$){let{submission:Y,replace:ge,isFetchActionRedirect:ae}=$===void 0?{}:$;F.revalidate&&(te=!0);let pe=zh(D.location,F.location,vt({_isRedirect:!0},ae?{_isFetchActionRedirect:!0}:{}));if(be(pe,"Expected a location on the redirect navigation"),y2.test(F.location)&&n){let We=e.history.createURL(F.location),De=bc(We.pathname,c)==null;if(t.location.origin!==We.origin||De){ge?t.location.replace(F.location):t.location.assign(F.location);return}}V=null;let fe=ge===!0?$t.Replace:$t.Push,re=Y||iP(D.navigation);if(a6.has(F.status)&&re&&Si(re.formMethod))await Ue(fe,pe,{submission:vt({},re,{formAction:F.location}),preventScrollReset:O});else if(ae)await Ue(fe,pe,{overrideNavigation:yv(pe),fetcherSubmission:re,preventScrollReset:O});else{let We=yv(pe,re);await Ue(fe,pe,{overrideNavigation:We,preventScrollReset:O})}}async function rr(D,F,$,Y,ge){let ae=await Promise.all([...$.map(re=>jf("loader",ge,re,F,s,i,c)),...Y.map(re=>re.matches&&re.match&&re.controller?jf("loader",Vf(e.history,re.path,re.controller.signal),re.match,re.matches,s,i,c):{type:Qt.error,error:Wr(404,{pathname:re.path})})]),pe=ae.slice(0,$.length),fe=ae.slice($.length);return await Promise.all([rP(D,$,pe,pe.map(()=>ge.signal),!1,C.loaderData),rP(D,Y.map(re=>re.match),fe,Y.map(re=>re.controller?re.controller.signal:null),!0)]),{results:ae,loaderResults:pe,fetcherResults:fe}}function ea(){te=!0,R.push(...ta()),_t.forEach((D,F)=>{me.has(F)&&(ze.push(F),Li(F))})}function jr(D,F,$){let Y=Sl(C.matches,F);Pu(D),et({errors:{[Y.route.id]:$},fetchers:new Map(C.fetchers)})}function Pu(D){let F=C.fetchers.get(D);me.has(D)&&!(F&&F.state==="loading"&&kt.has(D))&&Li(D),_t.delete(D),kt.delete(D),qe.delete(D),C.fetchers.delete(D)}function Li(D){let F=me.get(D);be(F,"Expected fetch controller: "+D),F.abort(),me.delete(D)}function Zd(D){for(let F of D){let $=Zs(F),Y=Gv($.data);C.fetchers.set(F,Y)}}function ep(){let D=[],F=!1;for(let $ of qe){let Y=C.fetchers.get($);be(Y,"Expected fetcher: "+$),Y.state==="loading"&&(qe.delete($),D.push($),F=!0)}return Zd(D),F}function tp(D){let F=[];for(let[$,Y]of kt)if(Y<D){let ge=C.fetchers.get($);be(ge,"Expected fetcher: "+$),ge.state==="loading"&&(Li($),kt.delete($),F.push($))}return Zd(F),F.length>0}function Yy(D,F){let $=C.blockers.get(D)||Uf;return oe.get(D)!==F&&oe.set(D,F),$}function np(D){C.blockers.delete(D),oe.delete(D)}function xu(D,F){let $=C.blockers.get(D)||Uf;be($.state==="unblocked"&&F.state==="blocked"||$.state==="blocked"&&F.state==="blocked"||$.state==="blocked"&&F.state==="proceeding"||$.state==="blocked"&&F.state==="unblocked"||$.state==="proceeding"&&F.state==="unblocked","Invalid blocker state transition: "+$.state+" -> "+F.state);let Y=new Map(C.blockers);Y.set(D,F),et({blockers:Y})}function Ke(D){let{currentLocation:F,nextLocation:$,historyAction:Y}=D;if(oe.size===0)return;oe.size>1&&Kl(!1,"A router only supports one blocker at a time");let ge=Array.from(oe.entries()),[ae,pe]=ge[ge.length-1],fe=C.blockers.get(ae);if(!(fe&&fe.state==="proceeding")&&pe({currentLocation:F,nextLocation:$,historyAction:Y}))return ae}function ta(D){let F=[];return W.forEach(($,Y)=>{(!D||D(Y))&&($.cancel(),F.push(Y),W.delete(Y))}),F}function qo(D,F,$){if(m=D,_=F,y=$||null,!E&&C.navigation===Qw){E=!0;let Y=Nt(C.location,C.matches);Y!=null&&et({restoreScrollPosition:Y})}return()=>{m=null,_=null,y=null}}function qc(D,F){return y&&y(D,F.map(Y=>_6(Y,C.loaderData)))||D.key}function rp(D,F){if(m&&_){let $=qc(D,F);m[$]=_()}}function Nt(D,F){if(m){let $=qc(D,F),Y=m[$];if(typeof Y=="number")return Y}return null}function ip(D){s={},l=N1(D,i,void 0,s)}return k={get basename(){return c},get state(){return C},get routes(){return a},initialize:Ze,subscribe:uo,enableScrollRestoration:qo,navigate:nr,fetch:Gy,revalidate:lo,createHref:D=>e.history.createHref(D),encodeLocation:D=>e.history.encodeLocation(D),getFetcher:Zs,deleteFetcher:Pu,dispose:wt,getBlocker:Yy,deleteBlocker:np,_internalFetchControllers:me,_internalActiveDeferreds:W,_internalSetRoutes:ip},k}function f6(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function R1(e,t,n,r,i,s,a){let l,c;if(s!=null&&a!=="path"){l=[];for(let d of t)if(l.push(d),d.route.id===s){c=d;break}}else l=t,c=t[t.length-1];let h=Ug(i||".",Td(l).map(d=>d.pathnameBase),bc(e.pathname,n)||e.pathname,a==="path");return i==null&&(h.search=e.search,h.hash=e.hash),(i==null||i===""||i===".")&&c&&c.route.index&&!DT(h.search)&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(h.pathname=h.pathname==="/"?n:ko([n,h.pathname])),ru(h)}function GA(e,t,n,r){if(!r||!f6(r))return{path:n};if(r.formMethod&&!y6(r.formMethod))return{path:n,error:Wr(405,{method:r.formMethod})};let i=()=>({path:n,error:Wr(400,{type:"invalid-body"})}),s=r.formMethod||"get",a=e?s.toUpperCase():s.toLowerCase(),l=w2(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Si(a))return i();let m=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((y,_)=>{let[E,S]=_;return""+y+E+"="+S+`
`},""):String(r.body);return{path:n,submission:{formMethod:a,formAction:l,formEncType:r.formEncType,formData:void 0,json:void 0,text:m}}}else if(r.formEncType==="application/json"){if(!Si(a))return i();try{let m=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:a,formAction:l,formEncType:r.formEncType,formData:void 0,json:m,text:void 0}}}catch{return i()}}}be(typeof FormData=="function","FormData is not available in this environment");let c,h;if(r.formData)c=A1(r.formData),h=r.formData;else if(r.body instanceof FormData)c=A1(r.body),h=r.body;else if(r.body instanceof URLSearchParams)c=r.body,h=JA(c);else if(r.body==null)c=new URLSearchParams,h=new FormData;else try{c=new URLSearchParams(r.body),h=JA(c)}catch{return i()}let d={formMethod:a,formAction:l,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:h,json:void 0,text:void 0};if(Si(d.formMethod))return{path:n,submission:d};let v=Vo(n);return t&&v.search&&DT(v.search)&&c.append("index",""),v.search="?"+c,{path:ru(v),submission:d}}function h6(e,t){let n=e;if(t){let r=e.findIndex(i=>i.route.id===t);r>=0&&(n=e.slice(0,r))}return n}function QA(e,t,n,r,i,s,a,l,c,h,d,v,m,y){let _=y?Object.values(y)[0]:m?Object.values(m)[0]:void 0,E=e.createURL(t.location),S=e.createURL(i),b=y?Object.keys(y)[0]:void 0,k=h6(n,b).filter((x,O)=>{if(x.route.lazy)return!0;if(x.route.loader==null)return!1;if(d6(t.loaderData,t.matches[O],x)||a.some(te=>te===x.route.id))return!0;let V=t.matches[O],M=x;return YA(x,vt({currentUrl:E,currentParams:V.params,nextUrl:S,nextParams:M.params},r,{actionResult:_,defaultShouldRevalidate:s||E.pathname+E.search===S.pathname+S.search||E.search!==S.search||_2(V,M)}))}),C=[];return c.forEach((x,O)=>{if(!n.some(me=>me.route.id===x.routeId))return;let V=Il(d,x.path,v);if(!V){C.push({key:O,routeId:x.routeId,path:x.path,matches:null,match:null,controller:null});return}let M=t.fetchers.get(O),te=M&&M.state!=="idle"&&M.data===void 0&&!h.has(O),R=P1(V,x.path);(l.includes(O)||te||YA(R,vt({currentUrl:E,currentParams:t.matches[t.matches.length-1].params,nextUrl:S,nextParams:n[n.length-1].params},r,{actionResult:_,defaultShouldRevalidate:s})))&&C.push({key:O,routeId:x.routeId,path:x.path,matches:V,match:R,controller:new AbortController})}),[k,C]}function d6(e,t,n){let r=!t||n.route.id!==t.route.id,i=e[n.route.id]===void 0;return r||i}function _2(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function YA(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}async function XA(e,t,n){if(!e.lazy)return;let r=await e.lazy();if(!e.lazy)return;let i=n[e.id];be(i,"No route found in manifest");let s={};for(let a in r){let c=i[a]!==void 0&&a!=="hasErrorBoundary";Kl(!c,'Route "'+i.id+'" has a static property "'+a+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+a+'" will be ignored.')),!c&&!Mq.has(a)&&(s[a]=r[a])}Object.assign(i,s),Object.assign(i,vt({},t(i),{lazy:void 0}))}async function jf(e,t,n,r,i,s,a,l){l===void 0&&(l={});let c,h,d,v=_=>{let E,S=new Promise((b,I)=>E=I);return d=()=>E(),t.signal.addEventListener("abort",d),Promise.race([_({request:t,params:n.params,context:l.requestContext}),S])};try{let _=n.route[e];if(n.route.lazy)if(_)h=(await Promise.all([v(_),XA(n.route,s,i)]))[0];else if(await XA(n.route,s,i),_=n.route[e],_)h=await v(_);else if(e==="action"){let E=new URL(t.url),S=E.pathname+E.search;throw Wr(405,{method:t.method,pathname:S,routeId:n.route.id})}else return{type:Qt.data,data:void 0};else if(_)h=await v(_);else{let E=new URL(t.url),S=E.pathname+E.search;throw Wr(404,{pathname:S})}be(h!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(_){c=Qt.error,h=_}finally{d&&t.signal.removeEventListener("abort",d)}if(g6(h)){let _=h.status;if(s6.has(_)){let b=h.headers.get("Location");if(be(b,"Redirects returned/thrown from loaders/actions must have a Location header"),!y2.test(b))b=R1(new URL(t.url),r.slice(0,r.indexOf(n)+1),a,!0,b);else if(!l.isStaticRequest){let I=new URL(t.url),k=b.startsWith("//")?new URL(I.protocol+b):new URL(b),C=bc(k.pathname,a)!=null;k.origin===I.origin&&C&&(b=k.pathname+k.search+k.hash)}if(l.isStaticRequest)throw h.headers.set("Location",b),h;return{type:Qt.redirect,status:_,location:b,revalidate:h.headers.get("X-Remix-Revalidate")!==null}}if(l.isRouteRequest)throw{type:c||Qt.data,response:h};let E,S=h.headers.get("Content-Type");return S&&/\bapplication\/json\b/.test(S)?E=await h.json():E=await h.text(),c===Qt.error?{type:c,error:new OT(_,h.statusText,E),headers:h.headers}:{type:Qt.data,data:E,statusCode:h.status,headers:h.headers}}if(c===Qt.error)return{type:c,error:h};if(m6(h)){var m,y;return{type:Qt.deferred,deferredData:h,statusCode:(m=h.init)==null?void 0:m.status,headers:((y=h.init)==null?void 0:y.headers)&&new Headers(h.init.headers)}}return{type:Qt.data,data:h}}function Vf(e,t,n,r){let i=e.createURL(w2(t)).toString(),s={signal:n};if(r&&Si(r.formMethod)){let{formMethod:a,formEncType:l}=r;s.method=a.toUpperCase(),l==="application/json"?(s.headers=new Headers({"Content-Type":l}),s.body=JSON.stringify(r.json)):l==="text/plain"?s.body=r.text:l==="application/x-www-form-urlencoded"&&r.formData?s.body=A1(r.formData):s.body=r.formData}return new Request(i,s)}function A1(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function JA(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function p6(e,t,n,r,i){let s={},a=null,l,c=!1,h={};return n.forEach((d,v)=>{let m=t[v].route.id;if(be(!Dl(d),"Cannot handle redirect results in processLoaderData"),fh(d)){let y=Sl(e,m),_=d.error;r&&(_=Object.values(r)[0],r=void 0),a=a||{},a[y.route.id]==null&&(a[y.route.id]=_),s[m]=void 0,c||(c=!0,l=m2(d.error)?d.error.status:500),d.headers&&(h[m]=d.headers)}else Ma(d)?(i.set(m,d.deferredData),s[m]=d.deferredData.data):s[m]=d.data,d.statusCode!=null&&d.statusCode!==200&&!c&&(l=d.statusCode),d.headers&&(h[m]=d.headers)}),r&&(a=r,s[Object.keys(r)[0]]=void 0),{loaderData:s,errors:a,statusCode:l||200,loaderHeaders:h}}function ZA(e,t,n,r,i,s,a,l){let{loaderData:c,errors:h}=p6(t,n,r,i,l);for(let d=0;d<s.length;d++){let{key:v,match:m,controller:y}=s[d];be(a!==void 0&&a[d]!==void 0,"Did not find corresponding fetcher result");let _=a[d];if(!(y&&y.signal.aborted))if(fh(_)){let E=Sl(e.matches,m==null?void 0:m.route.id);h&&h[E.route.id]||(h=vt({},h,{[E.route.id]:_.error})),e.fetchers.delete(v)}else if(Dl(_))be(!1,"Unhandled fetcher revalidation redirect");else if(Ma(_))be(!1,"Unhandled fetcher deferred data");else{let E=Gv(_.data);e.fetchers.set(v,E)}}return{loaderData:c,errors:h}}function eP(e,t,n,r){let i=vt({},t);for(let s of n){let a=s.route.id;if(t.hasOwnProperty(a)?t[a]!==void 0&&(i[a]=t[a]):e[a]!==void 0&&s.route.loader&&(i[a]=e[a]),r&&r.hasOwnProperty(a))break}return i}function Sl(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function tP(e){let t=e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Wr(e,t){let{pathname:n,routeId:r,method:i,type:s}=t===void 0?{}:t,a="Unknown Server Error",l="Unknown @remix-run/router error";return e===400?(a="Bad Request",i&&n&&r?l="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?l="defer() is not supported in actions":s==="invalid-body"&&(l="Unable to encode submission body")):e===403?(a="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):e===404?(a="Not Found",l='No route matches URL "'+n+'"'):e===405&&(a="Method Not Allowed",i&&n&&r?l="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new OT(e||500,a,new Error(l),!0)}function nP(e){for(let t=e.length-1;t>=0;t--){let n=e[t];if(Dl(n))return n}}function w2(e){let t=typeof e=="string"?Vo(e):e;return ru(vt({},t,{hash:""}))}function v6(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function Ma(e){return e.type===Qt.deferred}function fh(e){return e.type===Qt.error}function Dl(e){return(e&&e.type)===Qt.redirect}function m6(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function g6(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function y6(e){return o6.has(e.toLowerCase())}function Si(e){return r6.has(e.toLowerCase())}async function rP(e,t,n,r,i,s){for(let a=0;a<n.length;a++){let l=n[a],c=t[a];if(!c)continue;let h=e.find(v=>v.route.id===c.route.id),d=h!=null&&!_2(h,c)&&(s&&s[c.route.id])!==void 0;if(Ma(l)&&(i||d)){let v=r[a];be(v,"Expected an AbortSignal for revalidating fetcher deferred result"),await E2(l,v,i).then(m=>{m&&(n[a]=m||n[a])})}}}async function E2(e,t,n){if(n===void 0&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:Qt.data,data:e.deferredData.unwrappedData}}catch(i){return{type:Qt.error,error:i}}return{type:Qt.data,data:e.deferredData.data}}}function DT(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function _6(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}function P1(e,t){let n=typeof t=="string"?Vo(t).search:t.search;if(e[e.length-1].route.index&&DT(n||""))return e[e.length-1];let r=Td(e);return r[r.length-1]}function iP(e){let{formMethod:t,formAction:n,formEncType:r,text:i,formData:s,json:a}=e;if(!(!t||!n||!r)){if(i!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:t,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(a!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:a,text:void 0}}}function yv(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function w6(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function Bf(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t," _hasFetcherDoneAnything ":!0}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t," _hasFetcherDoneAnything ":!0}}function E6(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0," _hasFetcherDoneAnything ":!0}}function Gv(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e," _hasFetcherDoneAnything ":!0}}/**
 * React Router v6.14.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nm(){return Nm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nm.apply(this,arguments)}const jg=U.createContext(null),LT=U.createContext(null),_u=U.createContext(null),Vg=U.createContext(null),io=U.createContext({outlet:null,matches:[],isDataRoute:!1}),b2=U.createContext(null);function b6(e,t){let{relative:n}=t===void 0?{}:t;Tc()||be(!1);let{basename:r,navigator:i}=U.useContext(_u),{hash:s,pathname:a,search:l}=MT(e,{relative:n}),c=a;return r!=="/"&&(c=a==="/"?r:ko([r,a])),i.createHref({pathname:c,search:l,hash:s})}function Tc(){return U.useContext(Vg)!=null}function Ic(){return Tc()||be(!1),U.useContext(Vg).location}function T2(e){U.useContext(_u).static||U.useLayoutEffect(e)}function Bg(){let{isDataRoute:e}=U.useContext(io);return e?F6():T6()}function T6(){Tc()||be(!1);let e=U.useContext(jg),{basename:t,navigator:n}=U.useContext(_u),{matches:r}=U.useContext(io),{pathname:i}=Ic(),s=JSON.stringify(Td(r).map(c=>c.pathnameBase)),a=U.useRef(!1);return T2(()=>{a.current=!0}),U.useCallback(function(c,h){if(h===void 0&&(h={}),!a.current)return;if(typeof c=="number"){n.go(c);return}let d=Ug(c,JSON.parse(s),i,h.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:ko([t,d.pathname])),(h.replace?n.replace:n.push)(d,h.state,h)},[t,n,s,i,e])}const I6=U.createContext(null);function S6(e){let t=U.useContext(io).outlet;return t&&U.createElement(I6.Provider,{value:e},t)}function C6(){let{matches:e}=U.useContext(io),t=e[e.length-1];return t?t.params:{}}function MT(e,t){let{relative:n}=t===void 0?{}:t,{matches:r}=U.useContext(io),{pathname:i}=Ic(),s=JSON.stringify(Td(r).map(a=>a.pathnameBase));return U.useMemo(()=>Ug(e,JSON.parse(s),i,n==="path"),[e,s,i,n])}function k6(e,t,n){Tc()||be(!1);let{navigator:r}=U.useContext(_u),{matches:i}=U.useContext(io),s=i[i.length-1],a=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let c=Ic(),h;if(t){var d;let E=typeof t=="string"?Vo(t):t;l==="/"||(d=E.pathname)!=null&&d.startsWith(l)||be(!1),h=E}else h=c;let v=h.pathname||"/",m=l==="/"?v:v.slice(l.length)||"/",y=Il(e,{pathname:m}),_=x6(y&&y.map(E=>Object.assign({},E,{params:Object.assign({},a,E.params),pathname:ko([l,r.encodeLocation?r.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?l:ko([l,r.encodeLocation?r.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),i,n);return t&&_?U.createElement(Vg.Provider,{value:{location:Nm({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:$t.Pop}},_):_}function N6(){let e=M6(),t=m2(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},t),n?U.createElement("pre",{style:i},n):null,s)}const R6=U.createElement(N6,null);class A6 extends U.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error||n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?U.createElement(io.Provider,{value:this.props.routeContext},U.createElement(b2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function P6(e){let{routeContext:t,match:n,children:r}=e,i=U.useContext(jg);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),U.createElement(io.Provider,{value:t},r)}function x6(e,t,n){var r;if(t===void 0&&(t=[]),n===void 0&&(n=null),e==null){var i;if((i=n)!=null&&i.errors)e=n.matches;else return null}let s=e,a=(r=n)==null?void 0:r.errors;if(a!=null){let l=s.findIndex(c=>c.route.id&&(a==null?void 0:a[c.route.id]));l>=0||be(!1),s=s.slice(0,Math.min(s.length,l+1))}return s.reduceRight((l,c,h)=>{let d=c.route.id?a==null?void 0:a[c.route.id]:null,v=null;n&&(v=c.route.errorElement||R6);let m=t.concat(s.slice(0,h+1)),y=()=>{let _;return d?_=v:c.route.Component?_=U.createElement(c.route.Component,null):c.route.element?_=c.route.element:_=l,U.createElement(P6,{match:c,routeContext:{outlet:l,matches:m,isDataRoute:n!=null},children:_})};return n&&(c.route.ErrorBoundary||c.route.errorElement||h===0)?U.createElement(A6,{location:n.location,revalidation:n.revalidation,component:v,error:d,children:y(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):y()},null)}var x1;(function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate"})(x1||(x1={}));var qh;(function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId"})(qh||(qh={}));function O6(e){let t=U.useContext(jg);return t||be(!1),t}function D6(e){let t=U.useContext(LT);return t||be(!1),t}function L6(e){let t=U.useContext(io);return t||be(!1),t}function I2(e){let t=L6(),n=t.matches[t.matches.length-1];return n.route.id||be(!1),n.route.id}function M6(){var e;let t=U.useContext(b2),n=D6(qh.UseRouteError),r=I2(qh.UseRouteError);return t||((e=n.errors)==null?void 0:e[r])}function F6(){let{router:e}=O6(x1.UseNavigateStable),t=I2(qh.UseNavigateStable),n=U.useRef(!1);return T2(()=>{n.current=!0}),U.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Nm({fromRouteId:t},s)))},[e,t])}const U6="startTransition",oP=bz[U6];function j6(e){let{fallbackElement:t,router:n,future:r}=e,[i,s]=U.useState(n.state),{v7_startTransition:a}=r||{},l=U.useCallback(v=>{a&&oP?oP(()=>s(v)):s(v)},[s,a]);U.useLayoutEffect(()=>n.subscribe(l),[n,l]);let c=U.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:v=>n.navigate(v),push:(v,m,y)=>n.navigate(v,{state:m,preventScrollReset:y==null?void 0:y.preventScrollReset}),replace:(v,m,y)=>n.navigate(v,{replace:!0,state:m,preventScrollReset:y==null?void 0:y.preventScrollReset})}),[n]),h=n.basename||"/",d=U.useMemo(()=>({router:n,navigator:c,static:!1,basename:h}),[n,c,h]);return U.createElement(U.Fragment,null,U.createElement(jg.Provider,{value:d},U.createElement(LT.Provider,{value:i},U.createElement(z6,{basename:h,location:i.location,navigationType:i.historyAction,navigator:c},i.initialized?U.createElement(V6,{routes:n.routes,state:i}):t))),null)}function V6(e){let{routes:t,state:n}=e;return k6(t,void 0,n)}function B6(e){let{to:t,replace:n,state:r,relative:i}=e;Tc()||be(!1);let{matches:s}=U.useContext(io),{pathname:a}=Ic(),l=Bg(),c=Ug(t,Td(s).map(d=>d.pathnameBase),a,i==="path"),h=JSON.stringify(c);return U.useEffect(()=>l(JSON.parse(h),{replace:n,state:r,relative:i}),[l,h,i,n,r]),null}function $6(e){return S6(e.context)}function ka(e){be(!1)}function z6(e){let{basename:t="/",children:n=null,location:r,navigationType:i=$t.Pop,navigator:s,static:a=!1}=e;Tc()&&be(!1);let l=t.replace(/^\/*/,"/"),c=U.useMemo(()=>({basename:l,navigator:s,static:a}),[l,s,a]);typeof r=="string"&&(r=Vo(r));let{pathname:h="/",search:d="",hash:v="",state:m=null,key:y="default"}=r,_=U.useMemo(()=>{let E=bc(h,l);return E==null?null:{location:{pathname:E,search:d,hash:v,state:m,key:y},navigationType:i}},[l,h,d,v,m,y,i]);return _==null?null:U.createElement(_u.Provider,{value:c},U.createElement(Vg.Provider,{children:n,value:_}))}var sP;(function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"})(sP||(sP={}));new Promise(()=>{});function O1(e,t){t===void 0&&(t=[]);let n=[];return U.Children.forEach(e,(r,i)=>{if(!U.isValidElement(r))return;let s=[...t,i];if(r.type===U.Fragment){n.push.apply(n,O1(r.props.children,s));return}r.type!==ka&&be(!1),!r.props.index||!r.props.children||be(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=O1(r.props.children,s)),n.push(a)}),n}function q6(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:U.createElement(e.Component),Component:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:U.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}/**
 * React Router DOM v6.14.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gl(){return Gl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gl.apply(this,arguments)}function S2(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function W6(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function H6(e,t){return e.button===0&&(!t||t==="_self")&&!W6(e)}const K6=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],G6=["aria-current","caseSensitive","className","end","style","to","children"];function Q6(e,t){return c6({basename:t==null?void 0:t.basename,future:Gl({},t==null?void 0:t.future,{v7_prependBasename:!0}),history:Oq({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||Y6(),routes:e,mapRouteProperties:q6}).initialize()}function Y6(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=Gl({},t,{errors:X6(t.errors)})),t}function X6(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,i]of t)if(i&&i.__type==="RouteErrorResponse")n[r]=new OT(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){let s=new Error(i.message);s.stack="",n[r]=s}else n[r]=i;return n}const J6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Z6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,eW=U.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:s,replace:a,state:l,target:c,to:h,preventScrollReset:d}=t,v=S2(t,K6),{basename:m}=U.useContext(_u),y,_=!1;if(typeof h=="string"&&Z6.test(h)&&(y=h,J6))try{let I=new URL(window.location.href),k=h.startsWith("//")?new URL(I.protocol+h):new URL(h),C=bc(k.pathname,m);k.origin===I.origin&&C!=null?h=C+k.search+k.hash:_=!0}catch{}let E=b6(h,{relative:i}),S=tW(h,{replace:a,state:l,target:c,preventScrollReset:d,relative:i});function b(I){r&&r(I),I.defaultPrevented||S(I)}return U.createElement("a",Gl({},v,{href:y||E,onClick:_||s?r:b,ref:n,target:c}))}),Wh=U.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:a=!1,style:l,to:c,children:h}=t,d=S2(t,G6),v=MT(c,{relative:d.relative}),m=Ic(),y=U.useContext(LT),{navigator:_}=U.useContext(_u),E=_.encodeLocation?_.encodeLocation(v).pathname:v.pathname,S=m.pathname,b=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;i||(S=S.toLowerCase(),b=b?b.toLowerCase():null,E=E.toLowerCase());let I=S===E||!a&&S.startsWith(E)&&S.charAt(E.length)==="/",k=b!=null&&(b===E||!a&&b.startsWith(E)&&b.charAt(E.length)==="/"),C=I?r:void 0,x;typeof s=="function"?x=s({isActive:I,isPending:k}):x=[s,I?"active":null,k?"pending":null].filter(Boolean).join(" ");let O=typeof l=="function"?l({isActive:I,isPending:k}):l;return U.createElement(eW,Gl({},d,{"aria-current":C,className:x,ref:n,style:O,to:c}),typeof h=="function"?h({isActive:I,isPending:k}):h)});var aP;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher"})(aP||(aP={}));var uP;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(uP||(uP={}));function tW(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:a}=t===void 0?{}:t,l=Bg(),c=Ic(),h=MT(e,{relative:a});return U.useCallback(d=>{if(H6(d,n)){d.preventDefault();let v=r!==void 0?r:ru(c)===ru(h);l(e,{replace:v,state:i,preventScrollReset:s,relative:a})}},[c,l,h,r,i,n,e,s,a])}var D1=function(e,t){return D1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},D1(e,t)};function J(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");D1(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var rt=function(){return rt=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},rt.apply(this,arguments)};function P(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function l(d){try{h(r.next(d))}catch(v){a(v)}}function c(d){try{h(r.throw(d))}catch(v){a(v)}}function h(d){d.done?s(d.value):i(d.value).then(l,c)}h((r=r.apply(e,t||[])).next())})}function A(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(h){return function(d){return c([h,d])}}function c(h){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,h[0]&&(n=0)),n;)try{if(r=1,i&&(s=h[0]&2?i.return:h[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,h[1])).done)return s;switch(i=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,i=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){n.label=h[1];break}if(h[0]===6&&n.label<s[1]){n.label=s[1],s=h;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(h);break}s[2]&&n.ops.pop(),n.trys.pop();continue}h=t.call(e,n)}catch(d){h=[6,d],i=0}finally{r=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}function pn(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function _n(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,s=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(l){a={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return s}function Ne(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var C2={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var G=function(e,t){if(!e)throw Sc(t)},Sc=function(e){return new Error("Firebase Database ("+C2.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var k2=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},nW=function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){var s=e[n++],a=e[n++],l=e[n++],c=((i&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(c&1023))}else{var s=e[n++],a=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return t.join("")},Hh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var s=e[i],a=i+1<e.length,l=a?e[i+1]:0,c=i+2<e.length,h=c?e[i+2]:0,d=s>>2,v=(s&3)<<4|l>>4,m=(l&15)<<2|h>>6,y=h&63;c||(y=64,a||(m=64)),r.push(n[d],n[v],n[m],n[y])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(k2(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):nW(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var s=n[e.charAt(i++)],a=i<e.length,l=a?n[e.charAt(i)]:0;++i;var c=i<e.length,h=c?n[e.charAt(i)]:64;++i;var d=i<e.length,v=d?n[e.charAt(i)]:64;if(++i,s==null||l==null||h==null||v==null)throw Error();var m=s<<2|l>>4;if(r.push(m),h!==64){var y=l<<4&240|h>>2;if(r.push(y),v!==64){var _=h<<6&192|v;r.push(_)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},rW=function(e){var t=k2(e);return Hh.encodeByteArray(t,!0)},lP=function(e){try{return Hh.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N2(e){return Kh(void 0,e)}function Kh(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(var r in t)!t.hasOwnProperty(r)||!iW(r)||(e[r]=Kh(e[r],t[r]));return e}function iW(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lr=function(){function e(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,r){t.resolve=n,t.reject=r})}return e.prototype.wrapCallback=function(t){var n=this;return function(r,i){r?n.reject(r):n.resolve(i),typeof t=="function"&&(n.promise.catch(function(){}),t.length===1?t(r):t(r,i))}},e}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R2(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=rt({iss:"https://securetoken.google.com/"+r,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),l="";return[Hh.encodeString(JSON.stringify(n),!1),Hh.encodeString(JSON.stringify(a),!1),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iu(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function FT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(iu())}function oW(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function sW(){return typeof self=="object"&&self.self===self}function UT(){var e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function A2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function aW(){return iu().indexOf("Electron/")>=0}function uW(){var e=iu();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function lW(){return iu().indexOf("MSAppHost/")>=0}function P2(){return C2.NODE_ADMIN===!0}function jT(){return"indexedDB"in self&&indexedDB!=null}function VT(){return new Promise(function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(s){t(s)}})}function x2(){return!(!navigator||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cW="FirebaseError",Cc=function(e){J(t,e);function t(n,r,i){var s=e.call(this,r)||this;return s.code=n,s.customData=i,s.name=cW,Object.setPrototypeOf(s,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,Hs.prototype.create),s}return t}(Error),Hs=function(){function e(t,n,r){this.service=t,this.serviceName=n,this.errors=r}return e.prototype.create=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=n[0]||{},s=this.service+"/"+t,a=this.errors[t],l=a?fW(a,i):"Error",c=this.serviceName+": "+l+" ("+s+").",h=new Cc(s,c,i);return h},e}();function fW(e,t){return e.replace(hW,function(n,r){var i=t[r];return i!=null?String(i):"<"+r+"?>"})}var hW=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gh(e){return JSON.parse(e)}function Xt(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var O2=function(e){var t={},n={},r={},i="";try{var s=e.split(".");t=Gh(lP(s[0])||""),n=Gh(lP(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:i}},dW=function(e){var t=O2(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},pW=function(e){var t=O2(e).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ou(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function L1(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Rm(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vW(e){for(var t=[],n=function(c,h){Array.isArray(h)?h.forEach(function(d){t.push(encodeURIComponent(c)+"="+encodeURIComponent(d))}):t.push(encodeURIComponent(c)+"="+encodeURIComponent(h))},r=0,i=Object.entries(e);r<i.length;r++){var s=i[r],a=s[0],l=s[1];n(a,l)}return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mW=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(t,n){n||(n=0);var r=this.W_;if(typeof t=="string")for(var i=0;i<16;i++)r[i]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(var i=0;i<16;i++)r[i]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(var i=16;i<80;i++){var s=r[i-3]^r[i-8]^r[i-14]^r[i-16];r[i]=(s<<1|s>>>31)&4294967295}for(var a=this.chain_[0],l=this.chain_[1],c=this.chain_[2],h=this.chain_[3],d=this.chain_[4],v,m,i=0;i<80;i++){i<40?i<20?(v=h^l&(c^h),m=1518500249):(v=l^c^h,m=1859775393):i<60?(v=l&c|h&(l|c),m=2400959708):(v=l^c^h,m=3395469782);var s=(a<<5|a>>>27)+v+d+m+r[i]&4294967295;d=h,h=c,c=(l<<30|l>>>2)&4294967295,l=a,a=s}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295},e.prototype.update=function(t,n){if(t!=null){n===void 0&&(n=t.length);for(var r=n-this.blockSize,i=0,s=this.buf_,a=this.inbuf_;i<n;){if(a===0)for(;i<=r;)this.compress_(t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<n;)if(s[a]=t.charCodeAt(i),++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}else for(;i<n;)if(s[a]=t[i],++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}this.inbuf_=a,this.total_+=n}},e.prototype.digest=function(){var t=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);for(var i=0,r=0;r<5;r++)for(var s=24;s>=0;s-=8)t[i]=this.chain_[r]>>s&255,++i;return t},e}();function gW(e,t){var n=new yW(e,t);return n.subscribe.bind(n)}var yW=function(){function e(t,n){var r=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){t(r)}).catch(function(i){r.error(i)})}return e.prototype.next=function(t){this.forEachObserver(function(n){n.next(t)})},e.prototype.error=function(t){this.forEachObserver(function(n){n.error(t)}),this.close(t)},e.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},e.prototype.subscribe=function(t,n,r){var i=this,s;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");_W(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:r},s.next===void 0&&(s.next=Yw),s.error===void 0&&(s.error=Yw),s.complete===void 0&&(s.complete=Yw);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?s.error(i.finalError):s.complete()}catch{}}),this.observers.push(s),a},e.prototype.unsubscribeOne=function(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},e.prototype.forEachObserver=function(t){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,t)},e.prototype.sendOne=function(t,n){var r=this;this.task.then(function(){if(r.observers!==void 0&&r.observers[t]!==void 0)try{n(r.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})},e.prototype.close=function(t){var n=this;this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},e}();function _W(e,t){if(typeof e!="object"||e===null)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&typeof e[i]=="function")return!0}return!1}function Yw(){}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var de=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=n===0?"none":"no more than "+n),i){var s=e+" failed: Was called with "+r+(r===1?" argument.":" arguments.")+" Expects "+i+".";throw new Error(s)}};function mr(e,t){return e+" failed: "+t+" argument "}function ln(e,t,n,r){if(!(r&&!n)&&typeof n!="function")throw new Error(mr(e,t)+"must be a valid function.")}function cP(e,t,n,r){if(!(r&&!n)&&(typeof n!="object"||n===null))throw new Error(mr(e,t)+"must be a valid context object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wW=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var s=i-55296;r++,G(r<e.length,"Surrogate pair missing trail surrogate.");var a=e.charCodeAt(r)-56320;i=65536+(s<<10)+a}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},$g=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var EW=1e3,bW=2,TW=4*60*60*1e3,IW=.5;function M1(e,t,n){t===void 0&&(t=EW),n===void 0&&(n=bW);var r=t*Math.pow(n,e),i=Math.round(IW*r*(Math.random()-.5)*2);return Math.min(TW,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(e){return e&&e._delegate?e._delegate:e}var _r=function(){function e(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},e.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},e.prototype.setServiceProps=function(t){return this.serviceProps=t,this},e.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var is="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var D2=function(){function e(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Set}return e.prototype.get=function(t){t===void 0&&(t=is);var n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){var r=new lr;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{var i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise},e.prototype.getImmediate=function(t){var n=rt({identifier:is,optional:!1},t),r=n.identifier,i=n.optional,s=this.normalizeInstanceIdentifier(r);if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error("Service "+this.name+" is not available")}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(t){var n,r;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,!!this.shouldAutoInitialize()){if(CW(t))try{this.getOrInitializeService({instanceIdentifier:is})}catch{}try{for(var i=pn(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var a=_n(s.value,2),l=a[0],c=a[1],h=this.normalizeInstanceIdentifier(l);try{var d=this.getOrInitializeService({instanceIdentifier:h});c.resolve(d)}catch{}}}catch(v){n={error:v}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}},e.prototype.clearInstance=function(t){t===void 0&&(t=is),this.instancesDeferred.delete(t),this.instances.delete(t)},e.prototype.delete=function(){return P(this,void 0,void 0,function(){var t;return A(this,function(n){switch(n.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Ne(Ne([],_n(t.filter(function(r){return"INTERNAL"in r}).map(function(r){return r.INTERNAL.delete()}))),_n(t.filter(function(r){return"_delete"in r}).map(function(r){return r._delete()}))))];case 1:return n.sent(),[2]}})})},e.prototype.isComponentSet=function(){return this.component!=null},e.prototype.isInitialized=function(t){return t===void 0&&(t=is),this.instances.has(t)},e.prototype.initialize=function(t){var n,r;t===void 0&&(t={});var i=t.instanceIdentifier,s=i===void 0?is:i,a=t.options,l=a===void 0?{}:a,c=this.normalizeInstanceIdentifier(s);if(this.isInitialized(c))throw Error(this.name+"("+c+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var h=this.getOrInitializeService({instanceIdentifier:c,options:l});try{for(var d=pn(this.instancesDeferred.entries()),v=d.next();!v.done;v=d.next()){var m=_n(v.value,2),y=m[0],_=m[1],E=this.normalizeInstanceIdentifier(y);c===E&&_.resolve(h)}}catch(S){n={error:S}}finally{try{v&&!v.done&&(r=d.return)&&r.call(d)}finally{if(n)throw n.error}}return this.invokeOnInitCallbacks(h,c),h},e.prototype.onInit=function(t){var n=this;return this.onInitCallbacks.add(t),function(){n.onInitCallbacks.delete(t)}},e.prototype.invokeOnInitCallbacks=function(t,n){var r,i;try{for(var s=pn(this.onInitCallbacks),a=s.next();!a.done;a=s.next()){var l=a.value;try{l(t,n)}catch{}}}catch(c){r={error:c}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}},e.prototype.getOrInitializeService=function(t){var n=t.instanceIdentifier,r=t.options,i=r===void 0?{}:r,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:SW(n),options:i}),this.instances.set(n,s),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch{}return s||null},e.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:is:t},e.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},e}();function SW(e){return e===is?void 0:e}function CW(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var L2=function(){function e(t){this.name=t,this.providers=new Map}return e.prototype.addComponent=function(t){var n=this.getProvider(t.name);if(n.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);n.setComponent(t)},e.prototype.addOrOverwriteComponent=function(t){var n=this.getProvider(t.name);n.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},e.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var n=new D2(t,this);return this.providers.set(t,n),n},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function Ei(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var s=arguments[t],a=0,l=s.length;a<l;a++,i++)r[i]=s[a];return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ia,BT=[],ke;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(ke||(ke={}));var M2={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},kW=ke.INFO,NW=(Ia={},Ia[ke.DEBUG]="log",Ia[ke.VERBOSE]="log",Ia[ke.INFO]="info",Ia[ke.WARN]="warn",Ia[ke.ERROR]="error",Ia),RW=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var i=new Date().toISOString(),s=NW[t];if(s)console[s].apply(console,Ei(["["+i+"]  "+e.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}},kc=function(){function e(t){this.name=t,this._logLevel=kW,this._logHandler=RW,this._userLogHandler=null,BT.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in ke))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(t){this._logLevel=typeof t=="string"?M2[t]:t},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Ei([this,ke.DEBUG],t)),this._logHandler.apply(this,Ei([this,ke.DEBUG],t))},e.prototype.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Ei([this,ke.VERBOSE],t)),this._logHandler.apply(this,Ei([this,ke.VERBOSE],t))},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Ei([this,ke.INFO],t)),this._logHandler.apply(this,Ei([this,ke.INFO],t))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Ei([this,ke.WARN],t)),this._logHandler.apply(this,Ei([this,ke.WARN],t))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Ei([this,ke.ERROR],t)),this._logHandler.apply(this,Ei([this,ke.ERROR],t))},e}();function AW(e){BT.forEach(function(t){t.setLogLevel(e)})}function PW(e,t){for(var n=function(a){var l=null;t&&t.level&&(l=M2[t.level]),e===null?a.userLogHandler=null:a.userLogHandler=function(c,h){for(var d=[],v=2;v<arguments.length;v++)d[v-2]=arguments[v];var m=d.map(function(y){if(y==null)return null;if(typeof y=="string")return y;if(typeof y=="number"||typeof y=="boolean")return y.toString();if(y instanceof Error)return y.message;try{return JSON.stringify(y)}catch{return null}}).filter(function(y){return y}).join(" ");h>=(l??c.logLevel)&&e({level:ke[h].toLowerCase(),message:m,args:d,type:c.name})}},r=0,i=BT;r<i.length;r++){var s=i[r];n(s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var es,xW=(es={},es["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",es["bad-app-name"]="Illegal App name: '{$appName}",es["duplicate-app"]="Firebase App named '{$appName}' already exists",es["app-deleted"]="Firebase App named '{$appName}' already deleted",es["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",es["invalid-log-argument"]="First argument to `onLog` must be null or a function.",es),ll=new Hs("app","Firebase",xW),F2="@firebase/app",OW="0.6.21",DW="@firebase/analytics",LW="@firebase/app-check",MW="@firebase/auth",FW="@firebase/database",UW="@firebase/functions",jW="@firebase/installations",VW="@firebase/messaging",BW="@firebase/performance",$W="@firebase/remote-config",zW="@firebase/storage",qW="@firebase/firestore",WW="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nn,Am="[DEFAULT]",HW=(Nn={},Nn[F2]="fire-core",Nn[DW]="fire-analytics",Nn[LW]="fire-app-check",Nn[MW]="fire-auth",Nn[FW]="fire-rtdb",Nn[UW]="fire-fn",Nn[jW]="fire-iid",Nn[VW]="fire-fcm",Nn[BW]="fire-perf",Nn[$W]="fire-rc",Nn[zW]="fire-gcs",Nn[qW]="fire-fst",Nn["fire-js"]="fire-js",Nn[WW]="fire-js-all",Nn);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ql=new kc("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qv=function(){function e(t,n,r){var i=this;this.firebase_=r,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=N2(t),this.container=new L2(n.name),this._addComponent(new _r("app",function(){return i},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(s){return i._addComponent(s)})}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var t=this;return new Promise(function(n){t.checkDestroyed_(),n()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(n){return n.delete()}))}).then(function(){t.isDeleted_=!0})},e.prototype._getService=function(t,n){return n===void 0&&(n=Am),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:n})},e.prototype._removeServiceInstance=function(t,n){n===void 0&&(n=Am),this.container.getProvider(t).clearInstance(n)},e.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(n){Ql.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,n)}},e.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw ll.create("app-deleted",{appName:this.name_})},e}();Qv.prototype.name&&Qv.prototype.options||Qv.prototype.delete||console.log("dc");var KW="8.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GW(e){var t={},n=new Map,r={__esModule:!0,initializeApp:a,app:s,registerVersion:h,setLogLevel:AW,onLog:d,apps:null,SDK_VERSION:KW,INTERNAL:{registerComponent:c,removeApp:i,components:n,useAsService:v}};r.default=r,Object.defineProperty(r,"apps",{get:l});function i(m){delete t[m]}function s(m){if(m=m||Am,!Or(t,m))throw ll.create("no-app",{appName:m});return t[m]}s.App=e;function a(m,y){if(y===void 0&&(y={}),typeof y!="object"||y===null){var _=y;y={name:_}}var E=y;E.name===void 0&&(E.name=Am);var S=E.name;if(typeof S!="string"||!S)throw ll.create("bad-app-name",{appName:String(S)});if(Or(t,S))throw ll.create("duplicate-app",{appName:S});var b=new e(m,E,r);return t[S]=b,b}function l(){return Object.keys(t).map(function(m){return t[m]})}function c(m){var y=m.name;if(n.has(y))return Ql.debug("There were multiple attempts to register component "+y+"."),m.type==="PUBLIC"?r[y]:null;if(n.set(y,m),m.type==="PUBLIC"){var _=function(I){if(I===void 0&&(I=s()),typeof I[y]!="function")throw ll.create("invalid-app-argument",{appName:y});return I[y]()};m.serviceProps!==void 0&&Kh(_,m.serviceProps),r[y]=_,e.prototype[y]=function(){for(var I=[],k=0;k<arguments.length;k++)I[k]=arguments[k];var C=this._getService.bind(this,y);return C.apply(this,m.multipleInstances?I:[])}}for(var E=0,S=Object.keys(t);E<S.length;E++){var b=S[E];t[b]._addComponent(m)}return m.type==="PUBLIC"?r[y]:null}function h(m,y,_){var E,S=(E=HW[m])!==null&&E!==void 0?E:m;_&&(S+="-"+_);var b=S.match(/\s|\//),I=y.match(/\s|\//);if(b||I){var k=['Unable to register library "'+S+'" with version "'+y+'":'];b&&k.push('library name "'+S+'" contains illegal characters (whitespace or "/")'),b&&I&&k.push("and"),I&&k.push('version name "'+y+'" contains illegal characters (whitespace or "/")'),Ql.warn(k.join(" "));return}c(new _r(S+"-version",function(){return{library:S,version:y}},"VERSION"))}function d(m,y){if(m!==null&&typeof m!="function")throw ll.create("invalid-log-argument");PW(m,y)}function v(m,y){if(y==="serverAuth")return null;var _=y;return _}return r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U2(){var e=GW(Qv);e.INTERNAL=rt(rt({},e.INTERNAL),{createFirebaseNamespace:U2,extendNamespace:t,createSubscribe:gW,ErrorFactory:Hs,deepExtend:Kh});function t(n){Kh(e,n)}return e}var $T=U2();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var QW=function(){function e(t){this.container=t}return e.prototype.getPlatformInfoString=function(){var t=this.container.getProviders();return t.map(function(n){if(YW(n)){var r=n.getImmediate();return r.library+"/"+r.version}else return null}).filter(function(n){return n}).join(" ")},e}();function YW(e){var t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XW(e,t){e.INTERNAL.registerComponent(new _r("platform-logger",function(n){return new QW(n)},"PRIVATE")),e.registerVersion(F2,OW,t),e.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(sW()&&self.firebase!==void 0){Ql.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var fP=self.firebase.SDK_VERSION;fP&&fP.indexOf("LITE")>=0&&Ql.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var JW=$T.initializeApp;$T.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return oW()&&Ql.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),JW.apply(void 0,e)};var ue=$T;XW(ue);(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,u,f){o!=Array.prototype&&o!=Object.prototype&&(o[u]=f.value)};function n(o){o=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,o];for(var u=0;u<o.length;++u){var f=o[u];if(f&&f.Math==Math)return f}return globalThis}var r=n(this);function i(o,u){if(u){var f=r;o=o.split(".");for(var p=0;p<o.length-1;p++){var g=o[p];g in f||(f[g]={}),f=f[g]}o=o[o.length-1],p=f[o],u=u(p),u!=p&&u!=null&&t(f,o,{configurable:!0,writable:!0,value:u})}}function s(o){var u=0;return function(){return u<o.length?{done:!1,value:o[u++]}:{done:!0}}}function a(o){var u=typeof Symbol<"u"&&Symbol.iterator&&o[Symbol.iterator];return u?u.call(o):{next:s(o)}}i("Promise",function(o){function u(T){this.b=0,this.c=void 0,this.a=[];var N=this.f();try{T(N.resolve,N.reject)}catch(j){N.reject(j)}}function f(){this.a=null}function p(T){return T instanceof u?T:new u(function(N){N(T)})}if(o)return o;f.prototype.b=function(T){if(this.a==null){this.a=[];var N=this;this.c(function(){N.g()})}this.a.push(T)};var g=r.setTimeout;f.prototype.c=function(T){g(T,0)},f.prototype.g=function(){for(;this.a&&this.a.length;){var T=this.a;this.a=[];for(var N=0;N<T.length;++N){var j=T[N];T[N]=null;try{j()}catch(B){this.f(B)}}}this.a=null},f.prototype.f=function(T){this.c(function(){throw T})},u.prototype.f=function(){function T(B){return function(ye){j||(j=!0,B.call(N,ye))}}var N=this,j=!1;return{resolve:T(this.m),reject:T(this.g)}},u.prototype.m=function(T){if(T===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(T instanceof u)this.s(T);else{e:switch(typeof T){case"object":var N=T!=null;break e;case"function":N=!0;break e;default:N=!1}N?this.v(T):this.h(T)}},u.prototype.v=function(T){var N=void 0;try{N=T.then}catch(j){this.g(j);return}typeof N=="function"?this.u(N,T):this.h(T)},u.prototype.g=function(T){this.i(2,T)},u.prototype.h=function(T){this.i(1,T)},u.prototype.i=function(T,N){if(this.b!=0)throw Error("Cannot settle("+T+", "+N+"): Promise already settled in state"+this.b);this.b=T,this.c=N,this.l()},u.prototype.l=function(){if(this.a!=null){for(var T=0;T<this.a.length;++T)w.b(this.a[T]);this.a=null}};var w=new f;return u.prototype.s=function(T){var N=this.f();T.Qa(N.resolve,N.reject)},u.prototype.u=function(T,N){var j=this.f();try{T.call(N,j.resolve,j.reject)}catch(B){j.reject(B)}},u.prototype.then=function(T,N){function j(je,sn){return typeof je=="function"?function(go){try{B(je(go))}catch(Ew){ye(Ew)}}:sn}var B,ye,Ge=new u(function(je,sn){B=je,ye=sn});return this.Qa(j(T,B),j(N,ye)),Ge},u.prototype.catch=function(T){return this.then(void 0,T)},u.prototype.Qa=function(T,N){function j(){switch(B.b){case 1:T(B.c);break;case 2:N(B.c);break;default:throw Error("Unexpected state: "+B.b)}}var B=this;this.a==null?w.b(j):this.a.push(j)},u.resolve=p,u.reject=function(T){return new u(function(N,j){j(T)})},u.race=function(T){return new u(function(N,j){for(var B=a(T),ye=B.next();!ye.done;ye=B.next())p(ye.value).Qa(N,j)})},u.all=function(T){var N=a(T),j=N.next();return j.done?p([]):new u(function(B,ye){function Ge(go){return function(Ew){je[go]=Ew,sn--,sn==0&&B(je)}}var je=[],sn=0;do je.push(void 0),sn++,p(j.value).Qa(Ge(je.length-1),ye),j=N.next();while(!j.done)})},u});var l=l||{},c=this||self,h=/^[\w+/_-]+[=]{0,2}$/,d=null;function v(o){return(o=o.querySelector&&o.querySelector("script[nonce]"))&&(o=o.nonce||o.getAttribute("nonce"))&&h.test(o)?o:""}function m(){}function y(o){var u=typeof o;return u!="object"?u:o?Array.isArray(o)?"array":u:"null"}function _(o){var u=y(o);return u=="array"||u=="object"&&typeof o.length=="number"}function E(o){return y(o)=="function"}function S(o){var u=typeof o;return u=="object"&&o!=null||u=="function"}function b(o){return Object.prototype.hasOwnProperty.call(o,I)&&o[I]||(o[I]=++k)}var I="closure_uid_"+(1e9*Math.random()>>>0),k=0;function C(o,u,f){return o.call.apply(o.bind,arguments)}function x(o,u,f){if(!o)throw Error();if(2<arguments.length){var p=Array.prototype.slice.call(arguments,2);return function(){var g=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(g,p),o.apply(u,g)}}return function(){return o.apply(u,arguments)}}function O(o,u,f){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?O=C:O=x,O.apply(null,arguments)}function V(o,u){var f=Array.prototype.slice.call(arguments,1);return function(){var p=f.slice();return p.push.apply(p,arguments),o.apply(this,p)}}function M(o,u){function f(){}f.prototype=u.prototype,o.ab=u.prototype,o.prototype=new f,o.prototype.constructor=o}function te(o){return o}function R(o,u,f){this.code=me+o,this.message=u||Ut[o]||"",this.a=f||null}M(R,Error),R.prototype.w=function(){var o={code:this.code,message:this.message};return this.a&&(o.serverResponse=this.a),o},R.prototype.toJSON=function(){return this.w()};function ze(o){var u=o&&o.code;return u?new R(u.substring(me.length),o.message,o.serverResponse):null}var me="auth/",Ut={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},lt={ld:{Ta:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ta:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://securetoken.googleapis.com/v1/token",Wa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ta:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ta:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Za:"https://test-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function kt(o){for(var u in lt)if(lt[u].id===o)return o=lt[u],{firebaseEndpoint:o.Ta,secureTokenEndpoint:o.Za,identityPlatformEndpoint:o.Wa};return null}var qe;qe=kt("__EID__")?"__EID__":void 0;function _t(o){if(!o)return!1;try{return!!o.$goog_Thenable}catch{return!1}}function W(o){if(Error.captureStackTrace)Error.captureStackTrace(this,W);else{var u=Error().stack;u&&(this.stack=u)}o&&(this.message=String(o))}M(W,Error),W.prototype.name="CustomError";function oe(o,u){o=o.split("%s");for(var f="",p=o.length-1,g=0;g<p;g++)f+=o[g]+(g<u.length?u[g]:"%s");W.call(this,f+o[p])}M(oe,W),oe.prototype.name="AssertionError";function he(o,u){throw new oe("Failure"+(o?": "+o:""),Array.prototype.slice.call(arguments,1))}function Ze(o,u){this.c=o,this.f=u,this.b=0,this.a=null}Ze.prototype.get=function(){if(0<this.b){this.b--;var o=this.a;this.a=o.next,o.next=null}else o=this.c();return o};function wt(o,u){o.f(u),100>o.b&&(o.b++,u.next=o.a,o.a=u)}function uo(){this.b=this.a=null}var et=new Ze(function(){return new nr},function(o){o.reset()});uo.prototype.add=function(o,u){var f=et.get();f.set(o,u),this.b?this.b.next=f:this.a=f,this.b=f};function ci(){var o=_C,u=null;return o.a&&(u=o.a,o.a=o.a.next,o.a||(o.b=null),u.next=null),u}function nr(){this.next=this.b=this.a=null}nr.prototype.set=function(o,u){this.a=o,this.b=u,this.next=null},nr.prototype.reset=function(){this.next=this.b=this.a=null};var lo=Array.prototype.indexOf?function(o,u){return Array.prototype.indexOf.call(o,u,void 0)}:function(o,u){if(typeof o=="string")return typeof u!="string"||u.length!=1?-1:o.indexOf(u,0);for(var f=0;f<o.length;f++)if(f in o&&o[f]===u)return f;return-1},Ue=Array.prototype.forEach?function(o,u,f){Array.prototype.forEach.call(o,u,f)}:function(o,u,f){for(var p=o.length,g=typeof o=="string"?o.split(""):o,w=0;w<p;w++)w in g&&u.call(f,g[w],w,o)};function Hy(o,u){for(var f=typeof o=="string"?o.split(""):o,p=o.length-1;0<=p;--p)p in f&&u.call(void 0,f[p],p,o)}var Ky=Array.prototype.filter?function(o,u){return Array.prototype.filter.call(o,u,void 0)}:function(o,u){for(var f=o.length,p=[],g=0,w=typeof o=="string"?o.split(""):o,T=0;T<f;T++)if(T in w){var N=w[T];u.call(void 0,N,T,o)&&(p[g++]=N)}return p},Zs=Array.prototype.map?function(o,u){return Array.prototype.map.call(o,u,void 0)}:function(o,u){for(var f=o.length,p=Array(f),g=typeof o=="string"?o.split(""):o,w=0;w<f;w++)w in g&&(p[w]=u.call(void 0,g[w],w,o));return p},Gy=Array.prototype.some?function(o,u){return Array.prototype.some.call(o,u,void 0)}:function(o,u){for(var f=o.length,p=typeof o=="string"?o.split(""):o,g=0;g<f;g++)if(g in p&&u.call(void 0,p[g],g,o))return!0;return!1};function Qy(o){e:{for(var u=UV,f=o.length,p=typeof o=="string"?o.split(""):o,g=0;g<f;g++)if(g in p&&u.call(void 0,p[g],g,o)){u=g;break e}u=-1}return 0>u?null:typeof o=="string"?o.charAt(u):o[u]}function fi(o,u){return 0<=lo(o,u)}function Di(o,u){u=lo(o,u);var f;return(f=0<=u)&&Array.prototype.splice.call(o,u,1),f}function rr(o,u){var f=0;Hy(o,function(p,g){u.call(void 0,p,g,o)&&Array.prototype.splice.call(o,g,1).length==1&&f++})}function ea(o){return Array.prototype.concat.apply([],arguments)}function jr(o){var u=o.length;if(0<u){for(var f=Array(u),p=0;p<u;p++)f[p]=o[p];return f}return[]}var Pu=String.prototype.trim?function(o){return o.trim()}:function(o){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(o)[1]},Li=/&/g,Zd=/</g,ep=/>/g,tp=/"/g,Yy=/'/g,np=/\x00/g,xu=/[\x00&<>"']/;function Ke(o,u){return o.indexOf(u)!=-1}function ta(o,u){return o<u?-1:o>u?1:0}var qo;e:{var qc=c.navigator;if(qc){var rp=qc.userAgent;if(rp){qo=rp;break e}}qo=""}function Nt(o){return Ke(qo,o)}function ip(o,u){for(var f in o)u.call(void 0,o[f],f,o)}function D(o){for(var u in o)return!1;return!0}function F(o){var u={},f;for(f in o)u[f]=o[f];return u}var $="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Y(o,u){for(var f,p,g=1;g<arguments.length;g++){p=arguments[g];for(f in p)o[f]=p[f];for(var w=0;w<$.length;w++)f=$[w],Object.prototype.hasOwnProperty.call(p,f)&&(o[f]=p[f])}}function ge(o,u){e:{try{var f=o&&o.ownerDocument,p=f&&(f.defaultView||f.parentWindow);if(p=p||c,p.Element&&p.Location){var g=p;break e}}catch{}g=null}if(g&&typeof g[u]<"u"&&(!o||!(o instanceof g[u])&&(o instanceof g.Location||o instanceof g.Element))){if(S(o))try{var w=o.constructor.displayName||o.constructor.name||Object.prototype.toString.call(o)}catch{w="<object could not be stringified>"}else w=o===void 0?"undefined":o===null?"null":typeof o;he("Argument is not a %s (or a non-Element, non-Location mock); got: %s",u,w)}}function ae(o,u){this.a=o===re&&u||"",this.b=fe}ae.prototype.sa=!0,ae.prototype.ra=function(){return this.a},ae.prototype.toString=function(){return"Const{"+this.a+"}"};function pe(o){return o instanceof ae&&o.constructor===ae&&o.b===fe?o.a:(he("expected object of type Const, got '"+o+"'"),"type_error:Const")}var fe={},re={},We;function De(){if(We===void 0){var o=null,u=c.trustedTypes;if(u&&u.createPolicy){try{o=u.createPolicy("goog#html",{createHTML:te,createScript:te,createScriptURL:te})}catch(f){c.console&&c.console.error(f.message)}We=o}else We=o}return We}function jt(o,u){this.a=u===Ou?o:""}jt.prototype.sa=!0,jt.prototype.ra=function(){return this.a.toString()},jt.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function xt(o){return o instanceof jt&&o.constructor===jt?o.a:(he("expected object of type TrustedResourceUrl, got '"+o+"' of type "+y(o)),"type_error:TrustedResourceUrl")}function rn(o,u){var f=pe(o);if(!na.test(f))throw Error("Invalid TrustedResourceUrl format: "+f);return o=f.replace(Vr,function(p,g){if(!Object.prototype.hasOwnProperty.call(u,g))throw Error('Found marker, "'+g+'", in format string, "'+f+'", but no valid label mapping found in args: '+JSON.stringify(u));return p=u[g],p instanceof ae?pe(p):encodeURIComponent(String(p))}),Du(o)}var Vr=/%{(\w+)}/g,na=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Ou={};function Du(o){var u=De();return o=u?u.createScriptURL(o):o,new jt(o,Ou)}function ct(o,u){this.a=u===on?o:""}ct.prototype.sa=!0,ct.prototype.ra=function(){return this.a.toString()},ct.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function co(o){return o instanceof ct&&o.constructor===ct?o.a:(he("expected object of type SafeUrl, got '"+o+"' of type "+y(o)),"type_error:SafeUrl")}var Wc=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Hc=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Lu=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function ra(o){if(o instanceof ct)return o;if(o=typeof o=="object"&&o.sa?o.ra():String(o),Lu.test(o))o=new ct(o,on);else{o=String(o),o=o.replace(/(%0A|%0D)/g,"");var u=o.match(Hc);o=u&&Wc.test(u[1])?new ct(o,on):null}return o}function tt(o){return o instanceof ct?o:(o=typeof o=="object"&&o.sa?o.ra():String(o),Lu.test(o)||(o="about:invalid#zClosurez"),new ct(o,on))}var on={},fo=new ct("about:invalid#zClosurez",on);function ft(o,u,f){this.a=f===Kc?o:""}ft.prototype.sa=!0,ft.prototype.ra=function(){return this.a.toString()},ft.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function ia(o){return o instanceof ft&&o.constructor===ft?o.a:(he("expected object of type SafeHtml, got '"+o+"' of type "+y(o)),"type_error:SafeHtml")}var Kc={};function Xy(o,u){ge(o,"HTMLScriptElement"),o.src=xt(u),(u=o.ownerDocument&&o.ownerDocument.defaultView)&&u!=c?u=v(u.document):(d===null&&(d=v(c.document)),u=d),u&&o.setAttribute("nonce",u)}function lC(o,u,f,p){return o=o instanceof ct?o:tt(o),u=u||c,f=f instanceof ae?pe(f):f||"",u.open(co(o),f,p,void 0)}function cC(o,u){for(var f=o.split("%s"),p="",g=Array.prototype.slice.call(arguments,1);g.length&&1<f.length;)p+=f.shift()+g.shift();return p+f.join("%s")}function Jy(o){return xu.test(o)&&(o.indexOf("&")!=-1&&(o=o.replace(Li,"&amp;")),o.indexOf("<")!=-1&&(o=o.replace(Zd,"&lt;")),o.indexOf(">")!=-1&&(o=o.replace(ep,"&gt;")),o.indexOf('"')!=-1&&(o=o.replace(tp,"&quot;")),o.indexOf("'")!=-1&&(o=o.replace(Yy,"&#39;")),o.indexOf("\0")!=-1&&(o=o.replace(np,"&#0;"))),o}function Zy(o){return Zy[" "](o),o}Zy[" "]=m;function wj(o,u){var f=Ij;return Object.prototype.hasOwnProperty.call(f,o)?f[o]:f[o]=u(o)}var Ej=Nt("Opera"),hi=Nt("Trident")||Nt("MSIE"),fC=Nt("Edge"),bj=fC||hi,hC=Nt("Gecko")&&!(Ke(qo.toLowerCase(),"webkit")&&!Nt("Edge"))&&!(Nt("Trident")||Nt("MSIE"))&&!Nt("Edge"),Tj=Ke(qo.toLowerCase(),"webkit")&&!Nt("Edge");function dC(){var o=c.document;return o?o.documentMode:void 0}var op;e:{var e0="",t0=function(){var o=qo;if(hC)return/rv:([^\);]+)(\)|;)/.exec(o);if(fC)return/Edge\/([\d\.]+)/.exec(o);if(hi)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(o);if(Tj)return/WebKit\/(\S+)/.exec(o);if(Ej)return/(?:Version)[ \/]?(\S+)/.exec(o)}();if(t0&&(e0=t0?t0[1]:""),hi){var n0=dC();if(n0!=null&&n0>parseFloat(e0)){op=String(n0);break e}}op=e0}var Ij={};function pC(o){return wj(o,function(){for(var u=0,f=Pu(String(op)).split("."),p=Pu(String(o)).split("."),g=Math.max(f.length,p.length),w=0;u==0&&w<g;w++){var T=f[w]||"",N=p[w]||"";do{if(T=/(\d*)(\D*)(.*)/.exec(T)||["","","",""],N=/(\d*)(\D*)(.*)/.exec(N)||["","","",""],T[0].length==0&&N[0].length==0)break;u=ta(T[1].length==0?0:parseInt(T[1],10),N[1].length==0?0:parseInt(N[1],10))||ta(T[2].length==0,N[2].length==0)||ta(T[2],N[2]),T=T[3],N=N[3]}while(u==0)}return 0<=u})}var r0;if(c.document&&hi){var vC=dC();r0=vC||parseInt(op,10)||void 0}else r0=void 0;var Wo=r0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var Sj=!hi||9<=Number(Wo);function Gc(o){var u=document;return typeof o=="string"?u.getElementById(o):o}function mC(o,u){ip(u,function(f,p){f&&typeof f=="object"&&f.sa&&(f=f.ra()),p=="style"?o.style.cssText=f:p=="class"?o.className=f:p=="for"?o.htmlFor=f:gC.hasOwnProperty(p)?o.setAttribute(gC[p],f):p.lastIndexOf("aria-",0)==0||p.lastIndexOf("data-",0)==0?o.setAttribute(p,f):o[p]=f})}var gC={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Cj(o,u,f){var p=arguments,g=document,w=String(p[0]),T=p[1];if(!Sj&&T&&(T.name||T.type)){if(w=["<",w],T.name&&w.push(' name="',Jy(T.name),'"'),T.type){w.push(' type="',Jy(T.type),'"');var N={};Y(N,T),delete N.type,T=N}w.push(">"),w=w.join("")}return w=sp(g,w),T&&(typeof T=="string"?w.className=T:Array.isArray(T)?w.className=T.join(" "):mC(w,T)),2<p.length&&kj(g,w,p),w}function kj(o,u,f){function p(N){N&&u.appendChild(typeof N=="string"?o.createTextNode(N):N)}for(var g=2;g<f.length;g++){var w=f[g];if(!_(w)||S(w)&&0<w.nodeType)p(w);else{e:{if(w&&typeof w.length=="number"){if(S(w)){var T=typeof w.item=="function"||typeof w.item=="string";break e}if(E(w)){T=typeof w.item=="function";break e}}T=!1}Ue(T?jr(w):w,p)}}}function sp(o,u){return u=String(u),o.contentType==="application/xhtml+xml"&&(u=u.toLowerCase()),o.createElement(u)}function yC(o){c.setTimeout(function(){throw o},0)}var i0;function Nj(){var o=c.MessageChannel;if(typeof o>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!Nt("Presto")&&(o=function(){var g=sp(document,"IFRAME");g.style.display="none",document.documentElement.appendChild(g);var w=g.contentWindow;g=w.document,g.open(),g.close();var T="callImmediate"+Math.random(),N=w.location.protocol=="file:"?"*":w.location.protocol+"//"+w.location.host;g=O(function(j){(N=="*"||j.origin==N)&&j.data==T&&this.port1.onmessage()},this),w.addEventListener("message",g,!1),this.port1={},this.port2={postMessage:function(){w.postMessage(T,N)}}}),typeof o<"u"&&!Nt("Trident")&&!Nt("MSIE")){var u=new o,f={},p=f;return u.port1.onmessage=function(){if(f.next!==void 0){f=f.next;var g=f.Gb;f.Gb=null,g()}},function(g){p.next={Gb:g},p=p.next,u.port2.postMessage(0)}}return function(g){c.setTimeout(g,0)}}function ap(o,u){up||Rj(),o0||(up(),o0=!0),_C.add(o,u)}var up;function Rj(){if(c.Promise&&c.Promise.resolve){var o=c.Promise.resolve(void 0);up=function(){o.then(wC)}}else up=function(){var u=wC;!E(c.setImmediate)||c.Window&&c.Window.prototype&&!Nt("Edge")&&c.Window.prototype.setImmediate==c.setImmediate?(i0||(i0=Nj()),i0(u)):c.setImmediate(u)}}var o0=!1,_C=new uo;function wC(){for(var o;o=ci();){try{o.a.call(o.b)}catch(u){yC(u)}wt(et,o)}o0=!1}function Re(o,u){if(this.a=oa,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,o!=m)try{var f=this;o.call(u,function(p){sa(f,Qc,p)},function(p){if(!(p instanceof Mu))try{throw p instanceof Error?p:Error("Promise rejected.")}catch{}sa(f,ho,p)})}catch(p){sa(this,ho,p)}}var oa=0,Qc=2,ho=3;function EC(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}EC.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var bC=new Ze(function(){return new EC},function(o){o.reset()});function s0(o,u,f){var p=bC.get();return p.g=o,p.b=u,p.f=f,p}function ce(o){if(o instanceof Re)return o;var u=new Re(m);return sa(u,Qc,o),u}function ht(o){return new Re(function(u,f){f(o)})}function TC(o,u,f){kC(o,u,f,null)||ap(V(u,o))}function Aj(o){return new Re(function(u,f){var p=o.length,g=[];if(p)for(var w=function(B,ye){p--,g[B]=ye,p==0&&u(g)},T=function(B){f(B)},N=0,j;N<o.length;N++)j=o[N],TC(j,V(w,N),T);else u(g)})}function IC(o){return new Re(function(u){var f=o.length,p=[];if(f)for(var g=function(N,j,B){f--,p[N]=j?{Pb:!0,value:B}:{Pb:!1,reason:B},f==0&&u(p)},w=0,T;w<o.length;w++)T=o[w],TC(T,V(g,w,!0),V(g,w,!1));else u(p)})}Re.prototype.then=function(o,u,f){return CC(this,E(o)?o:null,E(u)?u:null,f)},Re.prototype.$goog_Thenable=!0,e=Re.prototype,e.oa=function(o,u){return o=s0(o,o,u),o.c=!0,a0(this,o),this},e.o=function(o,u){return CC(this,null,o,u)},e.cancel=function(o){if(this.a==oa){var u=new Mu(o);ap(function(){SC(this,u)},this)}};function SC(o,u){if(o.a==oa)if(o.c){var f=o.c;if(f.b){for(var p=0,g=null,w=null,T=f.b;T&&(T.c||(p++,T.a==o&&(g=T),!(g&&1<p)));T=T.next)g||(w=T);g&&(f.a==oa&&p==1?SC(f,u):(w?(p=w,p.next==f.f&&(f.f=p),p.next=p.next.next):RC(f),AC(f,g,ho,u)))}o.c=null}else sa(o,ho,u)}function a0(o,u){o.b||o.a!=Qc&&o.a!=ho||NC(o),o.f?o.f.next=u:o.b=u,o.f=u}function CC(o,u,f,p){var g=s0(null,null,null);return g.a=new Re(function(w,T){g.g=u?function(N){try{var j=u.call(p,N);w(j)}catch(B){T(B)}}:w,g.b=f?function(N){try{var j=f.call(p,N);j===void 0&&N instanceof Mu?T(N):w(j)}catch(B){T(B)}}:T}),g.a.c=o,a0(o,g),g.a}e.$c=function(o){this.a=oa,sa(this,Qc,o)},e.ad=function(o){this.a=oa,sa(this,ho,o)};function sa(o,u,f){o.a==oa&&(o===f&&(u=ho,f=new TypeError("Promise cannot resolve to itself")),o.a=1,kC(f,o.$c,o.ad,o)||(o.i=f,o.a=u,o.c=null,NC(o),u!=ho||f instanceof Mu||xj(o,f)))}function kC(o,u,f,p){if(o instanceof Re)return a0(o,s0(u||m,f||null,p)),!0;if(_t(o))return o.then(u,f,p),!0;if(S(o))try{var g=o.then;if(E(g))return Pj(o,g,u,f,p),!0}catch(w){return f.call(p,w),!0}return!1}function Pj(o,u,f,p,g){function w(j){N||(N=!0,p.call(g,j))}function T(j){N||(N=!0,f.call(g,j))}var N=!1;try{u.call(o,T,w)}catch(j){w(j)}}function NC(o){o.h||(o.h=!0,ap(o.gc,o))}function RC(o){var u=null;return o.b&&(u=o.b,o.b=u.next,u.next=null),o.b||(o.f=null),u}e.gc=function(){for(var o;o=RC(this);)AC(this,o,this.a,this.i);this.h=!1};function AC(o,u,f,p){if(f==ho&&u.b&&!u.c)for(;o&&o.g;o=o.c)o.g=!1;if(u.a)u.a.c=null,PC(u,f,p);else try{u.c?u.g.call(u.f):PC(u,f,p)}catch(g){xC.call(null,g)}wt(bC,u)}function PC(o,u,f){u==Qc?o.g.call(o.f,f):o.b&&o.b.call(o.f,f)}function xj(o,u){o.g=!0,ap(function(){o.g&&xC.call(null,u)})}var xC=yC;function Mu(o){W.call(this,o)}M(Mu,W),Mu.prototype.name="cancel";function lp(){this.xa=this.xa,this.pa=this.pa}var Oj=0;lp.prototype.xa=!1;function OC(o){!o.xa&&(o.xa=!0,o.Da(),Oj!=0)&&b(o)}lp.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Dj=Object.freeze||function(o){return o},DC=!hi||9<=Number(Wo),Lj=hi&&!pC("9"),Mj=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var o=!1,u=Object.defineProperty({},"passive",{get:function(){o=!0}});try{c.addEventListener("test",m,u),c.removeEventListener("test",m,u)}catch{}return o}();function ir(o,u){this.type=o,this.b=this.target=u,this.defaultPrevented=!1}ir.prototype.preventDefault=function(){this.defaultPrevented=!0};function aa(o,u){if(ir.call(this,o?o.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,o){var f=this.type=o.type,p=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.b=u,u=o.relatedTarget){if(hC){e:{try{Zy(u.nodeName);var g=!0;break e}catch{}g=!1}g||(u=null)}}else f=="mouseover"?u=o.fromElement:f=="mouseout"&&(u=o.toElement);this.relatedTarget=u,p?(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:Fj[o.pointerType]||"",this.a=o,o.defaultPrevented&&this.preventDefault()}}M(aa,ir);var Fj=Dj({2:"touch",3:"pen",4:"mouse"});aa.prototype.preventDefault=function(){aa.ab.preventDefault.call(this);var o=this.a;if(o.preventDefault)o.preventDefault();else if(o.returnValue=!1,Lj)try{(o.ctrlKey||112<=o.keyCode&&123>=o.keyCode)&&(o.keyCode=-1)}catch{}},aa.prototype.g=function(){return this.a};var Yc="closure_listenable_"+(1e6*Math.random()|0),Uj=0;function jj(o,u,f,p,g){this.listener=o,this.proxy=null,this.src=u,this.type=f,this.capture=!!p,this.Va=g,this.key=++Uj,this.va=this.Pa=!1}function cp(o){o.va=!0,o.listener=null,o.proxy=null,o.src=null,o.Va=null}function fp(o){this.src=o,this.a={},this.b=0}fp.prototype.add=function(o,u,f,p,g){var w=o.toString();o=this.a[w],o||(o=this.a[w]=[],this.b++);var T=l0(o,u,p,g);return-1<T?(u=o[T],f||(u.Pa=!1)):(u=new jj(u,this.src,w,!!p,g),u.Pa=f,o.push(u)),u};function u0(o,u){var f=u.type;f in o.a&&Di(o.a[f],u)&&(cp(u),o.a[f].length==0&&(delete o.a[f],o.b--))}function l0(o,u,f,p){for(var g=0;g<o.length;++g){var w=o[g];if(!w.va&&w.listener==u&&w.capture==!!f&&w.Va==p)return g}return-1}var c0="closure_lm_"+(1e6*Math.random()|0),f0={};function Br(o,u,f,p,g){if(p&&p.once)h0(o,u,f,p,g);else if(Array.isArray(u))for(var w=0;w<u.length;w++)Br(o,u[w],f,p,g);else f=p0(f),o&&o[Yc]?VC(o,u,f,S(p)?!!p.capture:!!p,g):LC(o,u,f,!1,p,g)}function LC(o,u,f,p,g,w){if(!u)throw Error("Invalid event type");var T=S(g)?!!g.capture:!!g,N=hp(o);if(N||(o[c0]=N=new fp(o)),f=N.add(u,f,p,T,w),!f.proxy)if(p=Vj(),f.proxy=p,p.src=o,p.listener=f,o.addEventListener)Mj||(g=T),g===void 0&&(g=!1),o.addEventListener(u.toString(),p,g);else if(o.attachEvent)o.attachEvent(FC(u.toString()),p);else if(o.addListener&&o.removeListener)o.addListener(p);else throw Error("addEventListener and attachEvent are unavailable.")}function Vj(){var o=Bj,u=DC?function(f){return o.call(u.src,u.listener,f)}:function(f){if(f=o.call(u.src,u.listener,f),!f)return f};return u}function h0(o,u,f,p,g){if(Array.isArray(u))for(var w=0;w<u.length;w++)h0(o,u[w],f,p,g);else f=p0(f),o&&o[Yc]?v0(o,u,f,S(p)?!!p.capture:!!p,g):LC(o,u,f,!0,p,g)}function Er(o,u,f,p,g){if(Array.isArray(u))for(var w=0;w<u.length;w++)Er(o,u[w],f,p,g);else p=S(p)?!!p.capture:!!p,f=p0(f),o&&o[Yc]?(o=o.v,u=String(u).toString(),u in o.a&&(w=o.a[u],f=l0(w,f,p,g),-1<f&&(cp(w[f]),Array.prototype.splice.call(w,f,1),w.length==0&&(delete o.a[u],o.b--)))):o&&(o=hp(o))&&(u=o.a[u.toString()],o=-1,u&&(o=l0(u,f,p,g)),(f=-1<o?u[o]:null)&&MC(f))}function MC(o){if(typeof o!="number"&&o&&!o.va){var u=o.src;if(u&&u[Yc])u0(u.v,o);else{var f=o.type,p=o.proxy;u.removeEventListener?u.removeEventListener(f,p,o.capture):u.detachEvent?u.detachEvent(FC(f),p):u.addListener&&u.removeListener&&u.removeListener(p),(f=hp(u))?(u0(f,o),f.b==0&&(f.src=null,u[c0]=null)):cp(o)}}}function FC(o){return o in f0?f0[o]:f0[o]="on"+o}function UC(o,u,f,p){var g=!0;if((o=hp(o))&&(u=o.a[u.toString()]))for(u=u.concat(),o=0;o<u.length;o++){var w=u[o];w&&w.capture==f&&!w.va&&(w=jC(w,p),g=g&&w!==!1)}return g}function jC(o,u){var f=o.listener,p=o.Va||o.src;return o.Pa&&MC(o),f.call(p,u)}function Bj(o,u){if(o.va)return!0;if(!DC){if(!u)e:{u=["window","event"];for(var f=c,p=0;p<u.length;p++)if(f=f[u[p]],f==null){u=null;break e}u=f}if(p=u,u=new aa(p,this),f=!0,!(0>p.keyCode||p.returnValue!=null)){e:{var g=!1;if(p.keyCode==0)try{p.keyCode=-1;break e}catch{g=!0}(g||p.returnValue==null)&&(p.returnValue=!0)}for(p=[],g=u.b;g;g=g.parentNode)p.push(g);for(o=o.type,g=p.length-1;0<=g;g--){u.b=p[g];var w=UC(p[g],o,!0,u);f=f&&w}for(g=0;g<p.length;g++)u.b=p[g],w=UC(p[g],o,!1,u),f=f&&w}return f}return jC(o,new aa(u,this))}function hp(o){return o=o[c0],o instanceof fp?o:null}var d0="__closure_events_fn_"+(1e9*Math.random()>>>0);function p0(o){return E(o)?o:(o[d0]||(o[d0]=function(u){return o.handleEvent(u)}),o[d0])}function jn(){lp.call(this),this.v=new fp(this),this.ac=this,this.gb=null}M(jn,lp),jn.prototype[Yc]=!0,jn.prototype.addEventListener=function(o,u,f,p){Br(this,o,u,f,p)},jn.prototype.removeEventListener=function(o,u,f,p){Er(this,o,u,f,p)},jn.prototype.dispatchEvent=function(o){var u,f=this.gb;if(f)for(u=[];f;f=f.gb)u.push(f);f=this.ac;var p=o.type||o;if(typeof o=="string")o=new ir(o,f);else if(o instanceof ir)o.target=o.target||f;else{var g=o;o=new ir(p,f),Y(o,g)}if(g=!0,u)for(var w=u.length-1;0<=w;w--){var T=o.b=u[w];g=dp(T,p,!0,o)&&g}if(T=o.b=f,g=dp(T,p,!0,o)&&g,g=dp(T,p,!1,o)&&g,u)for(w=0;w<u.length;w++)T=o.b=u[w],g=dp(T,p,!1,o)&&g;return g},jn.prototype.Da=function(){if(jn.ab.Da.call(this),this.v){var o=this.v,u;for(u in o.a){for(var f=o.a[u],p=0;p<f.length;p++)cp(f[p]);delete o.a[u],o.b--}}this.gb=null};function VC(o,u,f,p,g){o.v.add(String(u),f,!1,p,g)}function v0(o,u,f,p,g){o.v.add(String(u),f,!0,p,g)}function dp(o,u,f,p){if(u=o.v.a[String(u)],!u)return!0;u=u.concat();for(var g=!0,w=0;w<u.length;++w){var T=u[w];if(T&&!T.va&&T.capture==f){var N=T.listener,j=T.Va||T.src;T.Pa&&u0(o.v,T),g=N.call(j,p)!==!1&&g}}return g&&!p.defaultPrevented}function m0(o,u,f){if(E(o))f&&(o=O(o,f));else if(o&&typeof o.handleEvent=="function")o=O(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(u)?-1:c.setTimeout(o,u||0)}function Fu(o){var u=null;return new Re(function(f,p){u=m0(function(){f(void 0)},o),u==-1&&p(Error("Failed to schedule timer."))}).o(function(f){throw c.clearTimeout(u),f})}function BC(o){if(o.W&&typeof o.W=="function")return o.W();if(typeof o=="string")return o.split("");if(_(o)){for(var u=[],f=o.length,p=0;p<f;p++)u.push(o[p]);return u}u=[],f=0;for(p in o)u[f++]=o[p];return u}function $C(o){if(o.Y&&typeof o.Y=="function")return o.Y();if(!o.W||typeof o.W!="function"){if(_(o)||typeof o=="string"){var u=[];o=o.length;for(var f=0;f<o;f++)u.push(f);return u}u=[],f=0;for(var p in o)u[f++]=p;return u}}function $j(o,u){if(o.forEach&&typeof o.forEach=="function")o.forEach(u,void 0);else if(_(o)||typeof o=="string")Ue(o,u,void 0);else for(var f=$C(o),p=BC(o),g=p.length,w=0;w<g;w++)u.call(void 0,p[w],f&&f[w],o)}function Uu(o,u){this.b={},this.a=[],this.c=0;var f=arguments.length;if(1<f){if(f%2)throw Error("Uneven number of arguments");for(var p=0;p<f;p+=2)this.set(arguments[p],arguments[p+1])}else if(o)if(o instanceof Uu)for(f=o.Y(),p=0;p<f.length;p++)this.set(f[p],o.get(f[p]));else for(p in o)this.set(p,o[p])}e=Uu.prototype,e.W=function(){g0(this);for(var o=[],u=0;u<this.a.length;u++)o.push(this.b[this.a[u]]);return o},e.Y=function(){return g0(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0};function g0(o){if(o.c!=o.a.length){for(var u=0,f=0;u<o.a.length;){var p=o.a[u];ua(o.b,p)&&(o.a[f++]=p),u++}o.a.length=f}if(o.c!=o.a.length){var g={};for(f=u=0;u<o.a.length;)p=o.a[u],ua(g,p)||(o.a[f++]=p,g[p]=1),u++;o.a.length=f}}e.get=function(o,u){return ua(this.b,o)?this.b[o]:u},e.set=function(o,u){ua(this.b,o)||(this.c++,this.a.push(o)),this.b[o]=u},e.forEach=function(o,u){for(var f=this.Y(),p=0;p<f.length;p++){var g=f[p],w=this.get(g);o.call(u,w,g,this)}};function ua(o,u){return Object.prototype.hasOwnProperty.call(o,u)}var zC=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function zj(o,u){if(o){o=o.split("&");for(var f=0;f<o.length;f++){var p=o[f].indexOf("="),g=null;if(0<=p){var w=o[f].substring(0,p);g=o[f].substring(p+1)}else w=o[f];u(w,g?decodeURIComponent(g.replace(/\+/g," ")):"")}}}function Ho(o,u){this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1;var f;o instanceof Ho?(this.i=u!==void 0?u:o.i,Xc(this,o.c),this.l=o.l,this.a=o.a,Jc(this,o.g),this.f=o.f,y0(this,KC(o.b)),this.h=o.h):o&&(f=String(o).match(zC))?(this.i=!!u,Xc(this,f[1]||"",!0),this.l=Zc(f[2]||""),this.a=Zc(f[3]||"",!0),Jc(this,f[4]),this.f=Zc(f[5]||"",!0),y0(this,f[6]||"",!0),this.h=Zc(f[7]||"")):(this.i=!!u,this.b=new la(null,this.i))}Ho.prototype.toString=function(){var o=[],u=this.c;u&&o.push(ef(u,qC,!0),":");var f=this.a;return(f||u=="file")&&(o.push("//"),(u=this.l)&&o.push(ef(u,qC,!0),"@"),o.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.g,f!=null&&o.push(":",String(f))),(f=this.f)&&(this.a&&f.charAt(0)!="/"&&o.push("/"),o.push(ef(f,f.charAt(0)=="/"?Hj:Wj,!0))),(f=this.b.toString())&&o.push("?",f),(f=this.h)&&o.push("#",ef(f,Gj)),o.join("")},Ho.prototype.resolve=function(o){var u=new Ho(this),f=!!o.c;f?Xc(u,o.c):f=!!o.l,f?u.l=o.l:f=!!o.a,f?u.a=o.a:f=o.g!=null;var p=o.f;if(f)Jc(u,o.g);else if(f=!!o.f){if(p.charAt(0)!="/")if(this.a&&!this.f)p="/"+p;else{var g=u.f.lastIndexOf("/");g!=-1&&(p=u.f.substr(0,g+1)+p)}if(g=p,g==".."||g==".")p="";else if(Ke(g,"./")||Ke(g,"/.")){p=g.lastIndexOf("/",0)==0,g=g.split("/");for(var w=[],T=0;T<g.length;){var N=g[T++];N=="."?p&&T==g.length&&w.push(""):N==".."?((1<w.length||w.length==1&&w[0]!="")&&w.pop(),p&&T==g.length&&w.push("")):(w.push(N),p=!0)}p=w.join("/")}else p=g}return f?u.f=p:f=o.b.toString()!=="",f?y0(u,KC(o.b)):f=!!o.h,f&&(u.h=o.h),u};function Xc(o,u,f){o.c=f?Zc(u,!0):u,o.c&&(o.c=o.c.replace(/:$/,""))}function Jc(o,u){if(u){if(u=Number(u),isNaN(u)||0>u)throw Error("Bad port number "+u);o.g=u}else o.g=null}function y0(o,u,f){u instanceof la?(o.b=u,Qj(o.b,o.i)):(f||(u=ef(u,Kj)),o.b=new la(u,o.i))}function Ot(o,u,f){o.b.set(u,f)}function $r(o,u){return o.b.get(u)}function or(o){return o instanceof Ho?new Ho(o):new Ho(o,void 0)}function pp(o,u,f,p){var g=new Ho(null,void 0);return o&&Xc(g,o),u&&(g.a=u),f&&Jc(g,f),p&&(g.f=p),g}function Zc(o,u){return o?u?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function ef(o,u,f){return typeof o=="string"?(o=encodeURI(o).replace(u,qj),f&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function qj(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var qC=/[#\/\?@]/g,Wj=/[#\?:]/g,Hj=/[#\?]/g,Kj=/[#\?@]/g,Gj=/#/g;function la(o,u){this.b=this.a=null,this.c=o||null,this.f=!!u}function Ko(o){o.a||(o.a=new Uu,o.b=0,o.c&&zj(o.c,function(u,f){o.add(decodeURIComponent(u.replace(/\+/g," ")),f)}))}function WC(o){var u=$C(o);if(typeof u>"u")throw Error("Keys are undefined");var f=new la(null,void 0);o=BC(o);for(var p=0;p<u.length;p++){var g=u[p],w=o[p];Array.isArray(w)?HC(f,g,w):f.add(g,w)}return f}e=la.prototype,e.add=function(o,u){Ko(this),this.c=null,o=ju(this,o);var f=this.a.get(o);return f||this.a.set(o,f=[]),f.push(u),this.b+=1,this};function Mi(o,u){Ko(o),u=ju(o,u),ua(o.a.b,u)&&(o.c=null,o.b-=o.a.get(u).length,o=o.a,ua(o.b,u)&&(delete o.b[u],o.c--,o.a.length>2*o.c&&g0(o)))}e.clear=function(){this.a=this.c=null,this.b=0};function _0(o,u){return Ko(o),u=ju(o,u),ua(o.a.b,u)}e.forEach=function(o,u){Ko(this),this.a.forEach(function(f,p){Ue(f,function(g){o.call(u,g,p,this)},this)},this)},e.Y=function(){Ko(this);for(var o=this.a.W(),u=this.a.Y(),f=[],p=0;p<u.length;p++)for(var g=o[p],w=0;w<g.length;w++)f.push(u[p]);return f},e.W=function(o){Ko(this);var u=[];if(typeof o=="string")_0(this,o)&&(u=ea(u,this.a.get(ju(this,o))));else{o=this.a.W();for(var f=0;f<o.length;f++)u=ea(u,o[f])}return u},e.set=function(o,u){return Ko(this),this.c=null,o=ju(this,o),_0(this,o)&&(this.b-=this.a.get(o).length),this.a.set(o,[u]),this.b+=1,this},e.get=function(o,u){return o?(o=this.W(o),0<o.length?String(o[0]):u):u};function HC(o,u,f){Mi(o,u),0<f.length&&(o.c=null,o.a.set(ju(o,u),jr(f)),o.b+=f.length)}e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var o=[],u=this.a.Y(),f=0;f<u.length;f++){var p=u[f],g=encodeURIComponent(String(p));p=this.W(p);for(var w=0;w<p.length;w++){var T=g;p[w]!==""&&(T+="="+encodeURIComponent(String(p[w]))),o.push(T)}}return this.c=o.join("&")};function KC(o){var u=new la;return u.c=o.c,o.a&&(u.a=new Uu(o.a),u.b=o.b),u}function ju(o,u){return u=String(u),o.f&&(u=u.toLowerCase()),u}function Qj(o,u){u&&!o.f&&(Ko(o),o.c=null,o.a.forEach(function(f,p){var g=p.toLowerCase();p!=g&&(Mi(this,p),HC(this,g,f))},o)),o.f=u}function GC(o){var u=[];return w0(new Yj,o,u),u.join("")}function Yj(){}function w0(o,u,f){if(u==null)f.push("null");else{if(typeof u=="object"){if(Array.isArray(u)){var p=u;u=p.length,f.push("[");for(var g="",w=0;w<u;w++)f.push(g),w0(o,p[w],f),g=",";f.push("]");return}if(u instanceof String||u instanceof Number||u instanceof Boolean)u=u.valueOf();else{f.push("{"),g="";for(p in u)Object.prototype.hasOwnProperty.call(u,p)&&(w=u[p],typeof w!="function"&&(f.push(g),YC(p,f),f.push(":"),w0(o,w,f),g=","));f.push("}");return}}switch(typeof u){case"string":YC(u,f);break;case"number":f.push(isFinite(u)&&!isNaN(u)?String(u):"null");break;case"boolean":f.push(String(u));break;case"function":f.push("null");break;default:throw Error("Unknown type: "+typeof u)}}}var QC={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},Xj=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function YC(o,u){u.push('"',o.replace(Xj,function(f){var p=QC[f];return p||(p="\\u"+(f.charCodeAt(0)|65536).toString(16).substr(1),QC[f]=p),p}),'"')}function E0(){var o=vn();return hi&&!!Wo&&Wo==11||/Edge\/\d+/.test(o)}function tf(){return c.window&&c.window.location.href||self&&self.location&&self.location.href||""}function XC(o,u){u=u||c.window;var f="about:blank";o&&(f=co(ra(o)||fo)),u.location.href=f}function JC(o,u){var f=[],p;for(p in o)p in u?typeof o[p]!=typeof u[p]?f.push(p):typeof o[p]=="object"&&o[p]!=null&&u[p]!=null?0<JC(o[p],u[p]).length&&f.push(p):o[p]!==u[p]&&f.push(p):f.push(p);for(p in u)p in o||f.push(p);return f}function Jj(){var o=vn();return o=Vu(o)!=nk?null:(o=o.match(/\sChrome\/(\d+)/i))&&o.length==2?parseInt(o[1],10):null,o&&30>o?!1:!hi||!Wo||9<Wo}function ZC(o){return o=(o||vn()).toLowerCase(),!!(o.match(/android/)||o.match(/webos/)||o.match(/iphone|ipad|ipod/)||o.match(/blackberry/)||o.match(/windows phone/)||o.match(/iemobile/))}function ca(o){o=o||c.window;try{o.close()}catch{}}function ek(o,u,f){var p=Math.floor(1e9*Math.random()).toString();u=u||500,f=f||600;var g=(window.screen.availHeight-f)/2,w=(window.screen.availWidth-u)/2;u={width:u,height:f,top:0<g?g:0,left:0<w?w:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},f=vn().toLowerCase(),p&&(u.target=p,Ke(f,"crios/")&&(u.target="_blank")),Vu(vn())==I0&&(o=o||"http://localhost",u.scrollbars=!0),f=o||"",(o=u)||(o={}),p=window,u=f instanceof ct?f:ra(typeof f.href<"u"?f.href:String(f))||fo,f=o.target||f.target,g=[];for(T in o)switch(T){case"width":case"height":case"top":case"left":g.push(T+"="+o[T]);break;case"target":case"noopener":case"noreferrer":break;default:g.push(T+"="+(o[T]?1:0))}var T=g.join(",");if((Nt("iPhone")&&!Nt("iPod")&&!Nt("iPad")||Nt("iPad")||Nt("iPod"))&&p.navigator&&p.navigator.standalone&&f&&f!="_self"?(T=sp(document,"A"),ge(T,"HTMLAnchorElement"),u=u instanceof ct?u:tt(u),T.href=co(u),T.setAttribute("target",f),o.noreferrer&&T.setAttribute("rel","noreferrer"),o=document.createEvent("MouseEvent"),o.initMouseEvent("click",!0,!0,p,1),T.dispatchEvent(o),T={}):o.noreferrer?(T=lC("",p,f,T),o=co(u),T&&(bj&&Ke(o,";")&&(o="'"+o.replace(/'/g,"%27")+"'"),T.opener=null,o='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Jy(o)+'">',o=(p=De())?p.createHTML(o):o,o=new ft(o,null,Kc),p=T.document)&&(p.write(ia(o)),p.close())):(T=lC(u,p,f,T))&&o.noopener&&(T.opener=null),T)try{T.focus()}catch{}return T}function Zj(o){return new Re(function(u){function f(){Fu(2e3).then(function(){if(!o||o.closed)u();else return f()})}return f()})}var eV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tV=/^[^@]+@[^@]+$/;function vp(){var o=null;return new Re(function(u){c.document.readyState=="complete"?u():(o=function(){u()},h0(window,"load",o))}).o(function(u){throw Er(window,"load",o),u})}function nV(){return b0(void 0)?vp().then(function(){return new Re(function(o,u){var f=c.document,p=setTimeout(function(){u(Error("Cordova framework is not ready."))},1e3);f.addEventListener("deviceready",function(){clearTimeout(p),o()},!1)})}):ht(Error("Cordova must run in an Android or iOS file scheme."))}function b0(o){return o=o||vn(),!($u()!=="file:"&&$u()!=="ionic:"||!o.toLowerCase().match(/iphone|ipad|ipod|android/))}function T0(){var o=c.window;try{return!(!o||o==o.top)}catch{return!1}}function di(){return typeof c.WorkerGlobalScope<"u"&&typeof c.importScripts=="function"}function Fi(){return ue.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":ue.INTERNAL.hasOwnProperty("node")?"Node":di()?"Worker":"Browser"}function tk(){var o=Fi();return o==="ReactNative"||o==="Node"}function rV(){for(var o=50,u=[];0<o;)u.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),o--;return u.join("")}var I0="Firefox",nk="Chrome";function Vu(o){var u=o.toLowerCase();if(Ke(u,"opera/")||Ke(u,"opr/")||Ke(u,"opios/"))return"Opera";if(Ke(u,"iemobile"))return"IEMobile";if(Ke(u,"msie")||Ke(u,"trident/"))return"IE";if(Ke(u,"edge/"))return"Edge";if(Ke(u,"firefox/"))return I0;if(Ke(u,"silk/"))return"Silk";if(Ke(u,"blackberry"))return"Blackberry";if(Ke(u,"webos"))return"Webos";if(!Ke(u,"safari/")||Ke(u,"chrome/")||Ke(u,"crios/")||Ke(u,"android"))if(!Ke(u,"chrome/")&&!Ke(u,"crios/")||Ke(u,"edge/")){if(Ke(u,"android"))return"Android";if((o=o.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&o.length==2)return o[1]}else return nk;else return"Safari";return"Other"}var rk={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Bu(o,u){u=u||[];var f=[],p={},g;for(g in rk)p[rk[g]]=!0;for(g=0;g<u.length;g++)typeof p[u[g]]<"u"&&(delete p[u[g]],f.push(u[g]));return f.sort(),u=f,u.length||(u=["FirebaseCore-web"]),f=Fi(),f==="Browser"?(p=vn(),f=Vu(p)):f==="Worker"&&(p=vn(),f=Vu(p)+"-"+f),f+"/JsCore/"+o+"/"+u.join(",")}function vn(){return c.navigator&&c.navigator.userAgent||""}function dt(o,u){o=o.split("."),u=u||c;for(var f=0;f<o.length&&typeof u=="object"&&u!=null;f++)u=u[o[f]];return f!=o.length&&(u=void 0),u}function S0(){try{var o=c.localStorage,u=ha();if(o)return o.setItem(u,"1"),o.removeItem(u),E0()?!!c.indexedDB:!0}catch{return di()&&!!c.indexedDB}return!1}function fa(){return(mp()||$u()==="chrome-extension:"||b0())&&!tk()&&S0()&&!di()}function mp(){return $u()==="http:"||$u()==="https:"}function $u(){return c.location&&c.location.protocol||null}function nf(o){return o=o||vn(),!(ZC(o)||Vu(o)==I0)}function rf(o){return typeof o>"u"?null:GC(o)}function ik(o){var u={},f;for(f in o)o.hasOwnProperty(f)&&o[f]!==null&&o[f]!==void 0&&(u[f]=o[f]);return u}function zu(o){if(o!==null)return JSON.parse(o)}function ha(o){return o||Math.floor(1e9*Math.random()).toString()}function ok(o){return o=o||vn(),!(Vu(o)=="Safari"||o.toLowerCase().match(/iphone|ipad|ipod/))}function sk(){var o=c.___jsl;if(o&&o.H){for(var u in o.H)if(o.H[u].r=o.H[u].r||[],o.H[u].L=o.H[u].L||[],o.H[u].r=o.H[u].L.concat(),o.CP)for(var f=0;f<o.CP.length;f++)o.CP[f]=null}}function Go(o,u){if(o>u)throw Error("Short delay should be less than long delay!");this.a=o,this.c=u,o=vn(),u=Fi(),this.b=ZC(o)||u==="ReactNative"}Go.prototype.get=function(){var o=c.navigator;return!(o&&typeof o.onLine=="boolean"&&(mp()||$u()==="chrome-extension:"||typeof o.connection<"u"))||o.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};function C0(){var o=c.document;return o&&typeof o.visibilityState<"u"?o.visibilityState=="visible":!0}function iV(){var o=c.document,u=null;return C0()||!o?ce():new Re(function(f){u=function(){C0()&&(o.removeEventListener("visibilitychange",u,!1),f())},o.addEventListener("visibilitychange",u,!1)}).o(function(f){throw o.removeEventListener("visibilitychange",u,!1),f})}function of(o){try{var u=new Date(parseInt(o,10));if(!isNaN(u.getTime())&&!/[^0-9]/.test(o))return u.toUTCString()}catch{}return null}function ak(){return!(!dt("fireauth.oauthhelper",c)&&!dt("fireauth.iframe",c))}function oV(){var o=c.navigator;return o&&o.serviceWorker&&o.serviceWorker.controller||null}function sV(){var o=c.navigator;return o&&o.serviceWorker?ce().then(function(){return o.serviceWorker.ready}).then(function(u){return u.active||null}).o(function(){return null}):ce(null)}var uk={};function k0(o){uk[o]||(uk[o]=!0,typeof console<"u"&&typeof console.warn=="function"&&console.warn(o))}var N0;try{var R0={};Object.defineProperty(R0,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(R0,"abcd",{configurable:!0,enumerable:!0,value:2}),N0=R0.abcd==2}catch{N0=!1}function ne(o,u,f){N0?Object.defineProperty(o,u,{configurable:!0,enumerable:!0,value:f}):o[u]=f}function Vn(o,u){if(u)for(var f in u)u.hasOwnProperty(f)&&ne(o,f,u[f])}function Ui(o){var u={};return Vn(u,o),u}function aV(o){var u={},f;for(f in o)o.hasOwnProperty(f)&&(u[f]=o[f]);return u}function uV(o,u){if(!u||!u.length)return!0;if(!o)return!1;for(var f=0;f<u.length;f++){var p=o[u[f]];if(p==null||p==="")return!1}return!0}function A0(o){var u=o;if(typeof o=="object"&&o!=null){u="length"in o?[]:{};for(var f in o)ne(u,f,A0(o[f]))}return u}function P0(o){var u=o&&(o[L0]?"phone":null);if(u&&o&&o[D0]){ne(this,"uid",o[D0]),ne(this,"displayName",o[lk]||null);var f=null;o[O0]&&(f=new Date(o[O0]).toUTCString()),ne(this,"enrollmentTime",f),ne(this,"factorId",u)}else throw new R("internal-error","Internal assert: invalid MultiFactorInfo object")}P0.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function x0(o){try{var u=new sf(o)}catch{u=null}return u}var lk="displayName",O0="enrolledAt",D0="mfaEnrollmentId",L0="phoneInfo";function sf(o){P0.call(this,o),ne(this,"phoneNumber",o[L0])}M(sf,P0),sf.prototype.w=function(){var o=sf.ab.w.call(this);return o.phoneNumber=this.phoneNumber,o};function lV(o){var u={},f=o[cV],p=o[hV],g=o[dV];if(o=x0(o[fV]),!g||g!=gp&&g!=af&&!f||g==af&&!p||g==M0&&!o)throw Error("Invalid checkActionCode response!");g==af?(u[fk]=f||null,u[hk]=f||null,u[ck]=p):(u[fk]=p||null,u[hk]=p||null,u[ck]=f||null),u[pV]=o||null,ne(this,mV,g),ne(this,vV,A0(u))}var M0="REVERT_SECOND_FACTOR_ADDITION",gp="EMAIL_SIGNIN",af="VERIFY_AND_CHANGE_EMAIL",cV="email",fV="mfaInfo",hV="newEmail",dV="requestType",ck="email",fk="fromEmail",pV="multiFactorInfo",hk="previousEmail",vV="data",mV="operation";function F0(o){o=or(o);var u=$r(o,dk)||null,f=$r(o,pk)||null,p=$r(o,vk)||null;if(p=p&&wV[p]||null,!u||!f||!p)throw new R("argument-error",dk+", "+pk+"and "+vk+" are required in a valid action code URL.");Vn(this,{apiKey:u,operation:p,code:f,continueUrl:$r(o,gV)||null,languageCode:$r(o,yV)||null,tenantId:$r(o,_V)||null})}var dk="apiKey",pk="oobCode",gV="continueUrl",yV="languageCode",vk="mode",_V="tenantId",wV={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:M0,signIn:gp,verifyAndChangeEmail:af,verifyEmail:"VERIFY_EMAIL"};function mk(o){try{return new F0(o)}catch{return null}}function yp(o){var u=o[EV];if(typeof u>"u")throw new R("missing-continue-uri");if(typeof u!="string"||typeof u=="string"&&!u.length)throw new R("invalid-continue-uri");this.h=u,this.b=this.a=null,this.g=!1;var f=o[gk];if(f&&typeof f=="object"){u=f[bk];var p=f[wk];if(f=f[Ek],typeof u=="string"&&u.length){if(this.a=u,typeof p<"u"&&typeof p!="boolean")throw new R("argument-error",wk+" property must be a boolean when specified.");if(this.g=!!p,typeof f<"u"&&(typeof f!="string"||typeof f=="string"&&!f.length))throw new R("argument-error",Ek+" property must be a non empty string when specified.");this.b=f||null}else{if(typeof u<"u")throw new R("argument-error",bk+" property must be a non empty string when specified.");if(typeof p<"u"||typeof f<"u")throw new R("missing-android-pkg-name")}}else if(typeof f<"u")throw new R("argument-error",gk+" property must be a non null object when specified.");if(this.f=null,(u=o[_k])&&typeof u=="object"){if(u=u[Tk],typeof u=="string"&&u.length)this.f=u;else if(typeof u<"u")throw new R("argument-error",Tk+" property must be a non empty string when specified.")}else if(typeof u<"u")throw new R("argument-error",_k+" property must be a non null object when specified.");if(u=o[U0],typeof u<"u"&&typeof u!="boolean")throw new R("argument-error",U0+" property must be a boolean when specified.");if(this.c=!!u,o=o[yk],typeof o<"u"&&(typeof o!="string"||typeof o=="string"&&!o.length))throw new R("argument-error",yk+" property must be a non empty string when specified.");this.i=o||null}var gk="android",yk="dynamicLinkDomain",U0="handleCodeInApp",_k="iOS",EV="url",wk="installApp",Ek="minimumVersion",bk="packageName",Tk="bundleId";function _p(o){var u={};u.continueUrl=o.h,u.canHandleCodeInApp=o.c,(u.androidPackageName=o.a)&&(u.androidMinimumVersion=o.b,u.androidInstallApp=o.g),u.iOSBundleId=o.f,u.dynamicLinkDomain=o.i;for(var f in u)u[f]===null&&delete u[f];return u}function bV(o){return Zs(o,function(u){return u=u.toString(16),1<u.length?u:"0"+u}).join("")}var uf=null;function TV(o){var u=[];return IV(o,function(f){u.push(f)}),u}function IV(o,u){function f(j){for(;p<o.length;){var B=o.charAt(p++),ye=uf[B];if(ye!=null)return ye;if(!/^[\s\xa0]*$/.test(B))throw Error("Unknown base64 encoding at char: "+B)}return j}SV();for(var p=0;;){var g=f(-1),w=f(0),T=f(64),N=f(64);if(N===64&&g===-1)break;u(g<<2|w>>4),T!=64&&(u(w<<4&240|T>>2),N!=64&&u(T<<6&192|N))}}function SV(){if(!uf){uf={};for(var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),u=["+/=","+/","-_=","-_.","-_"],f=0;5>f;f++)for(var p=o.concat(u[f].split("")),g=0;g<p.length;g++){var w=p[g];uf[w]===void 0&&(uf[w]=g)}}}function wp(o){var u=Ik(o);if(!(u&&u.sub&&u.iss&&u.aud&&u.exp))throw Error("Invalid JWT");this.h=o,this.a=u.exp,this.i=u.sub,o=Date.now()/1e3,this.g=u.iat||(o>this.a?this.a:o),this.b=u.provider_id||u.firebase&&u.firebase.sign_in_provider||null,this.f=u.firebase&&u.firebase.tenant||null,this.c=!!u.is_anonymous||this.b=="anonymous"}wp.prototype.T=function(){return this.f},wp.prototype.l=function(){return this.c},wp.prototype.toString=function(){return this.h};function Ep(o){try{return new wp(o)}catch{return null}}function Ik(o){if(!o||(o=o.split("."),o.length!=3))return null;o=o[1];for(var u=(4-o.length%4)%4,f=0;f<u;f++)o+=".";try{var p=TV(o);for(o=[],f=u=0;u<p.length;){var g=p[u++];if(128>g)o[f++]=String.fromCharCode(g);else if(191<g&&224>g){var w=p[u++];o[f++]=String.fromCharCode((g&31)<<6|w&63)}else if(239<g&&365>g){w=p[u++];var T=p[u++],N=p[u++],j=((g&7)<<18|(w&63)<<12|(T&63)<<6|N&63)-65536;o[f++]=String.fromCharCode(55296+(j>>10)),o[f++]=String.fromCharCode(56320+(j&1023))}else w=p[u++],T=p[u++],o[f++]=String.fromCharCode((g&15)<<12|(w&63)<<6|T&63)}return JSON.parse(o.join(""))}catch{}return null}var Sk="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),bp=["client_id","response_type","scope","redirect_uri","state"],j0={nd:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Xa:bp},pd:{Ja:null,ua:500,ta:750,fa:"github.com",Xa:bp},qd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Xa:bp},wd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Xa:Sk},kd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Xa:[]}};function V0(o){for(var u in j0)if(j0[u].fa==o)return j0[u];return null}function Ck(o){var u={};u["facebook.com"]=Nk,u["google.com"]=Ak,u["github.com"]=Rk,u["twitter.com"]=Pk;var f=o&&o[kk];try{if(f)return u[f]?new u[f](o):new ji(o);if(typeof o[B0]<"u")return new $0(o)}catch{}return null}var B0="idToken",kk="providerId";function $0(o){var u=o[kk];if(!u&&o[B0]){var f=Ep(o[B0]);f&&f.b&&(u=f.b)}if(!u)throw Error("Invalid additional user info!");(u=="anonymous"||u=="custom")&&(u=null),f=!1,typeof o.isNewUser<"u"?f=!!o.isNewUser:o.kind==="identitytoolkit#SignupNewUserResponse"&&(f=!0),ne(this,"providerId",u),ne(this,"isNewUser",f)}function ji(o){$0.call(this,o),o=zu(o.rawUserInfo||"{}"),ne(this,"profile",A0(o||{}))}M(ji,$0);function Nk(o){if(ji.call(this,o),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}M(Nk,ji);function Rk(o){if(ji.call(this,o),this.providerId!="github.com")throw Error("Invalid provider ID!");ne(this,"username",this.profile&&this.profile.login||null)}M(Rk,ji);function Ak(o){if(ji.call(this,o),this.providerId!="google.com")throw Error("Invalid provider ID!")}M(Ak,ji);function Pk(o){if(ji.call(this,o),this.providerId!="twitter.com")throw Error("Invalid provider ID!");ne(this,"username",o.screenName||null)}M(Pk,ji);function xk(o){var u=or(o),f=$r(u,"link"),p=$r(or(f),"link");return u=$r(u,"deep_link_id"),$r(or(u),"link")||u||p||f||o}function Tp(o,u){if(!o&&!u)throw new R("internal-error","Internal assert: no raw session string available");if(o&&u)throw new R("internal-error","Internal assert: unable to determine the session type");this.a=o||null,this.b=u||null,this.type=this.a?lf:Ip}var lf="enroll",Ip="signin";Tp.prototype.Ha=function(){return this.a?ce(this.a):ce(this.b)},Tp.prototype.w=function(){return this.type==lf?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function qu(){}qu.prototype.ka=function(){},qu.prototype.b=function(){},qu.prototype.c=function(){},qu.prototype.w=function(){};function Wu(o,u){return o.then(function(f){if(f[mi]){var p=Ep(f[mi]);if(!p||u!=p.i)throw new R("user-mismatch");return f}throw new R("user-mismatch")}).o(function(f){throw f&&f.code&&f.code==me+"user-not-found"?new R("user-mismatch"):f})}function da(o,u){if(u)this.a=u;else throw new R("internal-error","failed to construct a credential");ne(this,"providerId",o),ne(this,"signInMethod",o)}da.prototype.ka=function(o){return h_(o,z0(this))},da.prototype.b=function(o,u){var f=z0(this);return f.idToken=u,d_(o,f)},da.prototype.c=function(o,u){return Wu(p_(o,z0(this)),u)};function z0(o){return{pendingToken:o.a,requestUri:"http://localhost"}}da.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function CV(o){if(o&&o.providerId&&o.signInMethod&&o.providerId.indexOf("saml.")==0&&o.pendingToken)try{return new da(o.providerId,o.pendingToken)}catch{}return null}function po(o,u,f){if(this.a=null,u.idToken||u.accessToken)u.idToken&&ne(this,"idToken",u.idToken),u.accessToken&&ne(this,"accessToken",u.accessToken),u.nonce&&!u.pendingToken&&ne(this,"nonce",u.nonce),u.pendingToken&&(this.a=u.pendingToken);else if(u.oauthToken&&u.oauthTokenSecret)ne(this,"accessToken",u.oauthToken),ne(this,"secret",u.oauthTokenSecret);else throw new R("internal-error","failed to construct a credential");ne(this,"providerId",o),ne(this,"signInMethod",f)}po.prototype.ka=function(o){return h_(o,q0(this))},po.prototype.b=function(o,u){var f=q0(this);return f.idToken=u,d_(o,f)},po.prototype.c=function(o,u){var f=q0(this);return Wu(p_(o,f),u)};function q0(o){var u={};return o.idToken&&(u.id_token=o.idToken),o.accessToken&&(u.access_token=o.accessToken),o.secret&&(u.oauth_token_secret=o.secret),u.providerId=o.providerId,o.nonce&&!o.a&&(u.nonce=o.nonce),u={postBody:WC(u).toString(),requestUri:"http://localhost"},o.a&&(delete u.postBody,u.pendingToken=o.a),u}po.prototype.w=function(){var o={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(o.oauthIdToken=this.idToken),this.accessToken&&(o.oauthAccessToken=this.accessToken),this.secret&&(o.oauthTokenSecret=this.secret),this.nonce&&(o.nonce=this.nonce),this.a&&(o.pendingToken=this.a),o};function kV(o){if(o&&o.providerId&&o.signInMethod){var u={idToken:o.oauthIdToken,accessToken:o.oauthTokenSecret?null:o.oauthAccessToken,oauthTokenSecret:o.oauthTokenSecret,oauthToken:o.oauthTokenSecret&&o.oauthAccessToken,nonce:o.nonce,pendingToken:o.pendingToken};try{return new po(o.providerId,u,o.signInMethod)}catch{}}return null}function pa(o,u){this.Qc=u||[],Vn(this,{providerId:o,isOAuthProvider:!0}),this.Ib={},this.pb=(V0(o)||{}).Ja||null,this.ob=null}pa.prototype.Ka=function(o){return this.Ib=F(o),this};function Ok(o){if(typeof o!="string"||o.indexOf("saml.")!=0)throw new R("argument-error",'SAML provider IDs must be prefixed with "saml."');pa.call(this,o,[])}M(Ok,pa);function br(o){pa.call(this,o,bp),this.a=[]}M(br,pa),br.prototype.Ca=function(o){return fi(this.a,o)||this.a.push(o),this},br.prototype.Qb=function(){return jr(this.a)},br.prototype.credential=function(o,u){var f;if(S(o)?f={idToken:o.idToken||null,accessToken:o.accessToken||null,nonce:o.rawNonce||null}:f={idToken:o||null,accessToken:u||null},!f.idToken&&!f.accessToken)throw new R("argument-error","credential failed: must provide the ID token and/or the access token.");return new po(this.providerId,f,this.providerId)};function va(){br.call(this,"facebook.com")}M(va,br),ne(va,"PROVIDER_ID","facebook.com"),ne(va,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function Dk(o){if(!o)throw new R("argument-error","credential failed: expected 1 argument (the OAuth access token).");var u=o;return S(o)&&(u=o.accessToken),new va().credential({accessToken:u})}function ma(){br.call(this,"github.com")}M(ma,br),ne(ma,"PROVIDER_ID","github.com"),ne(ma,"GITHUB_SIGN_IN_METHOD","github.com");function Lk(o){if(!o)throw new R("argument-error","credential failed: expected 1 argument (the OAuth access token).");var u=o;return S(o)&&(u=o.accessToken),new ma().credential({accessToken:u})}function ga(){br.call(this,"google.com"),this.Ca("profile")}M(ga,br),ne(ga,"PROVIDER_ID","google.com"),ne(ga,"GOOGLE_SIGN_IN_METHOD","google.com");function Mk(o,u){var f=o;return S(o)&&(f=o.idToken,u=o.accessToken),new ga().credential({idToken:f,accessToken:u})}function Hu(){pa.call(this,"twitter.com",Sk)}M(Hu,pa),ne(Hu,"PROVIDER_ID","twitter.com"),ne(Hu,"TWITTER_SIGN_IN_METHOD","twitter.com");function Fk(o,u){var f=o;if(S(f)||(f={oauthToken:o,oauthTokenSecret:u}),!f.oauthToken||!f.oauthTokenSecret)throw new R("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new po("twitter.com",f,"twitter.com")}function Qo(o,u,f){this.a=o,this.f=u,ne(this,"providerId","password"),ne(this,"signInMethod",f===zr.EMAIL_LINK_SIGN_IN_METHOD?zr.EMAIL_LINK_SIGN_IN_METHOD:zr.EMAIL_PASSWORD_SIGN_IN_METHOD)}Qo.prototype.ka=function(o){return this.signInMethod==zr.EMAIL_LINK_SIGN_IN_METHOD?Ae(o,fB,{email:this.a,oobCode:this.f}):Ae(o,fN,{email:this.a,password:this.f})},Qo.prototype.b=function(o,u){return this.signInMethod==zr.EMAIL_LINK_SIGN_IN_METHOD?Ae(o,hB,{idToken:u,email:this.a,oobCode:this.f}):Ae(o,cN,{idToken:u,email:this.a,password:this.f})},Qo.prototype.c=function(o,u){return Wu(this.ka(o),u)},Qo.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function NV(o){return o&&o.email&&o.password?new Qo(o.email,o.password,o.signInMethod):null}function zr(){Vn(this,{providerId:"password",isOAuthProvider:!1})}function Uk(o,u){if(u=W0(u),!u)throw new R("argument-error","Invalid email link!");return new Qo(o,u.code,zr.EMAIL_LINK_SIGN_IN_METHOD)}function W0(o){return o=xk(o),(o=mk(o))&&o.operation===gp?o:null}Vn(zr,{PROVIDER_ID:"password"}),Vn(zr,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Vn(zr,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function Yo(o){if(!(o.eb&&o.cb||o.La&&o.ea))throw new R("internal-error");this.a=o,ne(this,"providerId","phone"),this.fa="phone",ne(this,"signInMethod","phone")}Yo.prototype.ka=function(o){return o.fb(cf(this))},Yo.prototype.b=function(o,u){var f=cf(this);return f.idToken=u,Ae(o,xB,f)},Yo.prototype.c=function(o,u){var f=cf(this);return f.operation="REAUTH",o=Ae(o,OB,f),Wu(o,u)},Yo.prototype.w=function(){var o={providerId:"phone"};return this.a.eb&&(o.verificationId=this.a.eb),this.a.cb&&(o.verificationCode=this.a.cb),this.a.La&&(o.temporaryProof=this.a.La),this.a.ea&&(o.phoneNumber=this.a.ea),o};function RV(o){if(o&&o.providerId==="phone"&&(o.verificationId&&o.verificationCode||o.temporaryProof&&o.phoneNumber)){var u={};return Ue(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(f){o[f]&&(u[f]=o[f])}),new Yo(u)}return null}function cf(o){return o.a.La&&o.a.ea?{temporaryProof:o.a.La,phoneNumber:o.a.ea}:{sessionInfo:o.a.eb,code:o.a.cb}}function vo(o){try{this.a=o||ue.auth()}catch{throw new R("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Vn(this,{providerId:"phone",isOAuthProvider:!1})}vo.prototype.fb=function(o,u){var f=this.a.a;return ce(u.verify()).then(function(p){if(typeof p!="string")throw new R("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(u.type){case"recaptcha":var g=S(o)?o.session:null,w=S(o)?o.phoneNumber:o,T;return g&&g.type==lf?T=g.Ha().then(function(N){return nB(f,{idToken:N,phoneEnrollmentInfo:{phoneNumber:w,recaptchaToken:p}})}):g&&g.type==Ip?T=g.Ha().then(function(N){return rB(f,{mfaPendingCredential:N,mfaEnrollmentId:o.multiFactorHint&&o.multiFactorHint.uid||o.multiFactorUid,phoneSignInInfo:{recaptchaToken:p}})}):T=tB(f,{phoneNumber:w,recaptchaToken:p}),T.then(function(N){return typeof u.reset=="function"&&u.reset(),N},function(N){throw typeof u.reset=="function"&&u.reset(),N});default:throw new R("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function jk(o,u){if(!o)throw new R("missing-verification-id");if(!u)throw new R("missing-verification-code");return new Yo({eb:o,cb:u})}Vn(vo,{PROVIDER_ID:"phone"}),Vn(vo,{PHONE_SIGN_IN_METHOD:"phone"});function H0(o){if(o.temporaryProof&&o.phoneNumber)return new Yo({La:o.temporaryProof,ea:o.phoneNumber});var u=o&&o.providerId;if(!u||u==="password")return null;var f=o&&o.oauthAccessToken,p=o&&o.oauthTokenSecret,g=o&&o.nonce,w=o&&o.oauthIdToken,T=o&&o.pendingToken;try{switch(u){case"google.com":return Mk(w,f);case"facebook.com":return Dk(f);case"github.com":return Lk(f);case"twitter.com":return Fk(f,p);default:return f||p||w||T?T?u.indexOf("saml.")==0?new da(u,T):new po(u,{pendingToken:T,idToken:o.oauthIdToken,accessToken:o.oauthAccessToken},u):new br(u).credential({idToken:w,accessToken:f,rawNonce:g}):null}}catch{return null}}function K0(o){if(!o.isOAuthProvider)throw new R("invalid-oauth-provider")}function pi(o,u,f,p,g,w,T){if(this.c=o,this.b=u||null,this.g=f||null,this.f=p||null,this.i=w||null,this.h=T||null,this.a=g||null,this.g||this.a){if(this.g&&this.a)throw new R("invalid-auth-event");if(this.g&&!this.f)throw new R("invalid-auth-event")}else throw new R("invalid-auth-event")}pi.prototype.getUid=function(){var o=[];return o.push(this.c),this.b&&o.push(this.b),this.f&&o.push(this.f),this.h&&o.push(this.h),o.join("-")},pi.prototype.T=function(){return this.h},pi.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function Vk(o){return o=o||{},o.type?new pi(o.type,o.eventId,o.urlResponse,o.sessionId,o.error&&ze(o.error),o.postBody,o.tenantId):null}function AV(){this.b=null,this.a=[]}var G0=null;function PV(o){var u=G0;u.a.push(o),u.b||(u.b=function(f){for(var p=0;p<u.a.length;p++)u.a[p](f)},o=dt("universalLinks.subscribe",c),typeof o=="function"&&o(null,u.b))}function Q0(o){var u="unauthorized-domain",f=void 0,p=or(o);o=p.a,p=p.c,p=="chrome-extension"?f=cC("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",o):p=="http"||p=="https"?f=cC("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",o):u="operation-not-supported-in-this-environment",R.call(this,u,f)}M(Q0,R);function ff(o,u,f){R.call(this,o,f),o=u||{},o.Jb&&ne(this,"email",o.Jb),o.ea&&ne(this,"phoneNumber",o.ea),o.credential&&ne(this,"credential",o.credential),o.Zb&&ne(this,"tenantId",o.Zb)}M(ff,R),ff.prototype.w=function(){var o={code:this.code,message:this.message};this.email&&(o.email=this.email),this.phoneNumber&&(o.phoneNumber=this.phoneNumber),this.tenantId&&(o.tenantId=this.tenantId);var u=this.credential&&this.credential.w();return u&&Y(o,u),o},ff.prototype.toJSON=function(){return this.w()};function Sp(o){if(o.code){var u=o.code||"";u.indexOf(me)==0&&(u=u.substring(me.length));var f={credential:H0(o),Zb:o.tenantId};if(o.email)f.Jb=o.email;else if(o.phoneNumber)f.ea=o.phoneNumber;else if(!f.credential)return new R(u,o.message||void 0);return new ff(u,f,o.message)}return null}function hf(){}hf.prototype.c=null;function Bk(o){return o.c||(o.c=o.b())}var Y0;function Cp(){}M(Cp,hf),Cp.prototype.a=function(){var o=$k(this);return o?new ActiveXObject(o):new XMLHttpRequest},Cp.prototype.b=function(){var o={};return $k(this)&&(o[0]=!0,o[1]=!0),o};function $k(o){if(!o.f&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var u=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],f=0;f<u.length;f++){var p=u[f];try{return new ActiveXObject(p),o.f=p}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return o.f}Y0=new Cp;function kp(){}M(kp,hf),kp.prototype.a=function(){var o=new XMLHttpRequest;if("withCredentials"in o)return o;if(typeof XDomainRequest<"u")return new zk;throw Error("Unsupported browser")},kp.prototype.b=function(){return{}};function zk(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=O(this.qc,this),this.a.onerror=O(this.Sb,this),this.a.onprogress=O(this.rc,this),this.a.ontimeout=O(this.vc,this)}e=zk.prototype,e.open=function(o,u,f){if(f!=null&&!f)throw Error("Only async requests are supported.");this.a.open(o,u)},e.send=function(o){if(o)if(typeof o=="string")this.a.send(o);else throw Error("Only string data is supported");else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(o){return o.toLowerCase()=="content-type"?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,X0(this,4)},e.Sb=function(){this.status=500,this.response=this.responseText="",X0(this,4)},e.vc=function(){this.Sb()},e.rc=function(){this.status=200,X0(this,1)};function X0(o,u){o.readyState=u,o.onreadystatechange&&o.onreadystatechange()}e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function J0(o,u,f){this.reset(o,u,f,void 0,void 0)}J0.prototype.a=null,J0.prototype.reset=function(o,u,f,p,g){delete this.a};function Z0(o){this.f=o,this.b=this.c=this.a=null}function df(o,u){this.name=o,this.value=u}df.prototype.toString=function(){return this.name};var qk=new df("SEVERE",1e3),e_=new df("WARNING",900),xV=new df("CONFIG",700),OV=new df("FINE",500);function Wk(o){return o.c?o.c:o.a?Wk(o.a):(he("Root logger has no level set."),null)}Z0.prototype.log=function(o,u,f){if(o.value>=Wk(this).value)for(E(u)&&(u=u()),o=new J0(o,String(u),this.f),f&&(o.a=f),f=this;f;)f=f.a};var t_={},Np=null;function n_(o){Np||(Np=new Z0(""),t_[""]=Np,Np.c=xV);var u;if(!(u=t_[o])){u=new Z0(o);var f=o.lastIndexOf("."),p=o.substr(f+1);f=n_(o.substr(0,f)),f.b||(f.b={}),f.b[p]=u,u.a=f,t_[o]=u}return u}function qr(o,u){o&&o.log(OV,u,void 0)}function Rp(o){this.f=o}M(Rp,hf),Rp.prototype.a=function(){return new Ap(this.f)},Rp.prototype.b=function(o){return function(){return o}}({});function Ap(o){jn.call(this),this.u=o,this.h=void 0,this.readyState=r_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=n_("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}M(Ap,jn);var r_=0;e=Ap.prototype,e.open=function(o,u){if(this.readyState!=r_)throw this.abort(),Error("Error reopening a connection");this.s=o,this.f=u,this.readyState=1,vf(this)},e.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var u={headers:this.l,method:this.s,credentials:this.h,cache:void 0};o&&(u.body=o),this.u.fetch(new Request(this.f,u)).then(this.uc.bind(this),this.Ua.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,pf(this)),this.readyState=r_},e.uc=function(o){this.a&&(this.g=o,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=o.headers,this.readyState=2,vf(this)),this.a&&(this.readyState=3,vf(this),this.a&&(this.responseType==="arraybuffer"?o.arrayBuffer().then(this.sc.bind(this),this.Ua.bind(this)):typeof c.ReadableStream<"u"&&"body"in o?(this.response=this.responseText="",this.c=o.body.getReader(),this.m=new TextDecoder,Hk(this)):o.text().then(this.tc.bind(this),this.Ua.bind(this)))))};function Hk(o){o.c.read().then(o.pc.bind(o)).catch(o.Ua.bind(o))}e.pc=function(o){if(this.a){var u=this.m.decode(o.value?o.value:new Uint8Array(0),{stream:!o.done});u&&(this.response=this.responseText+=u),o.done?pf(this):vf(this),this.readyState==3&&Hk(this)}},e.tc=function(o){this.a&&(this.response=this.responseText=o,pf(this))},e.sc=function(o){this.a&&(this.response=o,pf(this))},e.Ua=function(o){var u=this.i;u&&u.log(e_,"Failed to fetch url "+this.f,o instanceof Error?o:Error(o)),this.a&&pf(this)};function pf(o){o.readyState=4,o.g=null,o.c=null,o.m=null,vf(o)}e.setRequestHeader=function(o,u){this.l.append(o,u)},e.getResponseHeader=function(o){return this.b?this.b.get(o.toLowerCase())||"":((o=this.i)&&o.log(e_,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var o=this.i;return o&&o.log(e_,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}o=[];for(var u=this.b.entries(),f=u.next();!f.done;)f=f.value,o.push(f[0]+": "+f[1]),f=u.next();return o.join(`\r
`)};function vf(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(Ap.prototype,"withCredentials",{get:function(){return this.h==="include"},set:function(o){this.h=o?"include":"same-origin"}});function mf(o){jn.call(this),this.headers=new Uu,this.D=o||null,this.c=!1,this.C=this.a=null,this.h=this.R=this.l="",this.f=this.O=this.i=this.J=!1,this.g=0,this.s=null,this.m=Kk,this.u=this.S=!1}M(mf,jn);var Kk="";mf.prototype.b=n_("goog.net.XhrIo");var DV=/^https?$/i,LV=["POST","PUT"];function MV(o,u,f,p,g){if(o.a)throw Error("[goog.net.XhrIo] Object is active with another request="+o.l+"; newUri="+u);f=f?f.toUpperCase():"GET",o.l=u,o.h="",o.R=f,o.J=!1,o.c=!0,o.a=o.D?o.D.a():Y0.a(),o.C=o.D?Bk(o.D):Bk(Y0),o.a.onreadystatechange=O(o.Vb,o);try{qr(o.b,mo(o,"Opening Xhr")),o.O=!0,o.a.open(f,String(u),!0),o.O=!1}catch(T){qr(o.b,mo(o,"Error opening Xhr: "+T.message)),Gk(o,T);return}u=p||"";var w=new Uu(o.headers);g&&$j(g,function(T,N){w.set(N,T)}),g=Qy(w.Y()),p=c.FormData&&u instanceof c.FormData,!fi(LV,f)||g||p||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),w.forEach(function(T,N){this.a.setRequestHeader(N,T)},o),o.m&&(o.a.responseType=o.m),"withCredentials"in o.a&&o.a.withCredentials!==o.S&&(o.a.withCredentials=o.S);try{Xk(o),0<o.g&&(o.u=FV(o.a),qr(o.b,mo(o,"Will abort after "+o.g+"ms if incomplete, xhr2 "+o.u)),o.u?(o.a.timeout=o.g,o.a.ontimeout=O(o.Ma,o)):o.s=m0(o.Ma,o.g,o)),qr(o.b,mo(o,"Sending request")),o.i=!0,o.a.send(u),o.i=!1}catch(T){qr(o.b,mo(o,"Send error: "+T.message)),Gk(o,T)}}function FV(o){return hi&&pC(9)&&typeof o.timeout=="number"&&o.ontimeout!==void 0}function UV(o){return o.toLowerCase()=="content-type"}e=mf.prototype,e.Ma=function(){typeof l<"u"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",qr(this.b,mo(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function Gk(o,u){o.c=!1,o.a&&(o.f=!0,o.a.abort(),o.f=!1),o.h=u,Qk(o),Pp(o)}function Qk(o){o.J||(o.J=!0,o.dispatchEvent("complete"),o.dispatchEvent("error"))}e.abort=function(){this.a&&this.c&&(qr(this.b,mo(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Pp(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Pp(this,!0)),mf.ab.Da.call(this)},e.Vb=function(){this.xa||(this.O||this.i||this.f?Yk(this):this.Jc())},e.Jc=function(){Yk(this)};function Yk(o){if(o.c&&typeof l<"u"){if(o.C[1]&&gf(o)==4&&xp(o)==2)qr(o.b,mo(o,"Local request error detected and ignored"));else if(o.i&&gf(o)==4)m0(o.Vb,0,o);else if(o.dispatchEvent("readystatechange"),gf(o)==4){qr(o.b,mo(o,"Request complete")),o.c=!1;try{var u=xp(o);e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var p;if(!(p=f)){var g;if(g=u===0){var w=String(o.l).match(zC)[1]||null;if(!w&&c.self&&c.self.location){var T=c.self.location.protocol;w=T.substr(0,T.length-1)}g=!DV.test(w?w.toLowerCase():"")}p=g}if(p)o.dispatchEvent("complete"),o.dispatchEvent("success");else{try{var N=2<gf(o)?o.a.statusText:""}catch(j){qr(o.b,"Can not get status: "+j.message),N=""}o.h=N+" ["+xp(o)+"]",Qk(o)}}finally{Pp(o)}}}}function Pp(o,u){if(o.a){Xk(o);var f=o.a,p=o.C[0]?m:null;o.a=null,o.C=null,u||o.dispatchEvent("ready");try{f.onreadystatechange=p}catch(g){(o=o.b)&&o.log(qk,"Problem encountered resetting onreadystatechange: "+g.message,void 0)}}}function Xk(o){o.a&&o.u&&(o.a.ontimeout=null),o.s&&(c.clearTimeout(o.s),o.s=null)}function gf(o){return o.a?o.a.readyState:0}function xp(o){try{return 2<gf(o)?o.a.status:-1}catch{return-1}}function jV(o){try{return o.a?o.a.responseText:""}catch(u){return qr(o.b,"Can not get responseText: "+u.message),""}}e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Kk:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var o=this.b;return o&&o.log(qk,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(u){return qr(this.b,"Can not get response: "+u.message),null}};function mo(o,u){return u+" ["+o.R+" "+o.l+" "+xp(o)+"]"}function ya(o){var u=$V;this.g=[],this.u=u,this.s=o||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}ya.prototype.cancel=function(o){if(this.a)this.c instanceof ya&&this.c.cancel();else{if(this.b){var u=this.b;delete this.b,o?u.cancel(o):(u.l--,0>=u.l&&u.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(o=new _f,Op(this),yf(this,!1,o))}},ya.prototype.m=function(o,u){this.i=!1,yf(this,o,u)};function yf(o,u,f){o.a=!0,o.c=f,o.f=!u,Zk(o)}function Op(o){if(o.a){if(!o.v)throw new Dp;o.v=!1}}function VV(o,u){i_(o,null,u,void 0)}function i_(o,u,f,p){o.g.push([u,f,p]),o.a&&Zk(o)}ya.prototype.then=function(o,u,f){var p,g,w=new Re(function(T,N){p=T,g=N});return i_(this,p,function(T){T instanceof _f?w.cancel():g(T)}),w.then(o,u,f)},ya.prototype.$goog_Thenable=!0;function Jk(o){return Gy(o.g,function(u){return E(u[1])})}function Zk(o){if(o.h&&o.a&&Jk(o)){var u=o.h,f=Lp[u];f&&(c.clearTimeout(f.a),delete Lp[u]),o.h=0}o.b&&(o.b.l--,delete o.b),u=o.c;for(var p=f=!1;o.g.length&&!o.i;){var g=o.g.shift(),w=g[0],T=g[1];if(g=g[2],w=o.f?T:w)try{var N=w.call(g||o.s,u);N!==void 0&&(o.f=o.f&&(N==u||N instanceof Error),o.c=u=N),(_t(u)||typeof c.Promise=="function"&&u instanceof c.Promise)&&(p=!0,o.i=!0)}catch(j){u=j,o.f=!0,Jk(o)||(f=!0)}}o.c=u,p&&(N=O(o.m,o,!0),p=O(o.m,o,!1),u instanceof ya?(i_(u,N,p),u.C=!0):u.then(N,p)),f&&(u=new eN(u),Lp[u.a]=u,o.h=u.a)}function Dp(){W.call(this)}M(Dp,W),Dp.prototype.message="Deferred has already fired",Dp.prototype.name="AlreadyCalledError";function _f(){W.call(this)}M(_f,W),_f.prototype.message="Deferred was canceled",_f.prototype.name="CanceledError";function eN(o){this.a=c.setTimeout(O(this.c,this),0),this.b=o}eN.prototype.c=function(){throw delete Lp[this.a],this.b};var Lp={};function o_(o){var u={},f=u.document||document,p=xt(o).toString(),g=sp(document,"SCRIPT"),w={Wb:g,Ma:void 0},T=new ya(w),N=null,j=u.timeout!=null?u.timeout:5e3;return 0<j&&(N=window.setTimeout(function(){Mp(g,!0);var B=new s_(qV,"Timeout reached for loading script "+p);Op(T),yf(T,!1,B)},j),w.Ma=N),g.onload=g.onreadystatechange=function(){g.readyState&&g.readyState!="loaded"&&g.readyState!="complete"||(Mp(g,u.xd||!1,N),Op(T),yf(T,!0,null))},g.onerror=function(){Mp(g,!0,N);var B=new s_(zV,"Error while loading script "+p);Op(T),yf(T,!1,B)},w=u.attributes||{},Y(w,{type:"text/javascript",charset:"UTF-8"}),mC(g,w),Xy(g,o),BV(f).appendChild(g),T}function BV(o){var u;return(u=(o||document).getElementsByTagName("HEAD"))&&u.length!=0?u[0]:o.documentElement}function $V(){if(this&&this.Wb){var o=this.Wb;o&&o.tagName=="SCRIPT"&&Mp(o,!0,this.Ma)}}function Mp(o,u,f){f!=null&&c.clearTimeout(f),o.onload=m,o.onerror=m,o.onreadystatechange=m,u&&window.setTimeout(function(){o&&o.parentNode&&o.parentNode.removeChild(o)},0)}var zV=0,qV=1;function s_(o,u){var f="Jsloader error (code #"+o+")";u&&(f+=": "+u),W.call(this,f),this.code=o}M(s_,W);function Fp(o){this.f=o}M(Fp,hf),Fp.prototype.a=function(){return new this.f},Fp.prototype.b=function(){return{}};function vi(o,u,f){if(this.c=o,o=u||{},this.l=o.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=o.secureTokenTimeout||WV,this.g=F(o.secureTokenHeaders||HV),this.h=o.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=o.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=o.firebaseTimeout||KV,this.a=F(o.firebaseHeaders||GV),f&&(this.a["X-Client-Version"]=f,this.g["X-Client-Version"]=f),f=Fi()=="Node",f=c.XMLHttpRequest||f&&ue.INTERNAL.node&&ue.INTERNAL.node.XMLHttpRequest,!f&&!di())throw new R("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,di()?this.f=new Rp(self):tk()?this.f=new Fp(f):this.f=new kp,this.b=null}var a_,mi="idToken",WV=new Go(3e4,6e4),HV={"Content-Type":"application/x-www-form-urlencoded"},KV=new Go(3e4,6e4),GV={"Content-Type":"application/json"};function tN(o,u){u?o.a["X-Firebase-Locale"]=u:delete o.a["X-Firebase-Locale"]}function Ku(o,u){u&&(o.l=u_("https://securetoken.googleapis.com/v1/token",u),o.h=u_("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",u),o.i=u_("https://identitytoolkit.googleapis.com/v2/",u))}function u_(o,u){return o=or(o),u=or(u.url),o.f=o.a+o.f,Xc(o,u.c),o.a=u.a,Jc(o,u.g),o.toString()}function nN(o,u){u?(o.a["X-Client-Version"]=u,o.g["X-Client-Version"]=u):(delete o.a["X-Client-Version"],delete o.g["X-Client-Version"])}vi.prototype.T=function(){return this.b};function rN(o,u,f,p,g,w,T){Jj()||di()?o=O(o.u,o):(a_||(a_=new Re(function(N,j){YV(N,j)})),o=O(o.s,o)),o(u,f,p,g,w,T)}vi.prototype.u=function(o,u,f,p,g,w){if(di()&&(typeof c.fetch>"u"||typeof c.Headers>"u"||typeof c.Request>"u"))throw new R("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var T=new mf(this.f);if(w){T.g=Math.max(0,w);var N=setTimeout(function(){T.dispatchEvent("timeout")},w)}VC(T,"complete",function(){N&&clearTimeout(N);var j=null;try{j=JSON.parse(jV(this))||null}catch{j=null}u&&u(j)}),v0(T,"ready",function(){N&&clearTimeout(N),OC(this)}),v0(T,"timeout",function(){N&&clearTimeout(N),OC(this),u&&u(null)}),MV(T,o,f,p,g)};var QV=new ae(re,"https://apis.google.com/js/client.js?onload=%{onload}"),iN="__fcb"+Math.floor(1e6*Math.random()).toString();function YV(o,u){if(((window.gapi||{}).client||{}).request)o();else{c[iN]=function(){((window.gapi||{}).client||{}).request?o():u(Error("CORS_UNSUPPORTED"))};var f=rn(QV,{onload:iN});VV(o_(f),function(){u(Error("CORS_UNSUPPORTED"))})}}vi.prototype.s=function(o,u,f,p,g){var w=this;a_.then(function(){window.gapi.client.setApiKey(w.c);var T=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:o,method:f,body:p,headers:g,authType:"none",callback:function(N){window.gapi.auth.setToken(T),u&&u(N)}})}).o(function(T){u&&u({error:{message:T&&T.message||"CORS_UNSUPPORTED"}})})};function XV(o,u){return new Re(function(f,p){u.grant_type=="refresh_token"&&u.refresh_token||u.grant_type=="authorization_code"&&u.code?rN(o,o.l+"?key="+encodeURIComponent(o.c),function(g){g?g.error?p(m_(g)):g.access_token&&g.refresh_token?f(g):p(new R("internal-error")):p(new R("network-request-failed"))},"POST",WC(u).toString(),o.g,o.m.get()):p(new R("internal-error"))})}function oN(o,u,f,p,g,w,T){var N=or(u+f);Ot(N,"key",o.c),T&&Ot(N,"cb",Date.now().toString());var j=p=="GET";if(j)for(var B in g)g.hasOwnProperty(B)&&Ot(N,B,g[B]);return new Re(function(ye,Ge){rN(o,N.toString(),function(je){je?je.error?Ge(m_(je,w||{})):ye(je):Ge(new R("network-request-failed"))},p,j?void 0:GC(ik(g)),o.a,o.v.get())})}function _a(o){if(o=o.email,typeof o!="string"||!tV.test(o))throw new R("invalid-email")}function sN(o){"email"in o&&_a(o)}function JV(o,u){return Ae(o,uB,{identifier:u,continueUri:mp()?tf():"http://localhost"}).then(function(f){return f.signinMethods||[]})}function ZV(o){return Ae(o,wB,{}).then(function(u){return u.authorizedDomains||[]})}function sr(o){if(!o[mi])throw o.mfaPendingCredential?new R("multi-factor-auth-required",null,F(o)):new R("internal-error")}function l_(o){if(o.phoneNumber||o.temporaryProof){if(!o.phoneNumber||!o.temporaryProof)throw new R("internal-error")}else{if(!o.sessionInfo)throw new R("missing-verification-id");if(!o.code)throw new R("missing-verification-code")}}vi.prototype.zb=function(){return Ae(this,IB,{})},vi.prototype.Bb=function(o,u){return Ae(this,lN,{idToken:o,email:u})},vi.prototype.Cb=function(o,u){return Ae(this,cN,{idToken:o,password:u})};var eB={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};e=vi.prototype,e.Db=function(o,u){var f={idToken:o},p=[];return ip(eB,function(g,w){var T=u[w];T===null?p.push(g):w in u&&(f[w]=T)}),p.length&&(f.deleteAttribute=p),Ae(this,lN,f)},e.vb=function(o,u){return o={requestType:"PASSWORD_RESET",email:o},Y(o,u),Ae(this,_B,o)},e.wb=function(o,u){return o={requestType:"EMAIL_SIGNIN",email:o},Y(o,u),Ae(this,mB,o)},e.ub=function(o,u){return o={requestType:"VERIFY_EMAIL",idToken:o},Y(o,u),Ae(this,gB,o)},e.Eb=function(o,u,f){return o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:o,newEmail:u},Y(o,f),Ae(this,yB,o)};function tB(o,u){return Ae(o,TB,u)}e.fb=function(o){return Ae(this,PB,o)};function nB(o,u){return Ae(o,SB,u).then(function(f){return f.phoneSessionInfo.sessionInfo})}function aN(o){if(!o.phoneVerificationInfo)throw new R("internal-error");if(!o.phoneVerificationInfo.sessionInfo)throw new R("missing-verification-id");if(!o.phoneVerificationInfo.code)throw new R("missing-verification-code")}function rB(o,u){return Ae(o,CB,u).then(function(f){return f.phoneResponseInfo.sessionInfo})}function iB(o,u,f){return Ae(o,cB,{idToken:u,deleteProvider:f})}function c_(o){if(!o.requestUri||!o.sessionId&&!o.postBody&&!o.pendingToken)throw new R("internal-error")}function f_(o,u){return u.oauthIdToken&&u.providerId&&u.providerId.indexOf("oidc.")==0&&!u.pendingToken&&(o.sessionId?u.nonce=o.sessionId:o.postBody&&(o=new la(o.postBody),_0(o,"nonce")&&(u.nonce=o.get("nonce")))),u}function uN(o){var u=null;if(o.needConfirmation?(o.code="account-exists-with-different-credential",u=Sp(o)):o.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(o.code="credential-already-in-use",u=Sp(o)):o.errorMessage=="EMAIL_EXISTS"?(o.code="email-already-in-use",u=Sp(o)):o.errorMessage&&(u=hN(o.errorMessage)),u)throw u;sr(o)}function h_(o,u){return u.returnIdpCredential=!0,Ae(o,kB,u)}function d_(o,u){return u.returnIdpCredential=!0,Ae(o,RB,u)}function p_(o,u){return u.returnIdpCredential=!0,u.autoCreate=!1,Ae(o,NB,u)}function v_(o){if(!o.oobCode)throw new R("invalid-action-code")}e.nb=function(o,u){return Ae(this,bB,{oobCode:o,newPassword:u})},e.Ra=function(o){return Ae(this,sB,{oobCode:o})},e.jb=function(o){return Ae(this,oB,{oobCode:o})};var oB={endpoint:"setAccountInfo",A:v_,Z:"email",B:!0},sB={endpoint:"resetPassword",A:v_,G:function(o){var u=o.requestType;if(!u||!o.email&&u!="EMAIL_SIGNIN"&&u!="VERIFY_AND_CHANGE_EMAIL")throw new R("internal-error")},B:!0},aB={endpoint:"signupNewUser",A:function(o){if(_a(o),!o.password)throw new R("weak-password")},G:sr,V:!0,B:!0},uB={endpoint:"createAuthUri",B:!0},lB={endpoint:"deleteAccount",N:["idToken"]},cB={endpoint:"setAccountInfo",N:["idToken","deleteProvider"],A:function(o){if(!Array.isArray(o.deleteProvider))throw new R("internal-error")}},fB={endpoint:"emailLinkSignin",N:["email","oobCode"],A:_a,G:sr,V:!0,B:!0},hB={endpoint:"emailLinkSignin",N:["idToken","email","oobCode"],A:_a,G:sr,V:!0},dB={endpoint:"accounts/mfaEnrollment:finalize",N:["idToken","phoneVerificationInfo"],A:aN,G:sr,B:!0,Na:!0},pB={endpoint:"accounts/mfaSignIn:finalize",N:["mfaPendingCredential","phoneVerificationInfo"],A:aN,G:sr,B:!0,Na:!0},vB={endpoint:"getAccountInfo"},mB={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(o){if(o.requestType!="EMAIL_SIGNIN")throw new R("internal-error");_a(o)},Z:"email",B:!0},gB={endpoint:"getOobConfirmationCode",N:["idToken","requestType"],A:function(o){if(o.requestType!="VERIFY_EMAIL")throw new R("internal-error")},Z:"email",B:!0},yB={endpoint:"getOobConfirmationCode",N:["idToken","newEmail","requestType"],A:function(o){if(o.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new R("internal-error")},Z:"email",B:!0},_B={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(o){if(o.requestType!="PASSWORD_RESET")throw new R("internal-error");_a(o)},Z:"email",B:!0},wB={lb:!0,endpoint:"getProjectConfig",Ub:"GET"},EB={lb:!0,endpoint:"getRecaptchaParam",Ub:"GET",G:function(o){if(!o.recaptchaSiteKey)throw new R("internal-error")}},bB={endpoint:"resetPassword",A:v_,Z:"email",B:!0},TB={endpoint:"sendVerificationCode",N:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},lN={endpoint:"setAccountInfo",N:["idToken"],A:sN,V:!0},cN={endpoint:"setAccountInfo",N:["idToken"],A:function(o){if(sN(o),!o.password)throw new R("weak-password")},G:sr,V:!0},IB={endpoint:"signupNewUser",G:sr,V:!0,B:!0},SB={endpoint:"accounts/mfaEnrollment:start",N:["idToken","phoneEnrollmentInfo"],A:function(o){if(!o.phoneEnrollmentInfo)throw new R("internal-error");if(!o.phoneEnrollmentInfo.phoneNumber)throw new R("missing-phone-number");if(!o.phoneEnrollmentInfo.recaptchaToken)throw new R("missing-app-credential")},G:function(o){if(!o.phoneSessionInfo||!o.phoneSessionInfo.sessionInfo)throw new R("internal-error")},B:!0,Na:!0},CB={endpoint:"accounts/mfaSignIn:start",N:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(o){if(!o.phoneSignInInfo||!o.phoneSignInInfo.recaptchaToken)throw new R("missing-app-credential")},G:function(o){if(!o.phoneResponseInfo||!o.phoneResponseInfo.sessionInfo)throw new R("internal-error")},B:!0,Na:!0},kB={endpoint:"verifyAssertion",A:c_,Ya:f_,G:uN,V:!0,B:!0},NB={endpoint:"verifyAssertion",A:c_,Ya:f_,G:function(o){if(o.errorMessage&&o.errorMessage=="USER_NOT_FOUND")throw new R("user-not-found");if(o.errorMessage)throw hN(o.errorMessage);sr(o)},V:!0,B:!0},RB={endpoint:"verifyAssertion",A:function(o){if(c_(o),!o.idToken)throw new R("internal-error")},Ya:f_,G:uN,V:!0},AB={endpoint:"verifyCustomToken",A:function(o){if(!o.token)throw new R("invalid-custom-token")},G:sr,V:!0,B:!0},fN={endpoint:"verifyPassword",A:function(o){if(_a(o),!o.password)throw new R("wrong-password")},G:sr,V:!0,B:!0},PB={endpoint:"verifyPhoneNumber",A:l_,G:sr,B:!0},xB={endpoint:"verifyPhoneNumber",A:function(o){if(!o.idToken)throw new R("internal-error");l_(o)},G:function(o){if(o.temporaryProof)throw o.code="credential-already-in-use",Sp(o);sr(o)}},OB={Hb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:l_,G:sr,B:!0},DB={endpoint:"accounts/mfaEnrollment:withdraw",N:["idToken","mfaEnrollmentId"],G:function(o){if(!!o[mi]^!!o.refreshToken)throw new R("internal-error")},B:!0,Na:!0};function Ae(o,u,f){if(!uV(f,u.N))return ht(new R("internal-error"));var p=!!u.Na,g=u.Ub||"POST",w;return ce(f).then(u.A).then(function(){return u.V&&(f.returnSecureToken=!0),u.B&&o.b&&typeof f.tenantId>"u"&&(f.tenantId=o.b),p?oN(o,o.i,u.endpoint,g,f,u.Hb,u.lb||!1):oN(o,o.h,u.endpoint,g,f,u.Hb,u.lb||!1)}).then(function(T){return w=T,u.Ya?u.Ya(f,w):w}).then(u.G).then(function(){if(!u.Z)return w;if(!(u.Z in w))throw new R("internal-error");return w[u.Z]})}function hN(o){return m_({error:{errors:[{message:o}],code:400,message:o}})}function m_(o,u){var f=(o.error&&o.error.errors&&o.error.errors[0]||{}).reason||"",p={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(f=p[f]?new R(p[f]):null)return f;f=o.error&&o.error.message||"",p={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},Y(p,u||{}),u=(u=f.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<u.length?u[1]:void 0;for(var g in p)if(f.indexOf(g)===0)return new R(p[g],u);return!u&&o&&(u=rf(o)),new R("internal-error",u)}function LB(o){this.b=o,this.a=null,this.rb=MB(this)}function MB(o){return $B().then(function(){return new Re(function(u,f){dt("gapi.iframes.getContext")().open({where:document.body,url:o.b,messageHandlersFilter:dt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(p){function g(){clearTimeout(w),u()}o.a=p,o.a.restyle({setHideOnLeave:!1});var w=setTimeout(function(){f(Error("Network Error"))},BB.get());p.ping(g).then(g,function(){f(Error("Network Error"))})})})})}function FB(o,u){return o.rb.then(function(){return new Re(function(f){o.a.send(u.type,u,f,dt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function UB(o,u){o.rb.then(function(){o.a.register("authEvent",u,dt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var jB=new ae(re,"https://apis.google.com/js/api.js?onload=%{onload}"),VB=new Go(3e4,6e4),BB=new Go(5e3,15e3),Up=null;function $B(){return Up||(Up=new Re(function(o,u){function f(){sk(),dt("gapi.load")("gapi.iframes",{callback:o,ontimeout:function(){sk(),u(Error("Network Error"))},timeout:VB.get()})}if(dt("gapi.iframes.Iframe"))o();else if(dt("gapi.load"))f();else{var p="__iframefcb"+Math.floor(1e6*Math.random()).toString();c[p]=function(){dt("gapi.load")?f():u(Error("Network Error"))},p=rn(jB,{onload:p}),ce(o_(p)).o(function(){u(Error("Network Error"))})}}).o(function(o){throw Up=null,o}))}function dN(o,u,f,p){this.l=o,this.h=u,this.i=f,this.g=p,this.f=null,this.g?(o=or(this.g.url),o=pp(o.c,o.a,o.g,"/emulator/auth/iframe")):o=pp("https",this.l,null,"/__/auth/iframe"),this.a=o,Ot(this.a,"apiKey",this.h),Ot(this.a,"appName",this.i),this.b=null,this.c=[]}dN.prototype.toString=function(){return this.f?Ot(this.a,"v",this.f):Mi(this.a.b,"v"),this.b?Ot(this.a,"eid",this.b):Mi(this.a.b,"eid"),this.c.length?Ot(this.a,"fw",this.c.join(",")):Mi(this.a.b,"fw"),this.a.toString()};function g_(o,u,f,p,g,w){this.u=o,this.s=u,this.c=f,this.m=p,this.v=w,this.i=this.g=this.l=null,this.a=g,this.h=this.f=null}g_.prototype.yb=function(o){return this.h=o,this},g_.prototype.toString=function(){if(this.v){var o=or(this.v.url);o=pp(o.c,o.a,o.g,"/emulator/auth/handler")}else o=pp("https",this.u,null,"/__/auth/handler");if(Ot(o,"apiKey",this.s),Ot(o,"appName",this.c),Ot(o,"authType",this.m),this.a.isOAuthProvider){var u=this.a;try{var f=ue.app(this.c).auth().la()}catch{f=null}u.ob=f,Ot(o,"providerId",this.a.providerId),f=this.a,u=ik(f.Ib);for(var p in u)u[p]=u[p].toString();p=f.Qc,u=F(u);for(var g=0;g<p.length;g++){var w=p[g];w in u&&delete u[w]}f.pb&&f.ob&&!u[f.pb]&&(u[f.pb]=f.ob),D(u)||Ot(o,"customParameters",rf(u))}if(typeof this.a.Qb=="function"&&(f=this.a.Qb(),f.length&&Ot(o,"scopes",f.join(","))),this.l?Ot(o,"redirectUrl",this.l):Mi(o.b,"redirectUrl"),this.g?Ot(o,"eventId",this.g):Mi(o.b,"eventId"),this.i?Ot(o,"v",this.i):Mi(o.b,"v"),this.b)for(var T in this.b)this.b.hasOwnProperty(T)&&!$r(o,T)&&Ot(o,T,this.b[T]);return this.h?Ot(o,"tid",this.h):Mi(o.b,"tid"),this.f?Ot(o,"eid",this.f):Mi(o.b,"eid"),T=y_(this.c),T.length&&Ot(o,"fw",T.join(",")),o.toString()};function y_(o){try{return ue.app(o).auth().Ga()}catch{return[]}}function pN(o,u,f,p,g,w){this.s=o,this.g=u,this.b=f,this.f=w,this.c=p||null,this.i=g||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function vN(o){var u=tf();return ZV(o).then(function(f){e:{var p=or(u),g=p.c;p=p.a;for(var w=0;w<f.length;w++){var T=f[w],N=p,j=g;if(T.indexOf("chrome-extension://")==0?N=or(T).a==N&&j=="chrome-extension":j!="http"&&j!="https"?N=!1:eV.test(T)?N=N==T:(T=T.split(".").join("\\."),N=new RegExp("^(.+\\."+T+"|"+T+")$","i").test(N)),N){f=!0;break e}}f=!1}if(!f)throw new Q0(tf())})}function mN(o){return o.m||(o.m=vp().then(function(){if(!o.u){var u=o.c,f=o.i,p=y_(o.b),g=new dN(o.s,o.g,o.b,o.f);g.f=u,g.b=f,g.c=jr(p||[]),o.u=g.toString()}o.v=new LB(o.u),zB(o)})),o.m}e=pN.prototype,e.Ob=function(o,u,f){var p=new R("popup-closed-by-user"),g=new R("web-storage-unsupported"),w=this,T=!1;return this.ma().then(function(){qB(w).then(function(N){N||(o&&ca(o),u(g),T=!0)})}).o(function(){}).then(function(){if(!T)return Zj(o)}).then(function(){if(!T)return Fu(f).then(function(){u(p)})})},e.Xb=function(){var o=vn();return!nf(o)&&!ok(o)},e.Tb=function(){return!1},e.Mb=function(o,u,f,p,g,w,T,N){if(!o)return ht(new R("popup-blocked"));if(T&&!nf())return this.ma().o(function(B){ca(o),g(B)}),p(),ce();this.a||(this.a=vN(gN(this)));var j=this;return this.a.then(function(){var B=j.ma().o(function(ye){throw ca(o),g(ye),ye});return p(),B}).then(function(){if(K0(f),!T){var B=wf(j.s,j.g,j.b,u,f,null,w,j.c,void 0,j.i,N,j.f);XC(B,o)}}).o(function(B){throw B.code=="auth/network-request-failed"&&(j.a=null),B})};function gN(o){return o.l||(o.C=o.c?Bu(o.c,y_(o.b)):null,o.l=new vi(o.g,kt(o.i),o.C),o.f&&Ku(o.l,o.f)),o.l}e.Nb=function(o,u,f,p){this.a||(this.a=vN(gN(this)));var g=this;return this.a.then(function(){K0(u);var w=wf(g.s,g.g,g.b,o,u,tf(),f,g.c,void 0,g.i,p,g.f);XC(w)}).o(function(w){throw w.code=="auth/network-request-failed"&&(g.a=null),w})},e.ma=function(){var o=this;return mN(this).then(function(){return o.v.rb}).o(function(){throw o.a=null,new R("network-request-failed")})},e.$b=function(){return!0};function wf(o,u,f,p,g,w,T,N,j,B,ye,Ge){return o=new g_(o,u,f,p,g,Ge),o.l=w,o.g=T,o.i=N,o.b=F(j||null),o.f=B,o.yb(ye).toString()}function zB(o){if(!o.v)throw Error("IfcHandler must be initialized!");UB(o.v,function(u){var f={};if(u&&u.authEvent){var p=!1;for(u=Vk(u.authEvent),f=0;f<o.h.length;f++)p=o.h[f](u)||p;return f={},f.status=p?"ACK":"ERROR",ce(f)}return f.status="ERROR",ce(f)})}function qB(o){var u={type:"webStorageSupport"};return mN(o).then(function(){return FB(o.v,u)}).then(function(f){if(f&&f.length&&typeof f[0].webStorageSupport<"u")return f[0].webStorageSupport;throw Error()})}e.Ea=function(o){this.h.push(o)},e.Sa=function(o){rr(this.h,function(u){return u==o})};function yN(o){if(this.a=o||ue.INTERNAL.reactNative&&ue.INTERNAL.reactNative.AsyncStorage,!this.a)throw new R("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}e=yN.prototype,e.get=function(o){return ce(this.a.getItem(o)).then(function(u){return u&&zu(u)})},e.set=function(o,u){return ce(this.a.setItem(o,rf(u)))},e.U=function(o){return ce(this.a.removeItem(o))},e.ca=function(){},e.ia=function(){};function _N(o){this.b=o,this.a={},this.f=O(this.c,this)}var wN=[];function WB(){var o=di()?self:null;if(Ue(wN,function(f){f.b==o&&(u=f)}),!u){var u=new _N(o);wN.push(u)}return u}_N.prototype.c=function(o){var u=o.data.eventType,f=o.data.eventId,p=this.a[u];if(p&&0<p.length){o.ports[0].postMessage({status:"ack",eventId:f,eventType:u,response:null});var g=[];Ue(p,function(w){g.push(ce().then(function(){return w(o.origin,o.data.data)}))}),IC(g).then(function(w){var T=[];Ue(w,function(N){T.push({fulfilled:N.Pb,value:N.value,reason:N.reason?N.reason.message:void 0})}),Ue(T,function(N){for(var j in N)typeof N[j]>"u"&&delete N[j]}),o.ports[0].postMessage({status:"done",eventId:f,eventType:u,response:T})})}};function EN(o,u,f){D(o.a)&&o.b.addEventListener("message",o.f),typeof o.a[u]>"u"&&(o.a[u]=[]),o.a[u].push(f)}function bN(o){this.a=o}bN.prototype.postMessage=function(o,u){this.a.postMessage(o,u)};function TN(o){this.c=o,this.b=!1,this.a=[]}function IN(o,u,f,p){var g,w=f||{},T,N,j,B=null;if(o.b)return ht(Error("connection_unavailable"));var ye=p?800:50,Ge=typeof MessageChannel<"u"?new MessageChannel:null;return new Re(function(je,sn){Ge?(g=Math.floor(Math.random()*Math.pow(10,20)).toString(),Ge.port1.start(),N=setTimeout(function(){sn(Error("unsupported_event"))},ye),T=function(go){go.data.eventId===g&&(go.data.status==="ack"?(clearTimeout(N),j=setTimeout(function(){sn(Error("timeout"))},3e3)):go.data.status==="done"?(clearTimeout(j),typeof go.data.response<"u"?je(go.data.response):sn(Error("unknown_error"))):(clearTimeout(N),clearTimeout(j),sn(Error("invalid_response"))))},B={messageChannel:Ge,onMessage:T},o.a.push(B),Ge.port1.addEventListener("message",T),o.c.postMessage({eventType:u,eventId:g,data:w},[Ge.port2])):sn(Error("connection_unavailable"))}).then(function(je){return __(o,B),je}).o(function(je){throw __(o,B),je})}function __(o,u){if(u){var f=u.messageChannel,p=u.onMessage;f&&(f.port1.removeEventListener("message",p),f.port1.close()),rr(o.a,function(g){return g==u})}}TN.prototype.close=function(){for(;0<this.a.length;)__(this,this.a[0]);this.b=!0};function SN(){if(!b_())throw new R("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=c.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var o=this;di()&&self?(this.v=WB(),EN(this.v,"keyChanged",function(u,f){return NN(o).then(function(p){return 0<p.length&&Ue(o.a,function(g){g(p)}),{keyProcessed:fi(p,f.key)}})}),EN(this.v,"ping",function(){return ce(["keyChanged"])})):sV().then(function(u){(o.h=u)&&(o.g=new TN(new bN(u)),IN(o.g,"ping",null,!0).then(function(f){f[0].fulfilled&&fi(f[0].value,"keyChanged")&&(o.s=!0)}).o(function(){}))})}var w_;function HB(o){return new Re(function(u,f){var p=o.m.deleteDatabase("firebaseLocalStorageDb");p.onsuccess=function(){u()},p.onerror=function(g){f(Error(g.target.error))}})}function CN(o){return new Re(function(u,f){var p=o.m.open("firebaseLocalStorageDb",1);p.onerror=function(g){try{g.preventDefault()}catch{}f(Error(g.target.error))},p.onupgradeneeded=function(g){g=g.target.result;try{g.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(w){f(w)}},p.onsuccess=function(g){g=g.target.result,g.objectStoreNames.contains("firebaseLocalStorage")?u(g):HB(o).then(function(){return CN(o)}).then(function(w){u(w)}).o(function(w){f(w)})}})}function E_(o){return o.i||(o.i=CN(o)),o.i}function jp(o,u){function f(g,w){E_(o).then(u).then(g).o(function(T){if(3<++p)w(T);else return E_(o).then(function(N){return N.close(),o.i=void 0,f(g,w)}).o(function(N){w(N)})})}var p=0;return new Re(f)}function b_(){try{return!!c.indexedDB}catch{return!1}}function Ef(o){return o.objectStore("firebaseLocalStorage")}function bf(o,u){return o.transaction(["firebaseLocalStorage"],u?"readwrite":"readonly")}function Gu(o){return new Re(function(u,f){o.onsuccess=function(p){p&&p.target?u(p.target.result):u()},o.onerror=function(p){f(p.target.error)}})}e=SN.prototype,e.set=function(o,u){var f=this,p=!1;return jp(this,function(g){return g=Ef(bf(g,!0)),Gu(g.get(o))}).then(function(g){return jp(f,function(w){if(w=Ef(bf(w,!0)),g)return g.value=u,Gu(w.put(g));f.b++,p=!0;var T={};return T.fbase_key=o,T.value=u,Gu(w.add(T))})}).then(function(){return f.c[o]=u,kN(f,o)}).oa(function(){p&&f.b--})};function kN(o,u){return o.g&&o.h&&oV()===o.h?IN(o.g,"keyChanged",{key:u},o.s).then(function(){}).o(function(){}):ce()}e.get=function(o){return jp(this,function(u){return Gu(Ef(bf(u,!1)).get(o))}).then(function(u){return u&&u.value})},e.U=function(o){var u=this,f=!1;return jp(this,function(p){return f=!0,u.b++,Gu(Ef(bf(p,!0)).delete(o))}).then(function(){return delete u.c[o],kN(u,o)}).oa(function(){f&&u.b--})};function NN(o){return E_(o).then(function(u){var f=Ef(bf(u,!1));return f.getAll?Gu(f.getAll()):new Re(function(p,g){var w=[],T=f.openCursor();T.onsuccess=function(N){(N=N.target.result)?(w.push(N.value),N.continue()):p(w)},T.onerror=function(N){g(N.target.error)}})}).then(function(u){var f={},p=[];if(o.b==0){for(p=0;p<u.length;p++)f[u[p].fbase_key]=u[p].value;p=JC(o.c,f),o.c=f}return p})}e.ca=function(o){this.a.length==0&&KB(this),this.a.push(o)},e.ia=function(o){rr(this.a,function(u){return u==o}),this.a.length==0&&RN(this)};function KB(o){function u(){o.f=setTimeout(function(){o.l=NN(o).then(function(f){0<f.length&&Ue(o.a,function(p){p(f)})}).then(function(){u()}).o(function(f){f.message!="STOP_EVENT"&&u()})},800)}RN(o),u()}function RN(o){o.l&&o.l.cancel("STOP_EVENT"),o.f&&(clearTimeout(o.f),o.f=null)}function AN(o){var u=this,f=null;this.a=[],this.type="indexedDB",this.c=o,this.b=ce().then(function(){if(b_()){var p=ha(),g="__sak"+p;return w_||(w_=new SN),f=w_,f.set(g,p).then(function(){return f.get(g)}).then(function(w){if(w!==p)throw Error("indexedDB not supported!");return f.U(g)}).then(function(){return f}).o(function(){return u.c})}return u.c}).then(function(p){return u.type=p.type,p.ca(function(g){Ue(u.a,function(w){w(g)})}),p})}e=AN.prototype,e.get=function(o){return this.b.then(function(u){return u.get(o)})},e.set=function(o,u){return this.b.then(function(f){return f.set(o,u)})},e.U=function(o){return this.b.then(function(u){return u.U(o)})},e.ca=function(o){this.a.push(o)},e.ia=function(o){rr(this.a,function(u){return u==o})};function Tf(){this.a={},this.type="inMemory"}e=Tf.prototype,e.get=function(o){return ce(this.a[o])},e.set=function(o,u){return this.a[o]=u,ce()},e.U=function(o){return delete this.a[o],ce()},e.ca=function(){},e.ia=function(){};function Vp(){if(!GB())throw Fi()=="Node"?new R("internal-error","The LocalStorage compatibility library was not found."):new R("web-storage-unsupported");this.a=PN()||ue.INTERNAL.node.localStorage,this.type="localStorage"}function PN(){try{var o=c.localStorage,u=ha();return o&&(o.setItem(u,"1"),o.removeItem(u)),o}catch{return null}}function GB(){var o=Fi()=="Node";if(o=PN()||o&&ue.INTERNAL.node&&ue.INTERNAL.node.localStorage,!o)return!1;try{return o.setItem("__sak","1"),o.removeItem("__sak"),!0}catch{return!1}}e=Vp.prototype,e.get=function(o){var u=this;return ce().then(function(){var f=u.a.getItem(o);return zu(f)})},e.set=function(o,u){var f=this;return ce().then(function(){var p=rf(u);p===null?f.U(o):f.a.setItem(o,p)})},e.U=function(o){var u=this;return ce().then(function(){u.a.removeItem(o)})},e.ca=function(o){c.window&&Br(c.window,"storage",o)},e.ia=function(o){c.window&&Er(c.window,"storage",o)};function T_(){this.type="nullStorage"}e=T_.prototype,e.get=function(){return ce(null)},e.set=function(){return ce()},e.U=function(){return ce()},e.ca=function(){},e.ia=function(){};function I_(){if(!QB())throw Fi()=="Node"?new R("internal-error","The SessionStorage compatibility library was not found."):new R("web-storage-unsupported");this.a=xN()||ue.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function xN(){try{var o=c.sessionStorage,u=ha();return o&&(o.setItem(u,"1"),o.removeItem(u)),o}catch{return null}}function QB(){var o=Fi()=="Node";if(o=xN()||o&&ue.INTERNAL.node&&ue.INTERNAL.node.sessionStorage,!o)return!1;try{return o.setItem("__sak","1"),o.removeItem("__sak"),!0}catch{return!1}}e=I_.prototype,e.get=function(o){var u=this;return ce().then(function(){var f=u.a.getItem(o);return zu(f)})},e.set=function(o,u){var f=this;return ce().then(function(){var p=rf(u);p===null?f.U(o):f.a.setItem(o,p)})},e.U=function(o){var u=this;return ce().then(function(){u.a.removeItem(o)})},e.ca=function(){},e.ia=function(){};function YB(){var o={};o.Browser=XB,o.Node=JB,o.ReactNative=ZB,o.Worker=e$,this.a=o[Fi()]}var S_,XB={F:Vp,bb:I_},JB={F:Vp,bb:I_},ZB={F:yN,bb:T_},e$={F:Vp,bb:T_},Qu={rd:"local",NONE:"none",td:"session"};function t$(o){var u=new R("invalid-persistence-type"),f=new R("unsupported-persistence-type");e:{for(p in Qu)if(Qu[p]==o){var p=!0;break e}p=!1}if(!p||typeof o!="string")throw u;switch(Fi()){case"ReactNative":if(o==="session")throw f;break;case"Node":if(o!=="none")throw f;break;case"Worker":if(o==="session"||!b_()&&o!=="none")throw f;break;default:if(!S0()&&o!=="none")throw f}}function ON(){var o=!!(!ok(vn())&&T0()),u=nf(),f=S0();this.m=o,this.h=u,this.l=f,this.a={},S_||(S_=new YB),o=S_;try{this.g=!E0()&&ak()||!c.indexedDB?new o.a.F:new AN(di()?new Tf:new o.a.F)}catch{this.g=new Tf,this.h=!0}try{this.i=new o.a.bb}catch{this.i=new Tf}this.v=new Tf,this.f=O(this.Yb,this),this.b={}}var C_;function If(){return C_||(C_=new ON),C_}function wa(o,u){switch(u){case"session":return o.i;case"none":return o.v;default:return o.g}}function Yu(o,u){return"firebase:"+o.name+(u?":"+u:"")}function n$(o,u,f){var p=Yu(u,f),g=wa(o,u.F);return o.get(u,f).then(function(w){var T=null;try{T=zu(c.localStorage.getItem(p))}catch{}if(T&&!w)return c.localStorage.removeItem(p),o.set(u,T,f);T&&w&&g.type!="localStorage"&&c.localStorage.removeItem(p)})}e=ON.prototype,e.get=function(o,u){return wa(this,o.F).get(Yu(o,u))};function Xu(o,u,f){return f=Yu(u,f),u.F=="local"&&(o.b[f]=null),wa(o,u.F).U(f)}e.set=function(o,u,f){var p=Yu(o,f),g=this,w=wa(this,o.F);return w.set(p,u).then(function(){return w.get(p)}).then(function(T){o.F=="local"&&(g.b[p]=T)})},e.addListener=function(o,u,f){o=Yu(o,u),this.l&&(this.b[o]=c.localStorage.getItem(o)),D(this.a)&&(wa(this,"local").ca(this.f),this.h||(E0()||!ak())&&c.indexedDB||!this.l||r$(this)),this.a[o]||(this.a[o]=[]),this.a[o].push(f)},e.removeListener=function(o,u,f){o=Yu(o,u),this.a[o]&&(rr(this.a[o],function(p){return p==f}),this.a[o].length==0&&delete this.a[o]),D(this.a)&&(wa(this,"local").ia(this.f),k_(this))};function r$(o){k_(o),o.c=setInterval(function(){for(var u in o.a){var f=c.localStorage.getItem(u),p=o.b[u];f!=p&&(o.b[u]=f,f=new aa({type:"storage",key:u,target:window,oldValue:p,newValue:f,a:!0}),o.Yb(f))}},1e3)}function k_(o){o.c&&(clearInterval(o.c),o.c=null)}e.Yb=function(o){if(o&&o.g){var u=o.a.key;if(u==null)for(var f in this.a){var p=this.b[f];typeof p>"u"&&(p=null);var g=c.localStorage.getItem(f);g!==p&&(this.b[f]=g,this.mb(f))}else if(u.indexOf("firebase:")==0&&this.a[u]){if(typeof o.a.a<"u"?wa(this,"local").ia(this.f):k_(this),this.m){if(f=c.localStorage.getItem(u),p=o.a.newValue,p!==f)p!==null?c.localStorage.setItem(u,p):c.localStorage.removeItem(u);else if(this.b[u]===p&&typeof o.a.a>"u")return}var w=this;f=function(){(typeof o.a.a<"u"||w.b[u]!==c.localStorage.getItem(u))&&(w.b[u]=c.localStorage.getItem(u),w.mb(u))},hi&&Wo&&Wo==10&&c.localStorage.getItem(u)!==o.a.newValue&&o.a.newValue!==o.a.oldValue?setTimeout(f,10):f()}}else Ue(o,O(this.mb,this))},e.mb=function(o){this.a[o]&&Ue(this.a[o],function(u){u()})};function i$(o){this.a=o,this.b=If()}var N_={name:"authEvent",F:"local"};function o$(o){return o.b.get(N_,o.a).then(function(u){return Vk(u)})}function s$(){this.a=If()}function a$(){this.b=-1}function Bp(o,u){this.b=DN,this.f=c.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=o,this.h=u,this.l=c.Int32Array?new Int32Array(64):Array(64),$p===void 0&&(c.Int32Array?$p=new Int32Array(FN):$p=FN),this.reset()}var $p;M(Bp,a$);for(var DN=64,u$=DN-1,LN=[],R_=0;R_<u$;R_++)LN[R_]=0;var MN=ea(128,LN);Bp.prototype.reset=function(){this.g=this.c=0,this.a=c.Int32Array?new Int32Array(this.h):jr(this.h)};function A_(o){for(var u=o.f,f=o.l,p=0,g=0;g<u.length;)f[p++]=u[g]<<24|u[g+1]<<16|u[g+2]<<8|u[g+3],g=4*p;for(u=16;64>u;u++){g=f[u-15]|0,p=f[u-2]|0;var w=(f[u-16]|0)+((g>>>7|g<<25)^(g>>>18|g<<14)^g>>>3)|0,T=(f[u-7]|0)+((p>>>17|p<<15)^(p>>>19|p<<13)^p>>>10)|0;f[u]=w+T|0}p=o.a[0]|0,g=o.a[1]|0;var N=o.a[2]|0,j=o.a[3]|0,B=o.a[4]|0,ye=o.a[5]|0,Ge=o.a[6]|0;for(w=o.a[7]|0,u=0;64>u;u++){var je=((p>>>2|p<<30)^(p>>>13|p<<19)^(p>>>22|p<<10))+(p&g^p&N^g&N)|0;T=B&ye^~B&Ge,w=w+((B>>>6|B<<26)^(B>>>11|B<<21)^(B>>>25|B<<7))|0,T=T+($p[u]|0)|0,T=w+(T+(f[u]|0)|0)|0,w=Ge,Ge=ye,ye=B,B=j+T|0,j=N,N=g,g=p,p=T+je|0}o.a[0]=o.a[0]+p|0,o.a[1]=o.a[1]+g|0,o.a[2]=o.a[2]+N|0,o.a[3]=o.a[3]+j|0,o.a[4]=o.a[4]+B|0,o.a[5]=o.a[5]+ye|0,o.a[6]=o.a[6]+Ge|0,o.a[7]=o.a[7]+w|0}function P_(o,u,f){f===void 0&&(f=u.length);var p=0,g=o.c;if(typeof u=="string")for(;p<f;)o.f[g++]=u.charCodeAt(p++),g==o.b&&(A_(o),g=0);else if(_(u))for(;p<f;){var w=u[p++];if(!(typeof w=="number"&&0<=w&&255>=w&&w==(w|0)))throw Error("message must be a byte array");o.f[g++]=w,g==o.b&&(A_(o),g=0)}else throw Error("message must be string or array");o.c=g,o.g+=f}var FN=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function UN(){Bp.call(this,8,l$)}M(UN,Bp);var l$=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function jN(o,u,f,p,g,w){this.v=o,this.i=u,this.l=f,this.m=p||null,this.u=g||null,this.s=w,this.h=u+":"+f,this.C=new s$,this.g=new i$(this.h),this.f=null,this.b=[],this.a=this.c=null}function zp(o){return new R("invalid-cordova-configuration",o)}e=jN.prototype,e.ma=function(){return this.Ia?this.Ia:this.Ia=nV().then(function(){if(typeof dt("universalLinks.subscribe",c)!="function")throw zp("cordova-universal-links-plugin-fix is not installed");if(typeof dt("BuildInfo.packageName",c)>"u")throw zp("cordova-plugin-buildinfo is not installed");if(typeof dt("cordova.plugins.browsertab.openUrl",c)!="function")throw zp("cordova-plugin-browsertab is not installed");if(typeof dt("cordova.InAppBrowser.open",c)!="function")throw zp("cordova-plugin-inappbrowser is not installed")},function(){throw new R("cordova-not-ready")})};function c$(){for(var o=20,u=[];0<o;)u.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),o--;return u.join("")}function f$(o){var u=new UN;P_(u,o),o=[];var f=8*u.g;56>u.c?P_(u,MN,56-u.c):P_(u,MN,u.b-(u.c-56));for(var p=63;56<=p;p--)u.f[p]=f&255,f/=256;for(A_(u),p=f=0;p<u.i;p++)for(var g=24;0<=g;g-=8)o[f++]=u.a[p]>>g&255;return bV(o)}e.Ob=function(o,u){return u(new R("operation-not-supported-in-this-environment")),ce()},e.Mb=function(){return ht(new R("operation-not-supported-in-this-environment"))},e.$b=function(){return!1},e.Xb=function(){return!0},e.Tb=function(){return!0},e.Nb=function(o,u,f,p){if(this.c)return ht(new R("redirect-operation-pending"));var g=this,w=c.document,T=null,N=null,j=null,B=null;return this.c=ce().then(function(){return K0(u),BN(g)}).then(function(){return h$(g,o,u,f,p)}).then(function(){return new Re(function(ye,Ge){N=function(){var je=dt("cordova.plugins.browsertab.close",c);return ye(),typeof je=="function"&&je(),g.a&&typeof g.a.close=="function"&&(g.a.close(),g.a=null),!1},g.Ea(N),j=function(){T||(T=Fu(2e3).then(function(){Ge(new R("redirect-cancelled-by-user"))}))},B=function(){C0()&&j()},w.addEventListener("resume",j,!1),vn().toLowerCase().match(/android/)||w.addEventListener("visibilitychange",B,!1)}).o(function(ye){return x_(g).then(function(){throw ye})})}).oa(function(){j&&w.removeEventListener("resume",j,!1),B&&w.removeEventListener("visibilitychange",B,!1),T&&T.cancel(),N&&g.Sa(N),g.c=null})};function h$(o,u,f,p,g){var w=c$(),T=new pi(u,p,null,w,new R("no-auth-event"),null,g),N=dt("BuildInfo.packageName",c);if(typeof N!="string")throw new R("invalid-cordova-configuration");var j=dt("BuildInfo.displayName",c),B={};if(vn().toLowerCase().match(/iphone|ipad|ipod/))B.ibi=N;else if(vn().toLowerCase().match(/android/))B.apn=N;else return ht(new R("operation-not-supported-in-this-environment"));j&&(B.appDisplayName=j),w=f$(w),B.sessionId=w;var ye=wf(o.v,o.i,o.l,u,f,null,p,o.m,B,o.u,g,o.s);return o.ma().then(function(){var Ge=o.h;return o.C.a.set(N_,T.w(),Ge)}).then(function(){var Ge=dt("cordova.plugins.browsertab.isAvailable",c);if(typeof Ge!="function")throw new R("invalid-cordova-configuration");var je=null;Ge(function(sn){if(sn){if(je=dt("cordova.plugins.browsertab.openUrl",c),typeof je!="function")throw new R("invalid-cordova-configuration");je(ye)}else{if(je=dt("cordova.InAppBrowser.open",c),typeof je!="function")throw new R("invalid-cordova-configuration");sn=vn(),o.a=je(ye,sn.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||sn.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function VN(o,u){for(var f=0;f<o.b.length;f++)try{o.b[f](u)}catch{}}function BN(o){return o.f||(o.f=o.ma().then(function(){return new Re(function(u){function f(p){return u(p),o.Sa(f),!1}o.Ea(f),d$(o)})})),o.f}function x_(o){var u=null;return o$(o.g).then(function(f){return u=f,f=o.g,Xu(f.b,N_,f.a)}).then(function(){return u})}function d$(o){function u(T){p=!0,g&&g.cancel(),x_(o).then(function(N){var j=f;if(N&&T&&T.url){var B=null;j=xk(T.url),j.indexOf("/__/auth/callback")!=-1&&(B=or(j),B=zu($r(B,"firebaseError")||null),B=(B=typeof B=="object"?ze(B):null)?new pi(N.c,N.b,null,null,B,null,N.T()):new pi(N.c,N.b,j,N.f,null,null,N.T())),j=B||f}VN(o,j)})}var f=new pi("unknown",null,null,null,new R("no-auth-event")),p=!1,g=Fu(500).then(function(){return x_(o).then(function(){p||VN(o,f)})}),w=c.handleOpenURL;c.handleOpenURL=function(T){if(T.toLowerCase().indexOf(dt("BuildInfo.packageName",c).toLowerCase()+"://")==0&&u({url:T}),typeof w=="function")try{w(T)}catch(N){console.error(N)}},G0||(G0=new AV),PV(u)}e.Ea=function(o){this.b.push(o),BN(this).o(function(u){u.code==="auth/invalid-cordova-configuration"&&(u=new pi("unknown",null,null,null,new R("no-auth-event")),o(u))})},e.Sa=function(o){rr(this.b,function(u){return u==o})};function p$(o){this.a=o,this.b=If()}var O_={name:"pendingRedirect",F:"session"};function v$(o){return o.b.set(O_,"pending",o.a)}function D_(o){return Xu(o.b,O_,o.a)}function m$(o){return o.b.get(O_,o.a).then(function(u){return u=="pending"})}function qp(o,u,f,p){this.i={},this.u=0,this.D=o,this.v=u,this.m=f,this.J=p,this.h=[],this.f=!1,this.l=O(this.s,this),this.b=new Wp,this.C=new ZN,this.g=new p$(QN(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=$N(this.D,this.v,this.m,qe,this.J)}function $N(o,u,f,p,g){var w=ue.SDK_VERSION||null;return b0()?new jN(o,u,f,w,p,g):new pN(o,u,f,w,p,g)}qp.prototype.reset=function(){this.f=!1,this.a.Sa(this.l),this.a=$N(this.D,this.v,this.m,null,this.J),this.i={}};function zN(o){o.f||(o.f=!0,o.a.Ea(o.l));var u=o.a;return o.a.ma().o(function(f){throw o.a==u&&o.reset(),f})}function qN(o){o.a.Xb()&&zN(o).o(function(u){var f=new pi("unknown",null,null,null,new R("operation-not-supported-in-this-environment"));M_(u)&&o.s(f)}),o.a.Tb()||XN(o.b)}function L_(o,u){fi(o.h,u)||o.h.push(u),o.f||m$(o.g).then(function(f){f?D_(o.g).then(function(){zN(o).o(function(p){var g=new pi("unknown",null,null,null,new R("operation-not-supported-in-this-environment"));M_(p)&&o.s(g)})}):qN(o)}).o(function(){qN(o)})}function WN(o,u){rr(o.h,function(f){return f==u})}qp.prototype.s=function(o){if(!o)throw new R("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),o&&o.getUid()&&this.i.hasOwnProperty(o.getUid()))return!1;for(var u=!1,f=0;f<this.h.length;f++){var p=this.h[f];if(p.Fb(o.c,o.b)){(u=this.c[o.c])&&(u.h(o,p),o&&(o.f||o.b)&&(this.i[o.getUid()]=!0,this.u=Date.now())),u=!0;break}}return XN(this.b),u};var g$=new Go(2e3,1e4),y$=new Go(3e4,6e4);qp.prototype.qa=function(){return this.b.qa()};function HN(o,u,f,p,g,w,T){return o.a.Mb(u,f,p,function(){o.f||(o.f=!0,o.a.Ea(o.l))},function(){o.reset()},g,w,T)}function M_(o){return!!(o&&o.code=="auth/cordova-not-ready")}function KN(o,u,f,p,g){var w;return v$(o.g).then(function(){return o.a.Nb(u,f,p,g).o(function(T){if(M_(T))throw new R("operation-not-supported-in-this-environment");return w=T,D_(o.g).then(function(){throw w})}).then(function(){return o.a.$b()?new Re(function(){}):D_(o.g).then(function(){return o.qa()}).then(function(){}).o(function(){})})})}function GN(o,u,f,p,g){return o.a.Ob(p,function(w){u.na(f,null,w,g)},g$.get())}var F_={};function QN(o,u,f){return o=o+":"+u,f&&(o=o+":"+f.url),o}function YN(o,u,f,p){var g=QN(u,f,p);return F_[g]||(F_[g]=new qp(o,u,f,p)),F_[g]}function Wp(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}Wp.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Wp.prototype.h=function(o,u){if(o){this.reset(),this.g=!0;var f=o.c,p=o.b,g=o.a&&o.a.code=="auth/web-storage-unsupported",w=o.a&&o.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!g&&!w),f!="unknown"||g||w?o.a?(Ea(this,!0,null,o.a),ce()):u.Fa(f,p)?_$(this,o,u):ht(new R("invalid-auth-event")):(Ea(this,!1,null,null),ce())}else ht(new R("invalid-auth-event"))};function XN(o){o.g||(o.g=!0,Ea(o,!1,null,null))}function Hp(o){o.g&&!o.i&&Ea(o,!1,null,null)}function _$(o,u,f){f=f.Fa(u.c,u.b);var p=u.g,g=u.f,w=u.i,T=u.T(),N=!!u.c.match(/Redirect$/);f(p,g,T,w).then(function(j){Ea(o,N,j,null)}).o(function(j){Ea(o,N,null,j)})}function w$(o,u){if(o.b=function(){return ht(u)},o.c.length)for(var f=0;f<o.c.length;f++)o.c[f](u)}function JN(o,u){if(o.b=function(){return ce(u)},o.f.length)for(var f=0;f<o.f.length;f++)o.f[f](u)}function Ea(o,u,f,p){u?p?w$(o,p):JN(o,f):JN(o,{user:null}),o.f=[],o.c=[]}Wp.prototype.qa=function(){var o=this;return new Re(function(u,f){o.b?o.b().then(u,f):(o.f.push(u),o.c.push(f),E$(o))})};function E$(o){var u=new R("timeout");o.a&&o.a.cancel(),o.a=Fu(y$.get()).then(function(){o.b||(o.g=!0,Ea(o,!0,null,u))})}function ZN(){}ZN.prototype.h=function(o,u){if(o){var f=o.c,p=o.b;o.a?(u.na(o.c,null,o.a,o.b),ce()):u.Fa(f,p)?b$(o,u):ht(new R("invalid-auth-event"))}else ht(new R("invalid-auth-event"))};function b$(o,u){var f=o.b,p=o.c;u.Fa(p,f)(o.g,o.f,o.T(),o.i).then(function(g){u.na(p,g,null,f)}).o(function(g){u.na(p,null,g,f)})}function eR(){this.ib=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.ib},set:function(o){this.ib=o},enumerable:!1})}function U_(o,u){this.a=u,ne(this,"verificationId",o)}U_.prototype.confirm=function(o){return o=jk(this.verificationId,o),this.a(o)};function j_(o,u,f,p){return new vo(o).fb(u,f).then(function(g){return new U_(g,p)})}function T$(o){var u=Ik(o);if(!(u&&u.exp&&u.auth_time&&u.iat))throw new R("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Vn(this,{token:o,expirationTime:of(1e3*u.exp),authTime:of(1e3*u.auth_time),issuedAtTime:of(1e3*u.iat),signInProvider:u.firebase&&u.firebase.sign_in_provider?u.firebase.sign_in_provider:null,signInSecondFactor:u.firebase&&u.firebase.sign_in_second_factor?u.firebase.sign_in_second_factor:null,claims:u})}function V_(o,u,f){var p=u&&u[nR];if(!p)throw new R("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=o,this.f=F(u),this.g=f,this.c=new Tp(null,p),this.b=[];var g=this;Ue(u[tR]||[],function(w){(w=x0(w))&&g.b.push(w)}),ne(this,"auth",this.a),ne(this,"session",this.c),ne(this,"hints",this.b)}var tR="mfaInfo",nR="mfaPendingCredential";V_.prototype.Rc=function(o){var u=this;return o.sb(this.a.a,this.c).then(function(f){var p=F(u.f);return delete p[tR],delete p[nR],Y(p,f),u.g(p)})};function B_(o,u,f,p){R.call(this,"multi-factor-auth-required",p,u),this.b=new V_(o,u,f),ne(this,"resolver",this.b)}M(B_,R);function rR(o,u,f){if(o&&S(o.serverResponse)&&o.code==="auth/multi-factor-auth-required")try{return new B_(u,o.serverResponse,f,o.message)}catch{}return null}function iR(){}iR.prototype.sb=function(o,u,f){return u.type==lf?I$(this,o,u,f):S$(this,o,u)};function I$(o,u,f,p){return f.Ha().then(function(g){return g={idToken:g},typeof p<"u"&&(g.displayName=p),Y(g,{phoneVerificationInfo:cf(o.a)}),Ae(u,dB,g)})}function S$(o,u,f){return f.Ha().then(function(p){return p={mfaPendingCredential:p},Y(p,{phoneVerificationInfo:cf(o.a)}),Ae(u,pB,p)})}function $_(o){ne(this,"factorId",o.fa),this.a=o}M($_,iR);function oR(o){if($_.call(this,o),this.a.fa!=vo.PROVIDER_ID)throw new R("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}M(oR,$_);function Ju(o,u){ir.call(this,o);for(var f in u)this[f]=u[f]}M(Ju,ir);function z_(o,u){this.a=o,this.b=[],this.c=O(this.yc,this),Br(this.a,"userReloaded",this.c);var f=[];u&&u.multiFactor&&u.multiFactor.enrolledFactors&&Ue(u.multiFactor.enrolledFactors,function(p){var g=null,w={};if(p){p.uid&&(w[D0]=p.uid),p.displayName&&(w[lk]=p.displayName),p.enrollmentTime&&(w[O0]=new Date(p.enrollmentTime).toISOString()),p.phoneNumber&&(w[L0]=p.phoneNumber);try{g=new sf(w)}catch{}p=g}else p=null;p&&f.push(p)}),Kp(this,f)}function C$(o){var u=[];return Ue(o.mfaInfo||[],function(f){(f=x0(f))&&u.push(f)}),u}e=z_.prototype,e.yc=function(o){Kp(this,C$(o.hd))};function Kp(o,u){o.b=u,ne(o,"enrolledFactors",u)}e.Rb=function(){return this.a.I().then(function(o){return new Tp(o,null)})},e.fc=function(o,u){var f=this,p=this.a.a;return this.Rb().then(function(g){return o.sb(p,g,u)}).then(function(g){return Vi(f.a,g),f.a.reload()})},e.bd=function(o){var u=this,f=typeof o=="string"?o:o.uid,p=this.a.a;return this.a.I().then(function(g){return Ae(p,DB,{idToken:g,mfaEnrollmentId:f})}).then(function(g){var w=Ky(u.b,function(T){return T.uid!=f});return Kp(u,w),Vi(u.a,g),u.a.reload().o(function(T){if(T.code!="auth/user-token-expired")throw T})})},e.w=function(){return{multiFactor:{enrolledFactors:Zs(this.b,function(o){return o.w()})}}};function q_(o,u,f){if(this.h=o,this.i=u,this.g=f,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}q_.prototype.start=function(){this.a=this.c,W_(this,!0)};function k$(o,u){return u?(o.a=o.c,o.g()):(u=o.a,o.a*=2,o.a>o.f&&(o.a=o.f),u)}function W_(o,u){o.stop(),o.b=Fu(k$(o,u)).then(function(){return iV()}).then(function(){return o.h()}).then(function(){W_(o,!0)}).o(function(f){o.i(f)&&W_(o,!1)})}q_.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function H_(o){this.f=o,this.b=this.a=null,this.c=Date.now()}H_.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}};function sR(o,u){typeof u>"u"&&(o.b?(u=o.b,u=u.a-u.g):u=0),o.c=Date.now()+1e3*u}function aR(o,u){o.b=Ep(u[mi]||""),o.a=u.refreshToken,u=u.expiresIn,sR(o,typeof u<"u"?Number(u):void 0)}function N$(o,u){o.b=u.b,o.a=u.a,o.c=u.c}function R$(o,u){return XV(o.f,u).then(function(f){return o.b=Ep(f.access_token),o.a=f.refresh_token,sR(o,f.expires_in),{accessToken:o.b.toString(),refreshToken:o.a}}).o(function(f){throw f.code=="auth/user-token-expired"&&(o.a=null),f})}H_.prototype.getToken=function(o){return o=!!o,this.b&&!this.a?ht(new R("user-token-expired")):o||!this.b||Date.now()>this.c-3e4?this.a?R$(this,{grant_type:"refresh_token",refresh_token:this.a}):ce(null):ce({accessToken:this.b.toString(),refreshToken:this.a})};function Gp(o,u){this.a=o||null,this.b=u||null,Vn(this,{lastSignInTime:of(u||null),creationTime:of(o||null)})}function A$(o){return new Gp(o.a,o.b)}Gp.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function P$(o,u,f,p,g,w){Vn(this,{uid:o,displayName:p||null,photoURL:g||null,email:f||null,phoneNumber:w||null,providerId:u})}function Tr(o,u,f){this.J=[],this.l=o.apiKey,this.m=o.appName,this.s=o.authDomain||null;var p=ue.SDK_VERSION?Bu(ue.SDK_VERSION):null;this.a=new vi(this.l,kt(qe),p),o.emulatorConfig&&Ku(this.a,o.emulatorConfig),this.b=new H_(this.a),J_(this,u[mi]),aR(this.b,u),ne(this,"refreshToken",this.b.a),lR(this,f||{}),jn.call(this),this.R=!1,this.s&&fa()&&(this.i=YN(this.s,this.l,this.m)),this.S=[],this.h=null,this.u=x$(this),this.aa=O(this.hb,this);var g=this;this.ya=null,this.Oa=function(w){g.wa(w.h)},this.ja=null,this.Aa=function(w){Ku(g.a,w.c)},this.X=null,this.$=[],this.Ba=function(w){Sf(g,w.f)},this.ba=null,this.O=new z_(this,f),ne(this,"multiFactor",this.O)}M(Tr,jn),Tr.prototype.wa=function(o){this.ya=o,tN(this.a,o)},Tr.prototype.la=function(){return this.ya};function K_(o,u){o.ja&&Er(o.ja,"languageCodeChanged",o.Oa),(o.ja=u)&&Br(u,"languageCodeChanged",o.Oa)}function G_(o,u){o.X&&Er(o.X,"emulatorConfigChanged",o.Aa),(o.X=u)&&Br(u,"emulatorConfigChanged",o.Aa)}function Sf(o,u){o.$=u,nN(o.a,ue.SDK_VERSION?Bu(ue.SDK_VERSION,o.$):null)}Tr.prototype.Ga=function(){return jr(this.$)};function Q_(o,u){o.ba&&Er(o.ba,"frameworkChanged",o.Ba),(o.ba=u)&&Br(u,"frameworkChanged",o.Ba)}Tr.prototype.hb=function(){this.u.b&&(this.u.stop(),this.u.start())};function Y_(o){try{return ue.app(o.m).auth()}catch{throw new R("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+o.m+"'!")}}function x$(o){return new q_(function(){return o.I(!0)},function(u){return!!(u&&u.code=="auth/network-request-failed")},function(){var u=o.b.c-Date.now()-3e5;return 0<u?u:0})}function uR(o){o.D||o.u.b||(o.u.start(),Er(o,"tokenChanged",o.aa),Br(o,"tokenChanged",o.aa))}function X_(o){Er(o,"tokenChanged",o.aa),o.u.stop()}function J_(o,u){o.za=u,ne(o,"_lat",u)}function O$(o,u){rr(o.S,function(f){return f==u})}function ba(o){for(var u=[],f=0;f<o.S.length;f++)u.push(o.S[f](o));return IC(u).then(function(){return o})}function Cf(o){o.i&&!o.R&&(o.R=!0,L_(o.i,o))}function lR(o,u){Vn(o,{uid:u.uid,displayName:u.displayName||null,photoURL:u.photoURL||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,isAnonymous:u.isAnonymous||!1,tenantId:u.tenantId||null,metadata:new Gp(u.createdAt,u.lastLoginAt),providerData:[]}),o.a.b=o.tenantId}ne(Tr.prototype,"providerId","firebase");function cR(){}function Z_(o){return ce().then(function(){if(o.D)throw new R("app-deleted")})}function ew(o){return Zs(o.providerData,function(u){return u.providerId})}function tw(o,u){u&&(fR(o,u.providerId),o.providerData.push(u))}function fR(o,u){rr(o.providerData,function(f){return f.providerId==u})}function Xo(o,u,f){(u!="uid"||f)&&o.hasOwnProperty(u)&&ne(o,u,f)}function Qp(o,u){o!=u&&(Vn(o,{uid:u.uid,displayName:u.displayName,photoURL:u.photoURL,email:u.email,emailVerified:u.emailVerified,phoneNumber:u.phoneNumber,isAnonymous:u.isAnonymous,tenantId:u.tenantId,providerData:[]}),u.metadata?ne(o,"metadata",A$(u.metadata)):ne(o,"metadata",new Gp),Ue(u.providerData,function(f){tw(o,f)}),N$(o.b,u.b),ne(o,"refreshToken",o.b.a),Kp(o.O,u.O.b))}e=Tr.prototype,e.reload=function(){var o=this;return Kt(this,Z_(this).then(function(){return nw(o).then(function(){return ba(o)}).then(cR)}))};function nw(o){return o.I().then(function(u){var f=o.isAnonymous;return D$(o,u).then(function(){return f||Xo(o,"isAnonymous",!1),u})})}e.oc=function(o){return this.I(o).then(function(u){return new T$(u)})},e.I=function(o){var u=this;return Kt(this,Z_(this).then(function(){return u.b.getToken(o)}).then(function(f){if(!f)throw new R("internal-error");return f.accessToken!=u.za&&(J_(u,f.accessToken),u.dispatchEvent(new Ju("tokenChanged"))),Xo(u,"refreshToken",f.refreshToken),f.accessToken}))};function Vi(o,u){u[mi]&&o.za!=u[mi]&&(aR(o.b,u),o.dispatchEvent(new Ju("tokenChanged")),J_(o,u[mi]),Xo(o,"refreshToken",o.b.a))}function D$(o,u){return Ae(o.a,vB,{idToken:u}).then(O(o.Kc,o))}e.Kc=function(o){if(o=o.users,!o||!o.length)throw new R("internal-error");o=o[0],lR(this,{uid:o.localId,displayName:o.displayName,photoURL:o.photoUrl,email:o.email,emailVerified:!!o.emailVerified,phoneNumber:o.phoneNumber,lastLoginAt:o.lastLoginAt,createdAt:o.createdAt,tenantId:o.tenantId});for(var u=L$(o),f=0;f<u.length;f++)tw(this,u[f]);Xo(this,"isAnonymous",!(this.email&&o.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new Ju("userReloaded",{hd:o}))};function L$(o){return(o=o.providerUserInfo)&&o.length?Zs(o,function(u){return new P$(u.rawId,u.providerId,u.email,u.displayName,u.photoUrl,u.phoneNumber)}):[]}e.Lc=function(o){return k0("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.tb(o)},e.tb=function(o){var u=this,f=null;return Kt(this,o.c(this.a,this.uid).then(function(p){return Vi(u,p),f=kf(u,p,"reauthenticate"),u.h=null,u.reload()}).then(function(){return f}),!0)};function Yp(o,u){return nw(o).then(function(){if(fi(ew(o),u))return ba(o).then(function(){throw new R("provider-already-linked")})})}e.Cc=function(o){return k0("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.qb(o)},e.qb=function(o){var u=this,f=null;return Kt(this,Yp(this,o.providerId).then(function(){return u.I()}).then(function(p){return o.b(u.a,p)}).then(function(p){return f=kf(u,p,"link"),hR(u,p)}).then(function(){return f}))},e.Dc=function(o,u){var f=this;return Kt(this,Yp(this,"phone").then(function(){return j_(Y_(f),o,u,O(f.qb,f))}))},e.Mc=function(o,u){var f=this;return Kt(this,ce().then(function(){return j_(Y_(f),o,u,O(f.tb,f))}),!0)};function kf(o,u,f){var p=H0(u);return u=Ck(u),Ui({user:o,credential:p,additionalUserInfo:u,operationType:f})}function hR(o,u){return Vi(o,u),o.reload().then(function(){return o})}e.Bb=function(o){var u=this;return Kt(this,this.I().then(function(f){return u.a.Bb(f,o)}).then(function(f){return Vi(u,f),u.reload()}))},e.ed=function(o){var u=this;return Kt(this,this.I().then(function(f){return o.b(u.a,f)}).then(function(f){return Vi(u,f),u.reload()}))},e.Cb=function(o){var u=this;return Kt(this,this.I().then(function(f){return u.a.Cb(f,o)}).then(function(f){return Vi(u,f),u.reload()}))},e.Db=function(o){if(o.displayName===void 0&&o.photoURL===void 0)return Z_(this);var u=this;return Kt(this,this.I().then(function(f){return u.a.Db(f,{displayName:o.displayName,photoUrl:o.photoURL})}).then(function(f){return Vi(u,f),Xo(u,"displayName",f.displayName||null),Xo(u,"photoURL",f.photoUrl||null),Ue(u.providerData,function(p){p.providerId==="password"&&(ne(p,"displayName",u.displayName),ne(p,"photoURL",u.photoURL))}),ba(u)}).then(cR))},e.cd=function(o){var u=this;return Kt(this,nw(this).then(function(f){return fi(ew(u),o)?iB(u.a,f,[o]).then(function(p){var g={};return Ue(p.providerUserInfo||[],function(w){g[w.providerId]=!0}),Ue(ew(u),function(w){g[w]||fR(u,w)}),g[vo.PROVIDER_ID]||ne(u,"phoneNumber",null),ba(u)}):ba(u).then(function(){throw new R("no-such-provider")})}))},e.delete=function(){var o=this;return Kt(this,this.I().then(function(u){return Ae(o.a,lB,{idToken:u})}).then(function(){o.dispatchEvent(new Ju("userDeleted"))})).then(function(){for(var u=0;u<o.J.length;u++)o.J[u].cancel("app-deleted");K_(o,null),G_(o,null),Q_(o,null),o.J=[],o.D=!0,X_(o),ne(o,"refreshToken",null),o.i&&WN(o.i,o)})},e.Fb=function(o,u){return!!(o=="linkViaPopup"&&(this.g||null)==u&&this.f||o=="reauthViaPopup"&&(this.g||null)==u&&this.f||o=="linkViaRedirect"&&(this.ga||null)==u||o=="reauthViaRedirect"&&(this.ga||null)==u)},e.na=function(o,u,f,p){o!="linkViaPopup"&&o!="reauthViaPopup"||p!=(this.g||null)||(f&&this.C?this.C(f):u&&!f&&this.f&&this.f(u),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(o,u){return o=="linkViaPopup"&&u==(this.g||null)?O(this.Kb,this):o=="reauthViaPopup"&&u==(this.g||null)?O(this.Lb,this):o=="linkViaRedirect"&&(this.ga||null)==u?O(this.Kb,this):o=="reauthViaRedirect"&&(this.ga||null)==u?O(this.Lb,this):null},e.Ec=function(o){var u=this;return dR(this,"linkViaPopup",o,function(){return Yp(u,o.providerId).then(function(){return ba(u)})},!1)},e.Nc=function(o){return dR(this,"reauthViaPopup",o,function(){return ce()},!0)};function dR(o,u,f,p,g){if(!fa())return ht(new R("operation-not-supported-in-this-environment"));if(o.h&&!g)return ht(o.h);var w=V0(f.providerId),T=ha(o.uid+":::"),N=null;(!nf()||T0())&&o.s&&f.isOAuthProvider&&(N=wf(o.s,o.l,o.m,u,f,null,T,ue.SDK_VERSION||null,null,null,o.tenantId));var j=ek(N,w&&w.ua,w&&w.ta);return p=p().then(function(){if(vR(o),!g)return o.I().then(function(){})}).then(function(){return HN(o.i,j,u,f,T,!!N,o.tenantId)}).then(function(){return new Re(function(B,ye){o.na(u,null,new R("cancelled-popup-request"),o.g||null),o.f=B,o.C=ye,o.g=T,o.c=GN(o.i,o,u,j,T)})}).then(function(B){return j&&ca(j),B?Ui(B):null}).o(function(B){throw j&&ca(j),B}),Kt(o,p,g)}e.Fc=function(o){var u=this;return pR(this,"linkViaRedirect",o,function(){return Yp(u,o.providerId)},!1)},e.Oc=function(o){return pR(this,"reauthViaRedirect",o,function(){return ce()},!0)};function pR(o,u,f,p,g){if(!fa())return ht(new R("operation-not-supported-in-this-environment"));if(o.h&&!g)return ht(o.h);var w=null,T=ha(o.uid+":::");return p=p().then(function(){if(vR(o),!g)return o.I().then(function(){})}).then(function(){return o.ga=T,ba(o)}).then(function(N){return o.ha&&(N=o.ha,N=N.b.set(rw,o.w(),N.a)),N}).then(function(){return KN(o.i,u,f,T,o.tenantId)}).o(function(N){if(w=N,o.ha)return gR(o.ha);throw w}).then(function(){if(w)throw w}),Kt(o,p,g)}function vR(o){if(!o.i||!o.R)throw o.i&&!o.R?new R("internal-error"):new R("auth-domain-config-required")}e.Kb=function(o,u,f,p){var g=this;this.c&&(this.c.cancel(),this.c=null);var w=null;return f=this.I().then(function(T){return d_(g.a,{requestUri:o,postBody:p,sessionId:u,idToken:T})}).then(function(T){return w=kf(g,T,"link"),hR(g,T)}).then(function(){return w}),Kt(this,f)},e.Lb=function(o,u,f,p){var g=this;this.c&&(this.c.cancel(),this.c=null);var w=null,T=ce().then(function(){return Wu(p_(g.a,{requestUri:o,sessionId:u,postBody:p,tenantId:f}),g.uid)}).then(function(N){return w=kf(g,N,"reauthenticate"),Vi(g,N),g.h=null,g.reload()}).then(function(){return w});return Kt(this,T,!0)},e.ub=function(o){var u=this,f=null;return Kt(this,this.I().then(function(p){return f=p,typeof o>"u"||D(o)?{}:_p(new yp(o))}).then(function(p){return u.a.ub(f,p)}).then(function(p){if(u.email!=p)return u.reload()}).then(function(){}))},e.Eb=function(o,u){var f=this,p=null;return Kt(this,this.I().then(function(g){return p=g,typeof u>"u"||D(u)?{}:_p(new yp(u))}).then(function(g){return f.a.Eb(p,o,g)}).then(function(g){if(f.email!=g)return f.reload()}).then(function(){}))};function Kt(o,u,f){var p=M$(o,u,f);return o.J.push(p),p.oa(function(){Di(o.J,p)}),p.o(function(g){var w=null;throw g&&g.code==="auth/multi-factor-auth-required"&&(w=rR(g.w(),Y_(o),O(o.jc,o))),w||g})}e.jc=function(o){var u=null,f=this;return o=Wu(ce(o),f.uid).then(function(p){return u=kf(f,p,"reauthenticate"),Vi(f,p),f.h=null,f.reload()}).then(function(){return u}),Kt(this,o,!0)};function M$(o,u,f){return o.h&&!f?(u.cancel(),ht(o.h)):u.o(function(p){throw!p||p.code!="auth/user-disabled"&&p.code!="auth/user-token-expired"||(o.h||o.dispatchEvent(new Ju("userInvalidated")),o.h=p),p})}e.toJSON=function(){return this.w()},e.w=function(){var o={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&Y(o,this.metadata.w()),Ue(this.providerData,function(u){o.providerData.push(aV(u))}),Y(o,this.O.w()),o};function mR(o){if(!o.apiKey)return null;var u={apiKey:o.apiKey,authDomain:o.authDomain,appName:o.appName,emulatorConfig:o.emulatorConfig},f={};if(o.stsTokenManager&&o.stsTokenManager.accessToken){f[mi]=o.stsTokenManager.accessToken,f.refreshToken=o.stsTokenManager.refreshToken||null;var p=o.stsTokenManager.expirationTime;p&&(f.expiresIn=(p-Date.now())/1e3)}else return null;var g=new Tr(u,f,o);return o.providerData&&Ue(o.providerData,function(w){w&&tw(g,Ui(w))}),o.redirectEventId&&(g.ga=o.redirectEventId),g}function F$(o,u,f,p){var g=new Tr(o,u);return f&&(g.ha=f),p&&Sf(g,p),g.reload().then(function(){return g})}function U$(o,u,f,p){var g=o.b,w={};return w[mi]=g.b&&g.b.toString(),w.refreshToken=g.a,u=new Tr(u||{apiKey:o.l,authDomain:o.s,appName:o.m},w),f&&(u.ha=f),p&&Sf(u,p),Qp(u,o),u}function j$(o){this.a=o,this.b=If()}var rw={name:"redirectUser",F:"session"};function gR(o){return Xu(o.b,rw,o.a)}function V$(o,u){return o.b.get(rw,o.a).then(function(f){return f&&u&&(f.authDomain=u),mR(f||{})})}function iw(o){this.a=o,this.b=If(),this.c=null,this.f=B$(this),this.b.addListener(Bi("local"),this.a,O(this.g,this))}iw.prototype.g=function(){var o=this,u=Bi("local");Zu(this,function(){return ce().then(function(){return o.c&&o.c.F!="local"?o.b.get(u,o.a):null}).then(function(f){if(f)return ow(o,"local").then(function(){o.c=u})})})};function ow(o,u){var f=[],p;for(p in Qu)Qu[p]!==u&&f.push(Xu(o.b,Bi(Qu[p]),o.a));return f.push(Xu(o.b,sw,o.a)),Aj(f)}function B$(o){var u=Bi("local"),f=Bi("session"),p=Bi("none");return n$(o.b,u,o.a).then(function(){return o.b.get(f,o.a)}).then(function(g){return g?f:o.b.get(p,o.a).then(function(w){return w?p:o.b.get(u,o.a).then(function(T){return T?u:o.b.get(sw,o.a).then(function(N){return N?Bi(N):u})})})}).then(function(g){return o.c=g,ow(o,g.F)}).o(function(){o.c||(o.c=u)})}var sw={name:"persistence",F:"session"};function Bi(o){return{name:"authUser",F:o}}iw.prototype.xb=function(o){var u=null,f=this;return t$(o),Zu(this,function(){return o!=f.c.F?f.b.get(f.c,f.a).then(function(p){return u=p,ow(f,o)}).then(function(){if(f.c=Bi(o),u)return f.b.set(f.c,u,f.a)}):ce()})};function $$(o){return Zu(o,function(){return o.b.set(sw,o.c.F,o.a)})}function yR(o,u){return Zu(o,function(){return o.b.set(o.c,u.w(),o.a)})}function _R(o){return Zu(o,function(){return Xu(o.b,o.c,o.a)})}function wR(o,u,f){return Zu(o,function(){return o.b.get(o.c,o.a).then(function(p){return p&&u&&(p.authDomain=u),p&&f&&(p.emulatorConfig=f),mR(p||{})})})}function Zu(o,u){return o.f=o.f.then(u,u),o.f}function gi(o){if(this.l=!1,ne(this,"settings",new eR),ne(this,"app",o),Je(this).options&&Je(this).options.apiKey)o=ue.SDK_VERSION?Bu(ue.SDK_VERSION):null,this.a=new vi(Je(this).options&&Je(this).options.apiKey,kt(qe),o);else throw new R("invalid-api-key");this.R=[],this.s=[],this.O=[],this.hb=ue.INTERNAL.createSubscribe(O(this.zc,this)),this.X=void 0,this.bc=ue.INTERNAL.createSubscribe(O(this.Ac,this)),el(this,null),this.i=new iw(Je(this).options.apiKey+":"+Je(this).name),this.D=new j$(Je(this).options.apiKey+":"+Je(this).name),this.$=Rt(this,G$(this)),this.h=Rt(this,Q$(this)),this.ba=!1,this.ja=O(this.Zc,this),this.Ba=O(this.da,this),this.ya=O(this.mc,this),this.za=O(this.wc,this),this.Aa=O(this.xc,this),this.b=null,W$(this),this.INTERNAL={},this.INTERNAL.delete=O(this.delete,this),this.INTERNAL.logFramework=O(this.Gc,this),this.u=0,jn.call(this),q$(this),this.J=[],this.P=null}M(gi,jn);function ER(o){ir.call(this,"languageCodeChanged"),this.h=o}M(ER,ir);function bR(o){ir.call(this,"emulatorConfigChanged"),this.c=o}M(bR,ir);function TR(o){ir.call(this,"frameworkChanged"),this.f=o}M(TR,ir),e=gi.prototype,e.xb=function(o){return o=this.i.xb(o),Rt(this,o)},e.wa=function(o){this.aa===o||this.l||(this.aa=o,tN(this.a,this.aa),this.dispatchEvent(new ER(this.la())))},e.la=function(){return this.aa},e.fd=function(){var o=c.navigator;this.wa(o&&(o.languages&&o.languages[0]||o.language||o.userLanguage)||null)},e.gd=function(o,u){if(!this.P){if(!/^https?:\/\//.test(o))throw new R("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");u=u?!!u.disableWarnings:!1,z$(u),this.P={url:o,ec:u},this.settings.ib=!0,Ku(this.a,this.P),this.dispatchEvent(new bR(this.P))}};function z$(o){typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),c.document&&!o&&vp().then(function(){var u=c.document.createElement("div");u.innerText="Running in emulator mode. Do not use with production credentials.",u.style.position="fixed",u.style.width="100%",u.style.backgroundColor="#ffffff",u.style.border=".1em solid #000000",u.style.color="#ff0000",u.style.bottom="0px",u.style.left="0px",u.style.margin="0px",u.style.zIndex=1e4,u.style.textAlign="center",u.classList.add("firebase-emulator-warning"),c.document.body.appendChild(u)})}e.Gc=function(o){this.J.push(o),nN(this.a,ue.SDK_VERSION?Bu(ue.SDK_VERSION,this.J):null),this.dispatchEvent(new TR(this.J))},e.Ga=function(){return jr(this.J)},e.yb=function(o){this.S===o||this.l||(this.S=o,this.a.b=this.S)},e.T=function(){return this.S};function q$(o){Object.defineProperty(o,"lc",{get:function(){return this.la()},set:function(u){this.wa(u)},enumerable:!1}),o.aa=null,Object.defineProperty(o,"ti",{get:function(){return this.T()},set:function(u){this.yb(u)},enumerable:!1}),o.S=null,Object.defineProperty(o,"emulatorConfig",{get:function(){if(this.P){var u=or(this.P.url);u=Ui({protocol:u.c,host:u.a,port:u.g,options:Ui({disableWarnings:this.P.ec})})}else u=null;return u},enumerable:!1})}e.toJSON=function(){return{apiKey:Je(this).options.apiKey,authDomain:Je(this).options.authDomain,appName:Je(this).name,currentUser:Ee(this)&&Ee(this).w()}};function aw(o){return o.Oa||ht(new R("auth-domain-config-required"))}function W$(o){var u=Je(o).options.authDomain,f=Je(o).options.apiKey;u&&fa()&&(o.Oa=o.$.then(function(){if(!o.l){if(o.b=YN(u,f,Je(o).name,o.P),L_(o.b,o),Ee(o)&&Cf(Ee(o)),o.m){Cf(o.m);var p=o.m;p.wa(o.la()),K_(p,o),p=o.m,Sf(p,o.J),Q_(p,o),p=o.m,Ku(p.a,o.P),G_(p,o),o.m=null}return o.b}}))}e.Fb=function(o,u){switch(o){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==u&&!!this.f;default:return!1}},e.na=function(o,u,f,p){o=="signInViaPopup"&&this.g==p&&(f&&this.C?this.C(f):u&&!f&&this.f&&this.f(u),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(o,u){return o=="signInViaRedirect"||o=="signInViaPopup"&&this.g==u&&this.f?O(this.ic,this):null},e.ic=function(o,u,f,p){var g=this,w={requestUri:o,postBody:p,sessionId:u,tenantId:f};return this.c&&(this.c.cancel(),this.c=null),g.$.then(function(){return Ta(g,h_(g.a,w))})},e.Xc=function(o){if(!fa())return ht(new R("operation-not-supported-in-this-environment"));var u=this,f=V0(o.providerId),p=ha(),g=null;(!nf()||T0())&&Je(this).options.authDomain&&o.isOAuthProvider&&(g=wf(Je(this).options.authDomain,Je(this).options.apiKey,Je(this).name,"signInViaPopup",o,null,p,ue.SDK_VERSION||null,null,null,this.T(),this.P));var w=ek(g,f&&f.ua,f&&f.ta);return f=aw(this).then(function(T){return HN(T,w,"signInViaPopup",o,p,!!g,u.T())}).then(function(){return new Re(function(T,N){u.na("signInViaPopup",null,new R("cancelled-popup-request"),u.g),u.f=T,u.C=N,u.g=p,u.c=GN(u.b,u,"signInViaPopup",w,p)})}).then(function(T){return w&&ca(w),T?Ui(T):null}).o(function(T){throw w&&ca(w),T}),Rt(this,f)},e.Yc=function(o){if(!fa())return ht(new R("operation-not-supported-in-this-environment"));var u=this,f=aw(this).then(function(){return $$(u.i)}).then(function(){return KN(u.b,"signInViaRedirect",o,void 0,u.T())});return Rt(this,f)};function IR(o){if(!fa())return ht(new R("operation-not-supported-in-this-environment"));var u=aw(o).then(function(){return o.b.qa()}).then(function(f){return f?Ui(f):null});return Rt(o,u)}e.qa=function(){var o=this;return IR(this).then(function(u){return o.b&&Hp(o.b.b),u}).o(function(u){throw o.b&&Hp(o.b.b),u})},e.dd=function(o){if(!o)return ht(new R("null-user"));if(this.S!=o.tenantId)return ht(new R("tenant-id-mismatch"));var u=this,f={};f.apiKey=Je(this).options.apiKey,f.authDomain=Je(this).options.authDomain,f.appName=Je(this).name;var p=U$(o,f,u.D,u.Ga());return Rt(this,this.h.then(function(){if(Je(u).options.apiKey!=o.l)return p.reload()}).then(function(){return Ee(u)&&o.uid==Ee(u).uid?(Qp(Ee(u),o),u.da(o)):(el(u,p),Cf(p),u.da(p))}).then(function(){Nf(u)}))};function H$(o,u){var f={};return f.apiKey=Je(o).options.apiKey,f.authDomain=Je(o).options.authDomain,f.appName=Je(o).name,o.P&&(f.emulatorConfig=o.P),o.$.then(function(){return F$(f,u,o.D,o.Ga())}).then(function(p){return Ee(o)&&p.uid==Ee(o).uid?(Qp(Ee(o),p),o.da(p)):(el(o,p),Cf(p),o.da(p))}).then(function(){Nf(o)})}function el(o,u){Ee(o)&&(O$(Ee(o),o.Ba),Er(Ee(o),"tokenChanged",o.ya),Er(Ee(o),"userDeleted",o.za),Er(Ee(o),"userInvalidated",o.Aa),X_(Ee(o))),u&&(u.S.push(o.Ba),Br(u,"tokenChanged",o.ya),Br(u,"userDeleted",o.za),Br(u,"userInvalidated",o.Aa),0<o.u&&uR(u)),ne(o,"currentUser",u),u&&(u.wa(o.la()),K_(u,o),Sf(u,o.J),Q_(u,o),Ku(u.a,o.P),G_(u,o))}e.Ab=function(){var o=this,u=this.h.then(function(){return o.b&&Hp(o.b.b),Ee(o)?(el(o,null),_R(o.i).then(function(){Nf(o)})):ce()});return Rt(this,u)};function K$(o){var u=V$(o.D,Je(o).options.authDomain).then(function(f){return(o.m=f)&&(f.ha=o.D),gR(o.D)});return Rt(o,u)}function G$(o){var u=Je(o).options.authDomain,f=K$(o).then(function(){return wR(o.i,u,o.P)}).then(function(p){return p?(p.ha=o.D,o.m&&(o.m.ga||null)==(p.ga||null)?p:p.reload().then(function(){return yR(o.i,p).then(function(){return p})}).o(function(g){return g.code=="auth/network-request-failed"?p:_R(o.i)})):null}).then(function(p){el(o,p||null)});return Rt(o,f)}function Q$(o){return o.$.then(function(){return IR(o)}).o(function(){}).then(function(){if(!o.l)return o.ja()}).o(function(){}).then(function(){if(!o.l){o.ba=!0;var u=o.i;u.b.addListener(Bi("local"),u.a,o.ja)}})}e.Zc=function(){var o=this;return wR(this.i,Je(this).options.authDomain).then(function(u){if(!o.l){var f;if(f=Ee(o)&&u){f=Ee(o).uid;var p=u.uid;f=f==null||f===""||p===void 0||p===null||p===""?!1:f==p}if(f)return Qp(Ee(o),u),Ee(o).I();(Ee(o)||u)&&(el(o,u),u&&(Cf(u),u.ha=o.D),o.b&&L_(o.b,o),Nf(o))}})},e.da=function(o){return yR(this.i,o)},e.mc=function(){Nf(this),this.da(Ee(this))},e.wc=function(){this.Ab()},e.xc=function(){this.Ab()};function Ta(o,u){var f=null,p=null;return Rt(o,u.then(function(g){return f=H0(g),p=Ck(g),H$(o,g)},function(g){var w=null;throw g&&g.code==="auth/multi-factor-auth-required"&&(w=rR(g.w(),o,O(o.kc,o))),w||g}).then(function(){return Ui({user:Ee(o),credential:f,additionalUserInfo:p,operationType:"signIn"})}))}e.kc=function(o){var u=this;return this.h.then(function(){return Ta(u,ce(o))})},e.zc=function(o){var u=this;this.addAuthTokenListener(function(){o.next(Ee(u))})},e.Ac=function(o){var u=this;Y$(this,function(){o.next(Ee(u))})},e.Ic=function(o,u,f){var p=this;return this.ba&&Promise.resolve().then(function(){typeof o=="function"?o(Ee(p)):typeof o.next=="function"&&o.next(Ee(p))}),this.hb(o,u,f)},e.Hc=function(o,u,f){var p=this;return this.ba&&Promise.resolve().then(function(){p.X=p.getUid(),typeof o=="function"?o(Ee(p)):typeof o.next=="function"&&o.next(Ee(p))}),this.bc(o,u,f)},e.nc=function(o){var u=this,f=this.h.then(function(){return Ee(u)?Ee(u).I(o).then(function(p){return{accessToken:p}}):null});return Rt(this,f)},e.Tc=function(o){var u=this;return this.h.then(function(){return Ta(u,Ae(u.a,AB,{token:o}))}).then(function(f){var p=f.user;return Xo(p,"isAnonymous",!1),u.da(p),f})},e.Uc=function(o,u){var f=this;return this.h.then(function(){return Ta(f,Ae(f.a,fN,{email:o,password:u}))})},e.dc=function(o,u){var f=this;return this.h.then(function(){return Ta(f,Ae(f.a,aB,{email:o,password:u}))})},e.$a=function(o){var u=this;return this.h.then(function(){return Ta(u,o.ka(u.a))})},e.Sc=function(o){return k0("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.$a(o)},e.zb=function(){var o=this;return this.h.then(function(){var u=Ee(o);if(u&&u.isAnonymous){var f=Ui({providerId:null,isNewUser:!1});return Ui({user:u,credential:null,additionalUserInfo:f,operationType:"signIn"})}return Ta(o,o.a.zb()).then(function(p){var g=p.user;return Xo(g,"isAnonymous",!0),o.da(g),p})})};function Je(o){return o.app}function Ee(o){return o.currentUser}e.getUid=function(){return Ee(this)&&Ee(this).uid||null};function Xp(o){return Ee(o)&&Ee(o)._lat||null}function Nf(o){if(o.ba){for(var u=0;u<o.s.length;u++)o.s[u]&&o.s[u](Xp(o));if(o.X!==o.getUid()&&o.O.length)for(o.X=o.getUid(),u=0;u<o.O.length;u++)o.O[u]&&o.O[u](Xp(o))}}e.cc=function(o){this.addAuthTokenListener(o),this.u++,0<this.u&&Ee(this)&&uR(Ee(this))},e.Pc=function(o){var u=this;Ue(this.s,function(f){f==o&&u.u--}),0>this.u&&(this.u=0),this.u==0&&Ee(this)&&X_(Ee(this)),this.removeAuthTokenListener(o)},e.addAuthTokenListener=function(o){var u=this;this.s.push(o),Rt(this,this.h.then(function(){u.l||fi(u.s,o)&&o(Xp(u))}))},e.removeAuthTokenListener=function(o){rr(this.s,function(u){return u==o})};function Y$(o,u){o.O.push(u),Rt(o,o.h.then(function(){!o.l&&fi(o.O,u)&&o.X!==o.getUid()&&(o.X=o.getUid(),u(Xp(o)))}))}e.delete=function(){this.l=!0;for(var o=0;o<this.R.length;o++)this.R[o].cancel("app-deleted");return this.R=[],this.i&&(o=this.i,o.b.removeListener(Bi("local"),o.a,this.ja)),this.b&&(WN(this.b,this),Hp(this.b.b)),Promise.resolve()};function Rt(o,u){return o.R.push(u),u.oa(function(){Di(o.R,u)}),u}e.hc=function(o){return Rt(this,JV(this.a,o))},e.Bc=function(o){return!!W0(o)},e.wb=function(o,u){var f=this;return Rt(this,ce().then(function(){var p=new yp(u);if(!p.c)throw new R("argument-error",U0+" must be true when sending sign in link to email");return _p(p)}).then(function(p){return f.a.wb(o,p)}).then(function(){}))},e.jd=function(o){return this.Ra(o).then(function(u){return u.data.email})},e.nb=function(o,u){return Rt(this,this.a.nb(o,u).then(function(){}))},e.Ra=function(o){return Rt(this,this.a.Ra(o).then(function(u){return new lV(u)}))},e.jb=function(o){return Rt(this,this.a.jb(o).then(function(){}))},e.vb=function(o,u){var f=this;return Rt(this,ce().then(function(){return typeof u>"u"||D(u)?{}:_p(new yp(u))}).then(function(p){return f.a.vb(o,p)}).then(function(){}))},e.Wc=function(o,u){return Rt(this,j_(this,o,u,O(this.$a,this)))},e.Vc=function(o,u){var f=this;return Rt(this,ce().then(function(){var p=u||tf(),g=Uk(o,p);if(p=W0(p),!p)throw new R("argument-error","Invalid email link!");if(p.tenantId!==f.T())throw new R("tenant-id-mismatch");return f.$a(g)}))};function Rf(){}Rf.prototype.render=function(){},Rf.prototype.reset=function(){},Rf.prototype.getResponse=function(){},Rf.prototype.execute=function(){};function tl(){this.a={},this.b=1e12}var uw=null;tl.prototype.render=function(o,u){return this.a[this.b.toString()]=new Jp(o,u),this.b++},tl.prototype.reset=function(o){var u=lw(this,o);o=SR(o),u&&o&&(u.delete(),delete this.a[o])},tl.prototype.getResponse=function(o){return(o=lw(this,o))?o.getResponse():null},tl.prototype.execute=function(o){(o=lw(this,o))&&o.execute()};function lw(o,u){return(u=SR(u))&&o.a[u]||null}function SR(o){return(o=typeof o>"u"?1e12:o)?o.toString():null}function Jp(o,u){this.g=!1,this.c=u,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=Gc(o);var f=this;this.i=function(){f.execute()},this.h?this.execute():Br(this.f,"click",this.i)}Jp.prototype.getResponse=function(){return cw(this),this.b},Jp.prototype.execute=function(){cw(this);var o=this;this.a||(this.a=setTimeout(function(){o.b=rV();var u=o.c.callback,f=o.c["expired-callback"];if(u)try{u(o.b)}catch{}o.a=setTimeout(function(){if(o.a=null,o.b=null,f)try{f()}catch{}o.h&&o.execute()},6e4)},500))},Jp.prototype.delete=function(){cw(this),this.g=!0,clearTimeout(this.a),this.a=null,Er(this.f,"click",this.i)};function cw(o){if(o.g)throw Error("reCAPTCHA mock was already deleted!")}function fw(){}ne(fw,"FACTOR_ID","phone");function hw(){}hw.prototype.g=function(){return uw||(uw=new tl),ce(uw)},hw.prototype.c=function(){};var dw=null;function pw(){this.b=c.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var X$=new ae(re,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),J$=new Go(3e4,6e4);pw.prototype.g=function(o){var u=this;return new Re(function(f,p){var g=setTimeout(function(){p(new R("network-request-failed"))},J$.get());if(!c.grecaptcha||o!==u.f&&!u.b){c[u.a]=function(){if(c.grecaptcha){u.f=o;var T=c.grecaptcha.render;c.grecaptcha.render=function(N,j){return N=T(N,j),u.b++,N},clearTimeout(g),f(c.grecaptcha)}else clearTimeout(g),p(new R("internal-error"));delete c[u.a]};var w=rn(X$,{onload:u.a,hl:o||""});ce(o_(w)).o(function(){clearTimeout(g),p(new R("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(g),f(c.grecaptcha)})},pw.prototype.c=function(){this.b--};var vw=null;function mw(o,u,f,p,g,w,T){if(ne(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.v=u,this.g=null,T?(dw||(dw=new hw),T=dw):(vw||(vw=new pw),T=vw),this.m=T,this.a=f||{theme:"light",type:"image"},this.h=[],this.a[NR])throw new R("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[Z$]==="invisible",!c.document)throw new R("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Gc(u)||!this.i&&Gc(u).hasChildNodes())throw new R("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new vi(o,w||null,g||null),this.u=p||function(){return null};var N=this;this.l=[];var j=this.a[CR];this.a[CR]=function(ye){if(RR(N,ye),typeof j=="function")j(ye);else if(typeof j=="string"){var Ge=dt(j,c);typeof Ge=="function"&&Ge(ye)}};var B=this.a[kR];this.a[kR]=function(){if(RR(N,null),typeof B=="function")B();else if(typeof B=="string"){var ye=dt(B,c);typeof ye=="function"&&ye()}}}var CR="callback",kR="expired-callback",NR="sitekey",Z$="size";function RR(o,u){for(var f=0;f<o.l.length;f++)try{o.l[f](u)}catch{}}function ez(o,u){rr(o.l,function(f){return f==u})}function gw(o,u){return o.h.push(u),u.oa(function(){Di(o.h,u)}),u}e=mw.prototype,e.Ia=function(){var o=this;return this.f?this.f:this.f=gw(this,ce().then(function(){if(mp()&&!di())return vp();throw new R("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return o.m.g(o.u())}).then(function(u){return o.g=u,Ae(o.s,EB,{})}).then(function(u){o.a[NR]=u.recaptchaSiteKey}).o(function(u){throw o.f=null,u}))},e.render=function(){Zp(this);var o=this;return gw(this,this.Ia().then(function(){if(o.c===null){var u=o.v;if(!o.i){var f=Gc(u);u=Cj("DIV"),f.appendChild(u)}o.c=o.g.render(u,o.a)}return o.c}))},e.verify=function(){Zp(this);var o=this;return gw(this,this.render().then(function(u){return new Re(function(f){var p=o.g.getResponse(u);if(p)f(p);else{var g=function(w){w&&(ez(o,g),f(w))};o.l.push(g),o.i&&o.g.execute(o.c)}})}))},e.reset=function(){Zp(this),this.c!==null&&this.g.reset(this.c)};function Zp(o){if(o.D)throw new R("internal-error","RecaptchaVerifier instance has been destroyed.")}e.clear=function(){Zp(this),this.D=!0,this.m.c();for(var o=0;o<this.h.length;o++)this.h[o].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){o=Gc(this.v);for(var u;u=o.firstChild;)o.removeChild(u)}};function yw(o,u,f){var p=!1;try{this.b=f||ue.app()}catch{throw new R("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)f=this.b.options.apiKey;else throw new R("invalid-api-key");var g=this,w=null;try{w=this.b.auth().Ga()}catch{}try{p=this.b.auth().settings.appVerificationDisabledForTesting}catch{}w=ue.SDK_VERSION?Bu(ue.SDK_VERSION,w):null,mw.call(this,f,o,u,function(){try{var T=g.b.auth().la()}catch{T=null}return T},w,kt(qe),p)}M(yw,mw);function AR(o,u,f,p){e:{f=Array.prototype.slice.call(f);for(var g=0,w=!1,T=0;T<u.length;T++)if(u[T].optional)w=!0;else{if(w)throw new R("internal-error","Argument validator encountered a required argument after an optional argument.");g++}if(w=u.length,f.length<g||w<f.length)p="Expected "+(g==w?g==1?"1 argument":g+" arguments":g+"-"+w+" arguments")+" but got "+f.length+".";else{for(g=0;g<f.length;g++)if(w=u[g].optional&&f[g]===void 0,!u[g].M(f[g])&&!w){if(u=u[g],0>g||g>=PR.length)throw new R("internal-error","Argument validator received an unsupported number of arguments.");f=PR[g],p=(p?"":f+" argument ")+(u.name?'"'+u.name+'" ':"")+"must be "+u.K+".";break e}p=null}}if(p)throw new R("argument-error",o+" failed: "+p)}var PR="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function ee(o,u){return{name:o||"",K:"a valid string",optional:!!u,M:function(f){return typeof f=="string"}}}function _w(o,u){return{name:o||"",K:"a boolean",optional:!!u,M:function(f){return typeof f=="boolean"}}}function Vt(o,u){return{name:o||"",K:"a valid object",optional:!!u,M:S}}function nl(o,u){return{name:o||"",K:"a function",optional:!!u,M:function(f){return typeof f=="function"}}}function $i(o,u){return{name:o||"",K:"null",optional:!!u,M:function(f){return f===null}}}function tz(){return{name:"",K:"an HTML element",optional:!1,M:function(o){return!!(o&&o instanceof Element)}}}function nz(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(o){return!!(o&&o instanceof gi)}}}function rz(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(o){return!!(o&&o instanceof ue.app.App)}}}function Jo(o){return{name:o?o+"Credential":"credential",K:o?"a valid "+o+" credential":"a valid credential",optional:!1,M:function(u){if(!u)return!1;var f=!o||u.providerId===o;return!(!u.ka||!f)}}}function xR(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(o){return o?!!o.sb:!1}}}function rl(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(o){return!!(o&&o.providerId&&o.hasOwnProperty&&o.hasOwnProperty("isOAuthProvider"))}}}function ww(o,u){return S(o)&&typeof o.type=="string"&&o.type===u&&typeof o.Ha=="function"}function OR(o){return S(o)&&typeof o.uid=="string"}function ev(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(o){return!(!o||typeof o.type!="string"||typeof o.verify!="function")}}}function Dt(o,u,f,p){return{name:f||"",K:o.K+" or "+u.K,optional:!!p,M:function(g){return o.M(g)||u.M(g)}}}function Et(o,u){for(var f in u){var p=u[f].name;o[p]=LR(p,o[f],u[f].j)}}function DR(o,u){for(var f in u){var p=u[f].name;p!==f&&Object.defineProperty(o,p,{get:V(function(g){return this[g]},f),set:V(function(g,w,T,N){AR(g,[T],[N],!0),this[w]=N},p,f,u[f].kb),enumerable:!0})}}function Lt(o,u,f,p){o[u]=LR(u,f,p)}function LR(o,u,f){function p(){var T=Array.prototype.slice.call(arguments);return AR(g,f,T),u.apply(this,T)}if(!f)return u;var g=iz(o),w;for(w in u)p[w]=u[w];for(w in u.prototype)p.prototype[w]=u.prototype[w];return p}function iz(o){return o=o.split("."),o[o.length-1]}Et(gi.prototype,{jb:{name:"applyActionCode",j:[ee("code")]},Ra:{name:"checkActionCode",j:[ee("code")]},nb:{name:"confirmPasswordReset",j:[ee("code"),ee("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[ee("email"),ee("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[ee("email")]},qa:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[ee("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Dt(Vt(),nl(),"nextOrObserver"),nl("opt_error",!0),nl("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Dt(Vt(),nl(),"nextOrObserver"),nl("opt_error",!0),nl("opt_completed",!0)]},vb:{name:"sendPasswordResetEmail",j:[ee("email"),Dt(Vt("opt_actionCodeSettings",!0),$i(null,!0),"opt_actionCodeSettings",!0)]},wb:{name:"sendSignInLinkToEmail",j:[ee("email"),Vt("actionCodeSettings")]},xb:{name:"setPersistence",j:[ee("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Jo()]},zb:{name:"signInAnonymously",j:[]},$a:{name:"signInWithCredential",j:[Jo()]},Tc:{name:"signInWithCustomToken",j:[ee("token")]},Uc:{name:"signInWithEmailAndPassword",j:[ee("email"),ee("password")]},Vc:{name:"signInWithEmailLink",j:[ee("email"),ee("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[ee("phoneNumber"),ev()]},Xc:{name:"signInWithPopup",j:[rl()]},Yc:{name:"signInWithRedirect",j:[rl()]},dd:{name:"updateCurrentUser",j:[Dt(function(o){return{name:"user",K:"an instance of Firebase User",optional:!!o,M:function(u){return!!(u&&u instanceof Tr)}}}(),$i(),"user")]},Ab:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[ee(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[ee("url"),Vt("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[ee("code")]}}),DR(gi.prototype,{lc:{name:"languageCode",kb:Dt(ee(),$i(),"languageCode")},ti:{name:"tenantId",kb:Dt(ee(),$i(),"tenantId")}}),gi.Persistence=Qu,gi.Persistence.LOCAL="local",gi.Persistence.SESSION="session",gi.Persistence.NONE="none",Et(Tr.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[_w("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[_w("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Jo()]},qb:{name:"linkWithCredential",j:[Jo()]},Dc:{name:"linkWithPhoneNumber",j:[ee("phoneNumber"),ev()]},Ec:{name:"linkWithPopup",j:[rl()]},Fc:{name:"linkWithRedirect",j:[rl()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Jo()]},tb:{name:"reauthenticateWithCredential",j:[Jo()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[ee("phoneNumber"),ev()]},Nc:{name:"reauthenticateWithPopup",j:[rl()]},Oc:{name:"reauthenticateWithRedirect",j:[rl()]},reload:{name:"reload",j:[]},ub:{name:"sendEmailVerification",j:[Dt(Vt("opt_actionCodeSettings",!0),$i(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[ee(null,!0)]},cd:{name:"unlink",j:[ee("provider")]},Bb:{name:"updateEmail",j:[ee("email")]},Cb:{name:"updatePassword",j:[ee("password")]},ed:{name:"updatePhoneNumber",j:[Jo("phone")]},Db:{name:"updateProfile",j:[Vt("profile")]},Eb:{name:"verifyBeforeUpdateEmail",j:[ee("email"),Dt(Vt("opt_actionCodeSettings",!0),$i(null,!0),"opt_actionCodeSettings",!0)]}}),Et(tl.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Et(Rf.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Et(Re.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),DR(eR.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",kb:_w("appVerificationDisabledForTesting")}}),Et(U_.prototype,{confirm:{name:"confirm",j:[ee("verificationCode")]}}),Lt(qu,"fromJSON",function(o){o=typeof o=="string"?JSON.parse(o):o;for(var u,f=[kV,NV,RV,CV],p=0;p<f.length;p++)if(u=f[p](o))return u;return null},[Dt(ee(),Vt(),"json")]),Lt(zr,"credential",function(o,u){return new Qo(o,u)},[ee("email"),ee("password")]),Et(Qo.prototype,{w:{name:"toJSON",j:[ee(null,!0)]}}),Et(va.prototype,{Ca:{name:"addScope",j:[ee("scope")]},Ka:{name:"setCustomParameters",j:[Vt("customOAuthParameters")]}}),Lt(va,"credential",Dk,[Dt(ee(),Vt(),"token")]),Lt(zr,"credentialWithLink",Uk,[ee("email"),ee("emailLink")]),Et(ma.prototype,{Ca:{name:"addScope",j:[ee("scope")]},Ka:{name:"setCustomParameters",j:[Vt("customOAuthParameters")]}}),Lt(ma,"credential",Lk,[Dt(ee(),Vt(),"token")]),Et(ga.prototype,{Ca:{name:"addScope",j:[ee("scope")]},Ka:{name:"setCustomParameters",j:[Vt("customOAuthParameters")]}}),Lt(ga,"credential",Mk,[Dt(ee(),Dt(Vt(),$i()),"idToken"),Dt(ee(),$i(),"accessToken",!0)]),Et(Hu.prototype,{Ka:{name:"setCustomParameters",j:[Vt("customOAuthParameters")]}}),Lt(Hu,"credential",Fk,[Dt(ee(),Vt(),"token"),ee("secret",!0)]),Et(br.prototype,{Ca:{name:"addScope",j:[ee("scope")]},credential:{name:"credential",j:[Dt(ee(),Dt(Vt(),$i()),"optionsOrIdToken"),Dt(ee(),$i(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Vt("customOAuthParameters")]}}),Et(po.prototype,{w:{name:"toJSON",j:[ee(null,!0)]}}),Et(da.prototype,{w:{name:"toJSON",j:[ee(null,!0)]}}),Lt(vo,"credential",jk,[ee("verificationId"),ee("verificationCode")]),Et(vo.prototype,{fb:{name:"verifyPhoneNumber",j:[Dt(ee(),function(o,u){return{name:o||"phoneInfoOptions",K:"valid phone info options",optional:!!u,M:function(f){return f?f.session&&f.phoneNumber?ww(f.session,lf)&&typeof f.phoneNumber=="string":f.session&&f.multiFactorHint?ww(f.session,Ip)&&OR(f.multiFactorHint):f.session&&f.multiFactorUid?ww(f.session,Ip)&&typeof f.multiFactorUid=="string":f.phoneNumber?typeof f.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),ev()]}}),Et(Yo.prototype,{w:{name:"toJSON",j:[ee(null,!0)]}}),Et(R.prototype,{toJSON:{name:"toJSON",j:[ee(null,!0)]}}),Et(ff.prototype,{toJSON:{name:"toJSON",j:[ee(null,!0)]}}),Et(Q0.prototype,{toJSON:{name:"toJSON",j:[ee(null,!0)]}}),Et(B_.prototype,{toJSON:{name:"toJSON",j:[ee(null,!0)]}}),Et(V_.prototype,{Rc:{name:"resolveSignIn",j:[xR()]}}),Et(z_.prototype,{Rb:{name:"getSession",j:[]},fc:{name:"enroll",j:[xR(),ee("displayName",!0)]},bd:{name:"unenroll",j:[Dt({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:OR},ee(),"multiFactorInfoIdentifier")]}}),Et(yw.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Lt(F0,"parseLink",mk,[ee("link")]),Lt(fw,"assertion",function(o){return new oR(o)},[Jo("phone")]),function(){if(typeof ue<"u"&&ue.INTERNAL&&ue.INTERNAL.registerComponent){var o={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:gp,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:M0,VERIFY_AND_CHANGE_EMAIL:af,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:gi,AuthCredential:qu,Error:R};Lt(o,"EmailAuthProvider",zr,[]),Lt(o,"FacebookAuthProvider",va,[]),Lt(o,"GithubAuthProvider",ma,[]),Lt(o,"GoogleAuthProvider",ga,[]),Lt(o,"TwitterAuthProvider",Hu,[]),Lt(o,"OAuthProvider",br,[ee("providerId")]),Lt(o,"SAMLAuthProvider",Ok,[ee("providerId")]),Lt(o,"PhoneAuthProvider",vo,[nz()]),Lt(o,"RecaptchaVerifier",yw,[Dt(ee(),tz(),"recaptchaContainer"),Vt("recaptchaParameters",!0),rz()]),Lt(o,"ActionCodeURL",F0,[]),Lt(o,"PhoneMultiFactorGenerator",fw,[]),ue.INTERNAL.registerComponent({name:"auth",instanceFactory:function(u){return u=u.getProvider("app").getImmediate(),new gi(u)},multipleInstances:!1,serviceProps:o,instantiationMode:"LAZY",type:"PUBLIC"}),ue.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(u){return u=u.getProvider("auth").getImmediate(),{getUid:O(u.getUid,u),getToken:O(u.nc,u),addAuthTokenListener:O(u.cc,u),removeAuthTokenListener:O(u.Pc,u)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),ue.registerVersion("@firebase/auth","0.16.5"),ue.INTERNAL.extendNamespace({User:Tr})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{});var ZW="@firebase/database",eH="0.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var j2="";function V2(e){j2=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tH=function(){function e(t){this.domStorage_=t,this.prefix_="firebase:"}return e.prototype.set=function(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Xt(n))},e.prototype.get=function(t){var n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:Gh(n)},e.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},e.prototype.prefixedName_=function(t){return this.prefix_+t},e.prototype.toString=function(){return this.domStorage_.toString()},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nH=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n},e.prototype.get=function(t){return Or(this.cache_,t)?this.cache_[t]:null},e.prototype.remove=function(t){delete this.cache_[t]},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var B2=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new tH(t)}}catch{}return new nH},Fa=B2("localStorage"),F1=B2("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ll=new kc("@firebase/database"),$2=function(){var e=1;return function(){return e++}}(),z2=function(e){var t=wW(e),n=new mW;n.update(t);var r=n.digest();return Hh.encodeByteArray(r)},Id=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n="",r=0;r<e.length;r++){var i=e[r];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?n+=Id.apply(null,i):typeof i=="object"?n+=Xt(i):n+=i,n+=" "}return n},Wa=null,hP=!0,q2=function(e,t){G(!t||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(Ll.logLevel=ke.VERBOSE,Wa=Ll.log.bind(Ll),t&&F1.set("logging_enabled",!0)):typeof e=="function"?Wa=e:(Wa=null,F1.remove("logging_enabled"))},cn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(hP===!0&&(hP=!1,Wa===null&&F1.get("logging_enabled")===!0&&q2(!0)),Wa){var n=Id.apply(null,e);Wa(n)}},Sd=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];cn.apply(void 0,Ne([e],_n(t)))}},U1=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+Id.apply(void 0,Ne([],_n(e)));Ll.error(n)},eo=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+Id.apply(void 0,Ne([],_n(e)));throw Ll.error(n),new Error(n)},bn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+Id.apply(void 0,Ne([],_n(e)));Ll.warn(n)},rH=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&bn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},zg=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},iH=function(e){if(document.readyState==="complete")e();else{var t=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Lo="[MIN_NAME]",to="[MAX_NAME]",wu=function(e,t){if(e===t)return 0;if(e===Lo||t===to)return-1;if(t===Lo||e===to)return 1;var n=Pm(e),r=Pm(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1},oH=function(e,t){return e===t?0:e<t?-1:1},$f=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Xt(t))},zT=function(e){if(typeof e!="object"||e===null)return Xt(e);var t=[];for(var n in e)t.push(n);t.sort();for(var r="{",i=0;i<t.length;i++)i!==0&&(r+=","),r+=Xt(t[i]),r+=":",r+=zT(e[t[i]]);return r+="}",r},W2=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function tn(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var H2=function(e){G(!zg(e),"Invalid JSON number");var t=11,n=52,r=(1<<t-1)-1,i,s,a,l,c;e===0?(s=0,a=0,i=1/e===-1/0?1:0):(i=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(e)/Math.LN2),r),s=l+r,a=Math.round(e*Math.pow(2,n-l)-Math.pow(2,n))):(s=0,a=Math.round(e/Math.pow(2,1-r-n))));var h=[];for(c=n;c;c-=1)h.push(a%2?1:0),a=Math.floor(a/2);for(c=t;c;c-=1)h.push(s%2?1:0),s=Math.floor(s/2);h.push(i?1:0),h.reverse();var d=h.join(""),v="";for(c=0;c<64;c+=8){var m=parseInt(d.substr(c,8),2).toString(16);m.length===1&&(m="0"+m),v=v+m}return v.toLowerCase()},sH=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},aH=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function uH(e,t){var n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}var lH=new RegExp("^-?(0*)\\d{1,10}$"),K2=-2147483648,qT=2147483647,Pm=function(e){if(lH.test(e)){var t=Number(e);if(t>=K2&&t<=qT)return t}return null},Nc=function(e){try{e()}catch(t){setTimeout(function(){var n=t.stack||"";throw bn("Exception was thrown by user callback.",n),t},Math.floor(0))}},cH=function(){var e=typeof window=="object"&&window.navigator&&window.navigator.userAgent||"";return e.search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},hh=function(e,t){var n=setTimeout(e,t);return typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fH=function(){function e(t,n){var r=this;this.appName_=t,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(function(i){return r.appCheck=i})}return e.prototype.getToken=function(t){return this.appCheck?this.appCheck.getToken(t):Promise.resolve(null)},e.prototype.addTokenChangeListener=function(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(function(r){return r.addTokenListener(t)})},e.prototype.notifyForInvalidToken=function(){bn('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hH=function(){function e(t,n,r){var i=this;this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.get().then(function(s){return i.auth_=s})}return e.prototype.getToken=function(t){return this.auth_?this.auth_.getToken(t).catch(function(n){return n&&n.code==="auth/token-not-initialized"?(cn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)}):Promise.resolve(null)},e.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):(setTimeout(function(){return t(null)},0),this.authProvider_.get().then(function(n){return n.addAuthTokenListener(t)}))},e.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then(function(n){return n.removeAuthTokenListener(t)})},e.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',bn(t)},e}(),dh=function(){function e(t){this.accessToken=t}return e.prototype.getToken=function(t){return Promise.resolve({accessToken:this.accessToken})},e.prototype.addTokenChangeListener=function(t){t(this.accessToken)},e.prototype.removeTokenChangeListener=function(t){},e.prototype.notifyForInvalidToken=function(){},e.OWNER="owner",e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var WT="5",G2="v",Q2="s",Y2="r",X2="f",J2=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Z2="ls",dH="p",j1="ac",eM="websocket",tM="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var HT=function(){function e(t,n,r,i,s,a,l){s===void 0&&(s=!1),a===void 0&&(a=""),l===void 0&&(l=!1),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=a,this.includeNamespaceInQueryParams=l,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Fa.get("host:"+t)||this._host}return e.prototype.isCacheableHost=function(){return this.internalHost.substr(0,2)==="s-"},e.prototype.isCustomHost=function(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"},Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Fa.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),e.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},e.prototype.toURLString=function(){var t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+t+this.host+"/"+n},e}();function pH(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function nM(e,t,n){G(typeof t=="string","typeof type must == string"),G(typeof n=="object","typeof params must == object");var r;if(t===eM)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===tM)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);pH(e)&&(n.ns=e.namespace);var i=[];return tn(n,function(s,a){i.push(s+"="+a)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vH=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(t,n){n===void 0&&(n=1),Or(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n},e.prototype.get=function(){return N2(this.counters_)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xw={},Jw={};function KT(e){var t=e.toString();return Xw[t]||(Xw[t]=new vH),Xw[t]}function mH(e,t){var n=e.toString();return Jw[n]||(Jw[n]=t()),Jw[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gH=function(){function e(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(t,n){var r=this;this.pendingResponses[t]=n;for(var i=function(){var l=s.pendingResponses[s.currentResponseNum];delete s.pendingResponses[s.currentResponseNum];for(var c=function(d){l[d]&&Nc(function(){r.onMessage_(l[d])})},h=0;h<l.length;++h)c(h);if(s.currentResponseNum===s.closeAfterResponse)return s.onClose&&(s.onClose(),s.onClose=null),"break";s.currentResponseNum++},s=this;this.pendingResponses[this.currentResponseNum];){var a=i();if(a==="break")break}},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dP="start",yH="close",_H="pLPCommand",wH="pRTLPCB",rM="id",iM="pw",oM="ser",EH="cb",bH="seg",TH="ts",IH="d",SH="dframe",sM=1870,aM=30,CH=sM-aM,kH=25e3,NH=3e4,GT=function(){function e(t,n,r,i,s,a,l){var c=this;this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=a,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Sd(t),this.stats_=KT(n),this.urlFn=function(h){return c.appCheckToken&&(h[j1]=c.appCheckToken),nM(n,tM,h)}}return e.prototype.open=function(t,n){var r=this;this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new gH(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){r.log_("Timed out trying to connect."),r.onClosed_(),r.connectTimeoutTimer_=null},Math.floor(NH)),iH(function(){if(!r.isClosed_){r.scriptTagHolder=new RH(function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];var c=_n(a,5),h=c[0],d=c[1],v=c[2];if(c[3],c[4],r.incrementIncomingBytes_(a),!!r.scriptTagHolder)if(r.connectTimeoutTimer_&&(clearTimeout(r.connectTimeoutTimer_),r.connectTimeoutTimer_=null),r.everConnected_=!0,h===dP)r.id=d,r.password=v;else if(h===yH)d?(r.scriptTagHolder.sendNewPolls=!1,r.myPacketOrderer.closeAfter(d,function(){r.onClosed_()})):r.onClosed_();else throw new Error("Unrecognized command received: "+h)},function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];var c=_n(a,2),h=c[0],d=c[1];r.incrementIncomingBytes_(a),r.myPacketOrderer.handleResponse(h,d)},function(){r.onClosed_()},r.urlFn);var i={};i[dP]="t",i[oM]=Math.floor(Math.random()*1e8),r.scriptTagHolder.uniqueCallbackIdentifier&&(i[EH]=r.scriptTagHolder.uniqueCallbackIdentifier),i[G2]=WT,r.transportSessionId&&(i[Q2]=r.transportSessionId),r.lastSessionId&&(i[Z2]=r.lastSessionId),r.applicationId&&(i[dH]=r.applicationId),r.appCheckToken&&(i[j1]=r.appCheckToken),typeof location<"u"&&location.hostname&&J2.test(location.hostname)&&(i[Y2]=X2);var s=r.urlFn(i);r.log_("Connecting via long-poll to "+s),r.scriptTagHolder.addTag(s,function(){})}})},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return e.forceAllow_?!0:!e.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!sH()&&!aH()},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(t){var n=Xt(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);for(var r=rW(n),i=W2(r,CH),s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(t,n){this.myDisconnFrame=document.createElement("iframe");var r={};r[SH]="t",r[rM]=t,r[iM]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)},e.prototype.incrementIncomingBytes_=function(t){var n=Xt(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)},e}(),RH=function(){function e(t,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=$2(),window[_H+this.uniqueCallbackIdentifier]=t,window[wH+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var s="";if(this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"){var a=document.domain;s='<script>document.domain="'+a+'";<\/script>'}var l="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(c){cn("frame writing exception"),c.stack&&cn(c.stack),cn(c)}}}return e.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{var n=t.contentWindow.document;n||cn("No IE domain setting required")}catch{var r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},e.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){t.myIFrame!==null&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)},Math.floor(0)));var n=this.onDisconnect;n&&(this.onDisconnect=null,n())},e.prototype.startLongPoll=function(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t[rM]=this.myID,t[iM]=this.myPW,t[oM]=this.currentSerial;for(var n=this.urlFn(t),r="",i=0;this.pendingSegs.length>0;){var s=this.pendingSegs[0];if(s.d.length+aM+r.length<=sM){var a=this.pendingSegs.shift();r=r+"&"+bH+i+"="+a.seg+"&"+TH+i+"="+a.ts+"&"+IH+i+"="+a.d,i++}else break}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1},e.prototype.enqueueSegment=function(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(t,n){var r=this;this.outstandingRequests.add(n);var i=function(){r.outstandingRequests.delete(n),r.newRequest_()},s=setTimeout(i,Math.floor(kH)),a=function(){clearTimeout(s),i()};this.addTag(t,a)},e.prototype.addTag=function(t,n){var r=this;setTimeout(function(){try{if(!r.sendNewPolls)return;var i=r.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){var s=i.readyState;(!s||s==="loaded"||s==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=function(){cn("Long-poll script failed to load: "+t),r.sendNewPolls=!1,r.close()},r.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var AH=16384,PH=45e3,xm=null;typeof MozWebSocket<"u"?xm=MozWebSocket:typeof WebSocket<"u"&&(xm=WebSocket);var Pa=function(){function e(t,n,r,i,s,a,l){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Sd(this.connId),this.stats_=KT(n),this.connURL=e.connectionURL_(n,a,l,i),this.nodeAdmin=n.nodeAdmin}return e.connectionURL_=function(t,n,r,i){var s={};return s[G2]=WT,typeof location<"u"&&location.hostname&&J2.test(location.hostname)&&(s[Y2]=X2),n&&(s[Q2]=n),r&&(s[Z2]=r),i&&(s[j1]=i),nM(t,eM,s)},e.prototype.open=function(t,n){var r=this;this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Fa.set("previous_websocket_failure",!0);try{var i,s,a,l;if(!P2()){var s={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new xm(this.connURL,[],s)}}catch(h){this.log_("Error instantiating WebSocket.");var c=h.message||h.data;c&&this.log_(c),this.onClosed_();return}this.mySock.onopen=function(){r.log_("Websocket connected."),r.everConnected_=!0},this.mySock.onclose=function(){r.log_("Websocket connection was disconnected."),r.mySock=null,r.onClosed_()},this.mySock.onmessage=function(h){r.handleIncomingFrame(h)},this.mySock.onerror=function(h){r.log_("WebSocket error.  Closing connection.");var d=h.message||h.data;d&&r.log_(d),r.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if(typeof navigator<"u"&&navigator.userAgent){var n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&xm!==null&&!e.forceDisallow_},e.previouslyFailed=function(){return Fa.isInMemoryStorage||Fa.get("previous_websocket_failure")===!0},e.prototype.markConnectionHealthy=function(){Fa.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var n=this.frames.join("");this.frames=null;var r=Gh(n);this.onMessage(r)}},e.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},e.prototype.extractFrameCount_=function(t){if(G(this.frames===null,"We already have a frame buffer"),t.length<=6){var n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t},e.prototype.handleIncomingFrame=function(t){if(this.mySock!==null){var n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{var r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}},e.prototype.send=function(t){this.resetKeepAlive();var n=Xt(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);var r=W2(n,AH);r.length>1&&this.sendString_(String(r.length));for(var i=0;i<r.length;i++)this.sendString_(r[i])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()},Math.floor(PH))},e.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xH=function(){function e(t){this.initTransports_(t)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[GT,Pa]},enumerable:!1,configurable:!0}),e.prototype.initTransports_=function(t){var n,r,i=Pa&&Pa.isAvailable(),s=i&&!Pa.previouslyFailed();if(t.webSocketOnly&&(i||bn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[Pa];else{var a=this.transports_=[];try{for(var l=pn(e.ALL_TRANSPORTS),c=l.next();!c.done;c=l.next()){var h=c.value;h&&h.isAvailable()&&a.push(h)}}catch(d){n={error:d}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OH=6e4,DH=5e3,LH=10*1024,MH=100*1024,Zw="t",pP="d",FH="s",vP="r",UH="e",mP="o",gP="a",yP="n",_P="p",jH="h",uM=function(){function e(t,n,r,i,s,a,l,c,h,d){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=a,this.onReady_=l,this.onDisconnect_=c,this.onKill_=h,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Sd("c:"+this.id+":"),this.transportManager_=new xH(n),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var t=this,n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;var r=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){t.conn_&&t.conn_.open(r,i)},Math.floor(0));var s=n.healthyTimeout||0;s>0&&(this.healthyTimeout_=hh(function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>MH?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>LH?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))},Math.floor(s)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(t){var n=this;return function(r){t===n.conn_?n.onConnectionLost_(r):t===n.secondaryConn_?(n.log_("Secondary connection lost."),n.onSecondaryConnectionLost_()):n.log_("closing an old connection")}},e.prototype.connReceiver_=function(t){var n=this;return function(r){n.state_!==2&&(t===n.rx_?n.onPrimaryMessageReceived_(r):t===n.secondaryConn_?n.onSecondaryMessageReceived_(r):n.log_("message on old connection"))}},e.prototype.sendRequest=function(t){var n={t:"d",d:t};this.sendData_(n)},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(t){if(Zw in t){var n=t[Zw];n===gP?this.upgradeIfSecondaryHealthy_():n===vP?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===mP&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(t){var n=$f("t",t),r=$f("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:_P,d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:gP,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:yP,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(t){var n=$f("t",t),r=$f("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)},e.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(t){var n=$f(Zw,t);if(pP in t){var r=t[pP];if(n===jH)this.onHandshake_(r);else if(n===yP){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===FH?this.onConnectionShutdown_(r):n===vP?this.onReset_(r):n===UH?U1("Server Error: "+r):n===mP?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):U1("Unknown control packet command: "+n)}},e.prototype.onHandshake_=function(t){var n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),WT!==r&&bn("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},e.prototype.startUpgrade_=function(t){var n=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var r=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,i),hh(function(){n.secondaryConn_&&(n.log_("Timed out trying to upgrade."),n.secondaryConn_.close())},Math.floor(OH))},e.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(t,n){var r=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):hh(function(){r.sendPingOnPrimaryIfNecessary_()},Math.floor(DH))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:_P,d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()},e.prototype.onConnectionLost_=function(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Fa.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()},e.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)},e.prototype.close=function(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lM=function(){function e(){}return e.prototype.put=function(t,n,r,i){},e.prototype.merge=function(t,n,r,i){},e.prototype.refreshAuthToken=function(t){},e.prototype.refreshAppCheckToken=function(t){},e.prototype.onDisconnectPut=function(t,n,r){},e.prototype.onDisconnectMerge=function(t,n,r){},e.prototype.onDisconnectCancel=function(t,n){},e.prototype.reportStats=function(t){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cM=function(){function e(t){this.allowedEvents_=t,this.listeners_={},G(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(Array.isArray(this.listeners_[t]))for(var i=Ne([],_n(this.listeners_[t])),s=0;s<i.length;s++)i[s].callback.apply(i[s].context,n)},e.prototype.on=function(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});var i=this.getInitialEvent(t);i&&n.apply(r,i)},e.prototype.off=function(t,n,r){this.validateEventType_(t);for(var i=this.listeners_[t]||[],s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}},e.prototype.validateEventType_=function(t){G(this.allowedEvents_.find(function(n){return n===t}),"Unknown event: "+t)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wP=function(e){J(t,e);function t(){var n=e.call(this,["online"])||this;return n.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!FT()&&(window.addEventListener("online",function(){n.online_||(n.online_=!0,n.trigger("online",!0))},!1),window.addEventListener("offline",function(){n.online_&&(n.online_=!1,n.trigger("online",!1))},!1)),n}return t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(n){return G(n==="online","Unknown event type: "+n),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(cM);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var EP=32,bP=768,He=function(){function e(t,n){if(n===void 0){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return e.prototype.toString=function(){for(var t="",n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"},e}();function Be(){return new He("")}function Ie(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Ls(e){return e.pieces_.length-e.pieceNum_}function nt(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new He(e.pieces_,t)}function QT(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function VH(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function Qh(e,t){return t===void 0&&(t=0),e.pieces_.slice(e.pieceNum_+t)}function fM(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new He(t,0)}function yt(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof He)for(var r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else for(var i=t.split("/"),r=0;r<i.length;r++)i[r].length>0&&n.push(i[r]);return new He(n,0)}function Se(e){return e.pieceNum_>=e.pieces_.length}function Gn(e,t){var n=Ie(e),r=Ie(t);if(n===null)return t;if(n===r)return Gn(nt(e),nt(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function BH(e,t){for(var n=Qh(e,0),r=Qh(t,0),i=0;i<n.length&&i<r.length;i++){var s=wu(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function YT(e,t){if(Ls(e)!==Ls(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Yr(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(Ls(e)>Ls(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var $H=function(){function e(t,n){this.errorPrefix_=n,this.parts_=Qh(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=$g(this.parts_[r]);hM(this)}return e}();function zH(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=$g(t),hM(e)}function qH(e){var t=e.parts_.pop();e.byteLength_-=$g(t),e.parts_.length>0&&(e.byteLength_-=1)}function hM(e){if(e.byteLength_>bP)throw new Error(e.errorPrefix_+"has a key path longer than "+bP+" bytes ("+e.byteLength_+").");if(e.parts_.length>EP)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+EP+") or object contains a cycle "+Na(e))}function Na(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var WH=function(e){J(t,e);function t(){var n=e.call(this,["visible"])||this,r,i;return typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",r="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",r="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",r="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",r="webkitHidden")),n.visible_=!0,i&&document.addEventListener(i,function(){var s=!document[r];s!==n.visible_&&(n.visible_=s,n.trigger("visible",s))},!1),n}return t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(n){return G(n==="visible","Unknown event type: "+n),[this.visible_]},t}(cM);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zf=1e3,HH=60*5*1e3,KH=3*1e3,TP=30*1e3,GH=1.3,QH=3e4,YH="server_kill",IP=3,Ha=function(e){J(t,e);function t(n,r,i,s,a,l,c,h){var d=e.call(this)||this;if(d.repoInfo_=n,d.applicationId_=r,d.onDataUpdate_=i,d.onConnectStatus_=s,d.onServerInfoUpdate_=a,d.authTokenProvider_=l,d.appCheckTokenProvider_=c,d.authOverride_=h,d.id=t.nextPersistentConnectionId_++,d.log_=Sd("p:"+d.id+":"),d.interruptReasons_={},d.listens=new Map,d.outstandingPuts_=[],d.outstandingGets_=[],d.outstandingPutCount_=0,d.outstandingGetCount_=0,d.onDisconnectRequestQueue_=[],d.connected_=!1,d.reconnectDelay_=zf,d.maxReconnectDelay_=HH,d.securityDebugCallback_=null,d.lastSessionId=null,d.establishConnectionTimer_=null,d.visible_=!1,d.requestCBHash_={},d.requestNumber_=0,d.realtime_=null,d.authToken_=null,d.appCheckToken_=null,d.forceTokenRefresh_=!1,d.invalidAuthTokenCount_=0,d.invalidAppCheckTokenCount_=0,d.firstConnection_=!0,d.lastConnectionAttemptTime_=null,d.lastConnectionEstablishedTime_=null,h&&!P2())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return d.scheduleConnect_(0),WH.getInstance().on("visible",d.onVisible_,d),n.host.indexOf("fblocal")===-1&&wP.getInstance().on("online",d.onOnline_,d),d}return t.prototype.sendRequest=function(n,r,i){var s=++this.requestNumber_,a={r:s,a:n,b:r};this.log_(Xt(a)),G(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),i&&(this.requestCBHash_[s]=i)},t.prototype.get=function(n){var r=this,i=new lr,s={p:n._path.toString(),q:n._queryObject},a={action:"g",request:s,onComplete:function(c){var h=c.d;c.s==="ok"?(r.onDataUpdate_(s.p,h,!1,null),i.resolve(h)):i.reject(h)}};this.outstandingGets_.push(a),this.outstandingGetCount_++;var l=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var c=r.outstandingGets_[l];c===void 0||a!==c||(delete r.outstandingGets_[l],r.outstandingGetCount_--,r.outstandingGetCount_===0&&(r.outstandingGets_=[]),r.log_("get "+l+" timed out on connection"),i.reject(new Error("Client is offline.")))},KH),this.connected_&&this.sendGet_(l),i.promise},t.prototype.listen=function(n,r,i,s){var a=n._queryIdentifier,l=n._path.toString();this.log_("Listen called for "+l+" "+a),this.listens.has(l)||this.listens.set(l,new Map),G(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),G(!this.listens.get(l).has(a),"listen() called twice for same path/queryId.");var c={onComplete:s,hashFn:r,query:n,tag:i};this.listens.get(l).set(a,c),this.connected_&&this.sendListen_(c)},t.prototype.sendGet_=function(n){var r=this,i=this.outstandingGets_[n];this.sendRequest("g",i.request,function(s){delete r.outstandingGets_[n],r.outstandingGetCount_--,r.outstandingGetCount_===0&&(r.outstandingGets_=[]),i.onComplete&&i.onComplete(s)})},t.prototype.sendListen_=function(n){var r=this,i=n.query,s=i._path.toString(),a=i._queryIdentifier;this.log_("Listen on "+s+" for "+a);var l={p:s},c="q";n.tag&&(l.q=i._queryObject,l.t=n.tag),l.h=n.hashFn(),this.sendRequest(c,l,function(h){var d=h.d,v=h.s;t.warnOnListenWarnings_(d,i);var m=r.listens.get(s)&&r.listens.get(s).get(a);m===n&&(r.log_("listen response",h),v!=="ok"&&r.removeListen_(s,a),n.onComplete&&n.onComplete(v,d))})},t.warnOnListenWarnings_=function(n,r){if(n&&typeof n=="object"&&Or(n,"w")){var i=ou(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){var s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',a=r._path.toString();bn("Using an unspecified index. Your data will be downloaded and "+("filtered on the client. Consider adding "+s+" at ")+(a+" to your security rules for better performance."))}}},t.prototype.refreshAuthToken=function(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(n)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(n){var r=n&&n.length===40;(r||pW(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=TP)},t.prototype.refreshAppCheckToken=function(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},function(){})},t.prototype.tryAuth=function(){var n=this;if(this.connected_&&this.authToken_){var r=this.authToken_,i=dW(r)?"auth":"gauth",s={cred:r};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(i,s,function(a){var l=a.s,c=a.d||"error";n.authToken_===r&&(l==="ok"?n.invalidAuthTokenCount_=0:n.onAuthRevoked_(l,c))})}},t.prototype.tryAppCheck=function(){var n=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},function(r){var i=r.s,s=r.d||"error";i==="ok"?n.invalidAppCheckTokenCount_=0:n.onAppCheckRevoked_(i,s)})},t.prototype.unlisten=function(n,r){var i=n._path.toString(),s=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),G(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");var a=this.removeListen_(i,s);a&&this.connected_&&this.sendUnlisten_(i,s,n._queryObject,r)},t.prototype.sendUnlisten_=function(n,r,i,s){this.log_("Unlisten on "+n+" for "+r);var a={p:n},l="n";s&&(a.q=i,a.t=s),this.sendRequest(l,a)},t.prototype.onDisconnectPut=function(n,r,i){this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})},t.prototype.onDisconnectMerge=function(n,r,i){this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})},t.prototype.onDisconnectCancel=function(n,r){this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})},t.prototype.sendOnDisconnect_=function(n,r,i,s){var a={p:r,d:i};this.log_("onDisconnect "+n,a),this.sendRequest(n,a,function(l){s&&setTimeout(function(){s(l.s,l.d)},Math.floor(0))})},t.prototype.put=function(n,r,i,s){this.putInternal("p",n,r,i,s)},t.prototype.merge=function(n,r,i,s){this.putInternal("m",n,r,i,s)},t.prototype.putInternal=function(n,r,i,s,a){var l={p:r,d:i};a!==void 0&&(l.h=a),this.outstandingPuts_.push({action:n,request:l,onComplete:s}),this.outstandingPutCount_++;var c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+r)},t.prototype.sendPut_=function(n){var r=this,i=this.outstandingPuts_[n].action,s=this.outstandingPuts_[n].request,a=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(i,s,function(l){r.log_(i+" response",l),delete r.outstandingPuts_[n],r.outstandingPutCount_--,r.outstandingPutCount_===0&&(r.outstandingPuts_=[]),a&&a(l.s,l.d)})},t.prototype.reportStats=function(n){var r=this;if(this.connected_){var i={c:n};this.log_("reportStats",i),this.sendRequest("s",i,function(s){var a=s.s;if(a!=="ok"){var l=s.d;r.log_("reportStats","Error sending stats: "+l)}})}},t.prototype.onDataMessage_=function(n){if("r"in n){this.log_("from server: "+Xt(n));var r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}},t.prototype.onDataPush_=function(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):U1("Unrecognized action received from server: "+Xt(n)+`
Are you using the latest client?`)},t.prototype.onReady_=function(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(n){var r=this;G(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){r.establishConnectionTimer_=null,r.establishConnection_()},Math.floor(n))},t.prototype.onVisible_=function(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=zf,this.realtime_||this.scheduleConnect_(0)),this.visible_=n},t.prototype.onOnline_=function(n){n?(this.log_("Browser went online."),this.reconnectDelay_=zf,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(!this.visible_)this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime();else if(this.lastConnectionEstablishedTime_){var n=new Date().getTime()-this.lastConnectionEstablishedTime_;n>QH&&(this.reconnectDelay_=zf),this.lastConnectionEstablishedTime_=null}var r=new Date().getTime()-this.lastConnectionAttemptTime_,i=Math.max(0,this.reconnectDelay_-r);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*GH)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){return P(this,void 0,void 0,function(){var n,r,i,s,a,l,c,h,d,v,m,y,_,E,S=this;return A(this,function(b){switch(b.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null,n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+t.nextConnectionId_++,a=this.lastSessionId,l=!1,c=null,h=function(){c?c.close():(l=!0,i())},d=function(I){G(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(I)},this.realtime_={close:h,sendRequest:d},v=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,b.label=1;case 1:return b.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(v),this.appCheckTokenProvider_.getToken(v)])];case 2:return m=_n.apply(void 0,[b.sent(),2]),y=m[0],_=m[1],l?cn("getToken() completed but was canceled"):(cn("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=_&&_.token,c=new uM(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,function(I){bn(I+" ("+S.repoInfo_.toString()+")"),S.interrupt(YH)},a)),[3,4];case 3:return E=b.sent(),this.log_("Failed to get token: "+E),l||(this.repoInfo_.nodeAdmin&&bn(E),h()),[3,4];case 4:return[2]}})})},t.prototype.interrupt=function(n){cn("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(n){cn("Resuming connection for reason: "+n),delete this.interruptReasons_[n],L1(this.interruptReasons_)&&(this.reconnectDelay_=zf,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(n){var r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})},t.prototype.cancelSentTransactions_=function(){for(var n=0;n<this.outstandingPuts_.length;n++){var r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(n,r){var i;r?i=r.map(function(a){return zT(a)}).join("$"):i="default";var s=this.removeListen_(n,i);s&&s.onComplete&&s.onComplete("permission_denied")},t.prototype.removeListen_=function(n,r){var i=new He(n).toString(),s;if(this.listens.has(i)){var a=this.listens.get(i);s=a.get(r),a.delete(r),a.size===0&&this.listens.delete(i)}else s=void 0;return s},t.prototype.onAuthRevoked_=function(n,r){cn("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=IP&&(this.reconnectDelay_=TP,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onAppCheckRevoked_=function(n,r){cn("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=IP&&this.appCheckTokenProvider_.notifyForInvalidToken())},t.prototype.onSecurityDebugPacket_=function(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))},t.prototype.restoreState_=function(){var n,r,i,s;this.tryAuth(),this.tryAppCheck();try{for(var a=pn(this.listens.values()),l=a.next();!l.done;l=a.next()){var c=l.value;try{for(var h=(i=void 0,pn(c.values())),d=h.next();!d.done;d=h.next()){var v=d.value;this.sendListen_(v)}}catch(_){i={error:_}}finally{try{d&&!d.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}}}catch(_){n={error:_}}finally{try{l&&!l.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}for(var m=0;m<this.outstandingPuts_.length;m++)this.outstandingPuts_[m]&&this.sendPut_(m);for(;this.onDisconnectRequestQueue_.length;){var y=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(y.action,y.pathString,y.data,y.onComplete)}for(var m=0;m<this.outstandingGets_.length;m++)this.outstandingGets_[m]&&this.sendGet_(m)},t.prototype.sendConnectStats_=function(){var n={},r="js";n["sdk."+r+"."+j2.replace(/\./g,"-")]=1,FT()?n["framework.cordova"]=1:A2()&&(n["framework.reactnative"]=1),this.reportStats(n)},t.prototype.shouldReconnect_=function(){var n=wP.getInstance().currentlyOnline();return L1(this.interruptReasons_)&&n},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(lM);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe=function(){function e(t,n){this.name=t,this.node=n}return e.Wrap=function(t,n){return new e(t,n)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qg=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(t,n){var r=new xe(Lo,t),i=new xe(Lo,n);return this.compare(r,i)!==0},e.prototype.minPost=function(){return xe.MIN},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _v,dM=function(e){J(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return _v},set:function(n){_v=n},enumerable:!1,configurable:!0}),t.prototype.compare=function(n,r){return wu(n.name,r.name)},t.prototype.isDefinedOn=function(n){throw Sc("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(n,r){return!1},t.prototype.minPost=function(){return xe.MIN},t.prototype.maxPost=function(){return new xe(to,_v)},t.prototype.makePost=function(n,r){return G(typeof n=="string","KeyIndex indexValue must always be a string."),new xe(n,_v)},t.prototype.toString=function(){return".key"},t}(qg),Yi=new dM;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wv=function(){function e(t,n,r,i,s){s===void 0&&(s=null),this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];for(var a=1;!t.isEmpty();)if(t=t,a=n?r(t.key,n):1,i&&(a*=-1),a<0)this.isReverse_?t=t.left:t=t.right;else if(a===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}return e.prototype.getNext=function(){if(this.nodeStack_.length===0)return null;var t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(this.nodeStack_.length===0)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},e}(),Ti=function(){function e(t,n,r,i,s){this.key=t,this.value=n,this.color=r??e.RED,this.left=i??Io.EMPTY_NODE,this.right=s??Io.EMPTY_NODE}return e.prototype.copy=function(t,n,r,i,s){return new e(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(t,n,r){var i=this,s=r(t,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return Io.EMPTY_NODE;var t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()},e.prototype.remove=function(t,n){var r,i;if(r=this,n(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(t,r.key)===0){if(r.right.isEmpty())return Io.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},e.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t},e.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},e.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),XH=function(){function e(){}return e.prototype.copy=function(t,n,r,i,s){return this},e.prototype.insert=function(t,n,r){return new Ti(t,n,null)},e.prototype.remove=function(t,n){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(t){return!1},e.prototype.reverseTraversal=function(t){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),Io=function(){function e(t,n){n===void 0&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Ti.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Ti.BLACK,null,null))},e.prototype.get=function(t){for(var n,r=this.root_;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null},e.prototype.getPredecessorKey=function(t){for(var n,r=this.root_,i=null;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},e.prototype.getIterator=function(t){return new wv(this.root_,null,this.comparator_,!1,t)},e.prototype.getIteratorFrom=function(t,n){return new wv(this.root_,t,this.comparator_,!1,n)},e.prototype.getReverseIteratorFrom=function(t,n){return new wv(this.root_,t,this.comparator_,!0,n)},e.prototype.getReverseIterator=function(t){return new wv(this.root_,null,this.comparator_,!0,t)},e.EMPTY_NODE=new XH,e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JH(e,t){return wu(e.name,t.name)}function XT(e,t){return wu(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var V1;function ZH(e){V1=e}var pM=function(e){return typeof e=="number"?"number:"+H2(e):"string:"+e},vM=function(e){if(e.isLeafNode()){var t=e.val();G(typeof t=="string"||typeof t=="number"||typeof t=="object"&&Or(t,".sv"),"Priority must be a string or number.")}else G(e===V1||e.isEmpty(),"priority of unexpected type.");G(e===V1||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var SP,Yl=function(){function e(t,n){n===void 0&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,G(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),vM(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return SP},set:function(t){SP=t},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return t===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return Se(t)?this:Ie(t)===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(t,n){return null},e.prototype.updateImmediateChild=function(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var r=Ie(t);return r===null?n:n.isEmpty()&&r!==".priority"?this:(G(r!==".priority"||Ls(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(nt(t),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(t,n){return!1},e.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(this.lazyHash_===null){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+pM(this.priorityNode_.val())+":");var n=typeof this.value_;t+=n+":",n==="number"?t+=H2(this.value_):t+=this.value_,this.lazyHash_=z2(t)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(G(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),s=e.VALUE_TYPE_ORDER.indexOf(r);return G(i>=0,"Unknown leaf type: "+n),G(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-i},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode()){var n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mM,gM;function eK(e){mM=e}function tK(e){gM=e}var nK=function(e){J(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.compare=function(n,r){var i=n.node.getPriority(),s=r.node.getPriority(),a=i.compareTo(s);return a===0?wu(n.name,r.name):a},t.prototype.isDefinedOn=function(n){return!n.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(n,r){return!n.getPriority().equals(r.getPriority())},t.prototype.minPost=function(){return xe.MIN},t.prototype.maxPost=function(){return new xe(to,new Yl("[PRIORITY-POST]",gM))},t.prototype.makePost=function(n,r){var i=mM(n);return new xe(r,new Yl("[PRIORITY-POST]",i))},t.prototype.toString=function(){return".priority"},t}(qg),ot=new nK;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rK=Math.log(2),iK=function(){function e(t){var n=function(s){return parseInt(Math.log(s)/rK,10)},r=function(s){return parseInt(Array(s+1).join("1"),2)};this.count=n(t+1),this.current_=this.count-1;var i=r(this.count);this.bits_=t+1&i}return e.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},e}(),Om=function(e,t,n,r){e.sort(t);var i=function(c,h){var d=h-c,v,m;if(d===0)return null;if(d===1)return v=e[c],m=n?n(v):v,new Ti(m,v.node,Ti.BLACK,null,null);var y=parseInt(d/2,10)+c,_=i(c,y),E=i(y+1,h);return v=e[y],m=n?n(v):v,new Ti(m,v.node,Ti.BLACK,_,E)},s=function(c){for(var h=null,d=null,v=e.length,m=function(b,I){var k=v-b,C=v;v-=b;var x=i(k+1,C),O=e[k],V=n?n(O):O;y(new Ti(V,O.node,I,null,x))},y=function(b){h?(h.left=b,h=b):(d=b,h=b)},_=0;_<c.count;++_){var E=c.nextBitIsOne(),S=Math.pow(2,c.count-(_+1));E?m(S,Ti.BLACK):(m(S,Ti.BLACK),m(S,Ti.RED))}return d},a=new iK(e.length),l=s(a);return new Io(r||t,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eE,ol={},Dm=function(){function e(t,n){this.indexes_=t,this.indexSet_=n}return Object.defineProperty(e,"Default",{get:function(){return G(ol&&ot,"ChildrenNode.ts has not been loaded"),eE=eE||new e({".priority":ol},{".priority":ot}),eE},enumerable:!1,configurable:!0}),e.prototype.get=function(t){var n=ou(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof Io?n:null},e.prototype.hasIndex=function(t){return Or(this.indexSet_,t.toString())},e.prototype.addIndex=function(t,n){G(t!==Yi,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r=[],i=!1,s=n.getIterator(xe.Wrap),a=s.getNext();a;)i=i||t.isDefinedOn(a.node),r.push(a),a=s.getNext();var l;i?l=Om(r,t.getCompare()):l=ol;var c=t.toString(),h=rt({},this.indexSet_);h[c]=t;var d=rt({},this.indexes_);return d[c]=l,new e(d,h)},e.prototype.addToIndexes=function(t,n){var r=this,i=Rm(this.indexes_,function(s,a){var l=ou(r.indexSet_,a);if(G(l,"Missing index implementation for "+a),s===ol)if(l.isDefinedOn(t.node)){for(var c=[],h=n.getIterator(xe.Wrap),d=h.getNext();d;)d.name!==t.name&&c.push(d),d=h.getNext();return c.push(t),Om(c,l.getCompare())}else return ol;else{var v=n.get(t.name),m=s;return v&&(m=m.remove(new xe(t.name,v))),m.insert(t,t.node)}});return new e(i,this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){var r=Rm(this.indexes_,function(i){if(i===ol)return i;var s=n.get(t.name);return s?i.remove(new xe(t.name,s)):i});return new e(r,this.indexSet_)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qf,_e=function(){function e(t,n,r){this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&vM(this.priorityNode_),this.children_.isEmpty()&&G(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return qf||(qf=new e(new Io(XT),null,Dm.Default))},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||qf},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(t){if(t===".priority")return this.getPriority();var n=this.children_.get(t);return n===null?qf:n},e.prototype.getChild=function(t){var n=Ie(t);return n===null?this:this.getImmediateChild(n).getChild(nt(t))},e.prototype.hasChild=function(t){return this.children_.get(t)!==null},e.prototype.updateImmediateChild=function(t,n){if(G(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);var r=new xe(t,n),i=void 0,s=void 0;n.isEmpty()?(i=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),s=this.indexMap_.addToIndexes(r,this.children_));var a=i.isEmpty()?qf:this.priorityNode_;return new e(i,a,s)},e.prototype.updateChild=function(t,n){var r=Ie(t);if(r===null)return n;G(Ie(t)!==".priority"||Ls(t)===1,".priority must be the last token in a path");var i=this.getImmediateChild(r).updateChild(nt(t),n);return this.updateImmediateChild(r,i)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},r=0,i=0,s=!0;if(this.forEachChild(ot,function(c,h){n[c]=h.val(t),r++,s&&e.INTEGER_REGEXP_.test(c)?i=Math.max(i,Number(c)):s=!1}),!t&&s&&i<2*r){var a=[];for(var l in n)a[l]=n[l];return a}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(this.lazyHash_===null){var t="";this.getPriority().isEmpty()||(t+="priority:"+pM(this.getPriority().val())+":"),this.forEachChild(ot,function(n,r){var i=r.hash();i!==""&&(t+=":"+n+":"+i)}),this.lazyHash_=t===""?"":z2(t)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(t,n,r){var i=this.resolveIndex_(r);if(i){var s=i.getPredecessorKey(new xe(t,n));return s?s.name:null}else return this.children_.getPredecessorKey(t)},e.prototype.getFirstChildName=function(t){var n=this.resolveIndex_(t);if(n){var r=n.minKey();return r&&r.name}else return this.children_.minKey()},e.prototype.getFirstChild=function(t){var n=this.getFirstChildName(t);return n?new xe(n,this.children_.get(n)):null},e.prototype.getLastChildName=function(t){var n=this.resolveIndex_(t);if(n){var r=n.maxKey();return r&&r.name}else return this.children_.maxKey()},e.prototype.getLastChild=function(t){var n=this.getLastChildName(t);return n?new xe(n,this.children_.get(n)):null},e.prototype.forEachChild=function(t,n){var r=this.resolveIndex_(t);return r?r.inorderTraversal(function(i){return n(i.name,i.node)}):this.children_.inorderTraversal(n)},e.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},e.prototype.getIteratorFrom=function(t,n){var r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(t,function(a){return a});for(var i=this.children_.getIteratorFrom(t.name,xe.Wrap),s=i.peek();s!=null&&n.compare(s,t)<0;)i.getNext(),s=i.peek();return i},e.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},e.prototype.getReverseIteratorFrom=function(t,n){var r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(t,function(a){return a});for(var i=this.children_.getReverseIteratorFrom(t.name,xe.Wrap),s=i.peek();s!=null&&n.compare(s,t)>0;)i.getNext(),s=i.peek();return i},e.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Cd?-1:0},e.prototype.withIndex=function(t){if(t===Yi||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(t){return t===Yi||this.indexMap_.hasIndex(t)},e.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){for(var r=this.getIterator(ot),i=n.getIterator(ot),s=r.getNext(),a=i.getNext();s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=r.getNext(),a=i.getNext()}return s===null&&a===null}else return!1;else return!1},e.prototype.resolveIndex_=function(t){return t===Yi?null:this.indexMap_.get(t.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),oK=function(e){J(t,e);function t(){return e.call(this,new Io(XT),_e.EMPTY_NODE,Dm.Default)||this}return t.prototype.compareTo=function(n){return n===this?0:1},t.prototype.equals=function(n){return n===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(n){return _e.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(_e),Cd=new oK;Object.defineProperties(xe,{MIN:{value:new xe(Lo,_e.EMPTY_NODE)},MAX:{value:new xe(to,Cd)}});dM.__EMPTY_NODE=_e.EMPTY_NODE;Yl.__childrenNodeConstructor=_e;ZH(Cd);tK(Cd);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sK=!0;function It(e,t){if(t===void 0&&(t=null),e===null)return _e.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),G(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){var n=e;return new Yl(n,It(t))}if(!(e instanceof Array)&&sK){var r=[],i=!1,s=e;if(tn(s,function(h,d){if(h.substring(0,1)!=="."){var v=It(d);v.isEmpty()||(i=i||!v.getPriority().isEmpty(),r.push(new xe(h,v)))}}),r.length===0)return _e.EMPTY_NODE;var a=Om(r,JH,function(h){return h.name},XT);if(i){var l=Om(r,ot.getCompare());return new _e(a,It(t),new Dm({".priority":l},{".priority":ot}))}else return new _e(a,It(t),Dm.Default)}else{var c=_e.EMPTY_NODE;return tn(e,function(h,d){if(Or(e,h)&&h.substring(0,1)!=="."){var v=It(d);(v.isLeafNode()||!v.isEmpty())&&(c=c.updateImmediateChild(h,v))}}),c.updatePriority(It(t))}}eK(It);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var JT=function(e){J(t,e);function t(n){var r=e.call(this)||this;return r.indexPath_=n,G(!Se(n)&&Ie(n)!==".priority","Can't create PathIndex with empty path or .priority key"),r}return t.prototype.extractChild=function(n){return n.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(n){return!n.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(n,r){var i=this.extractChild(n.node),s=this.extractChild(r.node),a=i.compareTo(s);return a===0?wu(n.name,r.name):a},t.prototype.makePost=function(n,r){var i=It(n),s=_e.EMPTY_NODE.updateChild(this.indexPath_,i);return new xe(r,s)},t.prototype.maxPost=function(){var n=_e.EMPTY_NODE.updateChild(this.indexPath_,Cd);return new xe(to,n)},t.prototype.toString=function(){return Qh(this.indexPath_,0).join("/")},t}(qg);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aK=function(e){J(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.compare=function(n,r){var i=n.node.compareTo(r.node);return i===0?wu(n.name,r.name):i},t.prototype.isDefinedOn=function(n){return!0},t.prototype.indexedValueChanged=function(n,r){return!n.equals(r)},t.prototype.minPost=function(){return xe.MIN},t.prototype.maxPost=function(){return xe.MAX},t.prototype.makePost=function(n,r){var i=It(n);return new xe(r,i)},t.prototype.toString=function(){return".value"},t}(qg),ZT=new aK;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xl="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",B1="-",yM="z",_M=786,uK=function(){var e=0,t=[];return function(n){var r=n===e;e=n;var i,s=new Array(8);for(i=7;i>=0;i--)s[i]=Xl.charAt(n%64),n=Math.floor(n/64);G(n===0,"Cannot push at time == 0");var a=s.join("");if(r){for(i=11;i>=0&&t[i]===63;i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)a+=Xl.charAt(t[i]);return G(a.length===20,"nextPushId: Length should be 20."),a}}(),CP=function(e){if(e===""+qT)return B1;var t=Pm(e);if(t!=null)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<_M)return n.push(B1),n.join("");for(var i=n.length-1;i>=0&&n[i]===yM;)i--;if(i===-1)return to;var s=n[i],a=Xl.charAt(Xl.indexOf(s)+1);return n[i]=a,n.slice(0,i+1).join("")},kP=function(e){if(e===""+K2)return Lo;var t=Pm(e);if(t!=null)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return n[n.length-1]===B1?n.length===1?""+qT:(delete n[n.length-1],n.join("")):(n[n.length-1]=Xl.charAt(Xl.indexOf(n[n.length-1])-1),n.join("")+yM.repeat(_M-n.length))};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wM(e){return{type:"value",snapshotNode:e}}function Jl(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Yh(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Xh(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function lK(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eI=function(){function e(t){this.index_=t}return e.prototype.updateChild=function(t,n,r,i,s,a){G(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var l=t.getImmediateChild(n);return l.getChild(i).equals(r.getChild(i))&&l.isEmpty()===r.isEmpty()||(a!=null&&(r.isEmpty()?t.hasChild(n)?a.trackChildChange(Yh(n,l)):G(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?a.trackChildChange(Jl(n,r)):a.trackChildChange(Xh(n,r,l))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(n,r).withIndex(this.index_)},e.prototype.updateFullNode=function(t,n,r){return r!=null&&(t.isLeafNode()||t.forEachChild(ot,function(i,s){n.hasChild(i)||r.trackChildChange(Yh(i,s))}),n.isLeafNode()||n.forEachChild(ot,function(i,s){if(t.hasChild(i)){var a=t.getImmediateChild(i);a.equals(s)||r.trackChildChange(Xh(i,s,a))}else r.trackChildChange(Jl(i,s))})),n.withIndex(this.index_)},e.prototype.updatePriority=function(t,n){return t.isEmpty()?_e.EMPTY_NODE:t.updatePriority(n)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var EM=function(){function e(t){this.indexedFilter_=new eI(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},e.prototype.updateChild=function(t,n,r,i,s,a){return this.matches(new xe(n,r))||(r=_e.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,r,i,s,a)},e.prototype.updateFullNode=function(t,n,r){n.isLeafNode()&&(n=_e.EMPTY_NODE);var i=n.withIndex(this.index_);i=i.updatePriority(_e.EMPTY_NODE);var s=this;return n.forEachChild(ot,function(a,l){s.matches(new xe(a,l))||(i=i.updateImmediateChild(a,_e.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,r)},e.prototype.updatePriority=function(t,n){return t},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(t){if(t.hasStart()){var n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()},e.getEndPost_=function(t){if(t.hasEnd()){var n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cK=function(){function e(t){this.rangedFilter_=new EM(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return e.prototype.updateChild=function(t,n,r,i,s,a){return this.rangedFilter_.matches(new xe(n,r))||(r=_e.EMPTY_NODE),t.getImmediateChild(n).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,r,i,s,a):this.fullLimitUpdateChild_(t,n,r,s,a)},e.prototype.updateFullNode=function(t,n,r){var i;if(n.isLeafNode()||n.isEmpty())i=_e.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=_e.EMPTY_NODE.withIndex(this.index_);var s=void 0;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;s.hasNext()&&a<this.limit_;){var l=s.getNext(),c=void 0;if(this.reverse_?c=this.index_.compare(this.rangedFilter_.getStartPost(),l)<=0:c=this.index_.compare(l,this.rangedFilter_.getEndPost())<=0,c)i=i.updateImmediateChild(l.name,l.node),a++;else break}}else{i=n.withIndex(this.index_),i=i.updatePriority(_e.EMPTY_NODE);var h=void 0,d=void 0,v=void 0,s=void 0;if(this.reverse_){s=i.getReverseIterator(this.index_),h=this.rangedFilter_.getEndPost(),d=this.rangedFilter_.getStartPost();var m=this.index_.getCompare();v=function(S,b){return m(b,S)}}else s=i.getIterator(this.index_),h=this.rangedFilter_.getStartPost(),d=this.rangedFilter_.getEndPost(),v=this.index_.getCompare();for(var a=0,y=!1;s.hasNext();){var l=s.getNext();!y&&v(h,l)<=0&&(y=!0);var c=y&&a<this.limit_&&v(l,d)<=0;c?a++:i=i.updateImmediateChild(l.name,_e.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,r)},e.prototype.updatePriority=function(t,n){return t},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(t,n,r,i,s){var a;if(this.reverse_){var l=this.index_.getCompare();a=function(I,k){return l(k,I)}}else a=this.index_.getCompare();var c=t;G(c.numChildren()===this.limit_,"");var h=new xe(n,r),d=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),v=this.rangedFilter_.matches(h);if(c.hasChild(n)){for(var m=c.getImmediateChild(n),y=i.getChildAfterChild(this.index_,d,this.reverse_);y!=null&&(y.name===n||c.hasChild(y.name));)y=i.getChildAfterChild(this.index_,y,this.reverse_);var _=y==null?1:a(y,h),E=v&&!r.isEmpty()&&_>=0;if(E)return s!=null&&s.trackChildChange(Xh(n,r,m)),c.updateImmediateChild(n,r);s!=null&&s.trackChildChange(Yh(n,m));var S=c.updateImmediateChild(n,_e.EMPTY_NODE),b=y!=null&&this.rangedFilter_.matches(y);return b?(s!=null&&s.trackChildChange(Jl(y.name,y.node)),S.updateImmediateChild(y.name,y.node)):S}else return r.isEmpty()?t:v&&a(d,h)>=0?(s!=null&&(s.trackChildChange(Yh(d.name,d.node)),s.trackChildChange(Jl(n,r))),c.updateImmediateChild(n,r).updateImmediateChild(d.name,_e.EMPTY_NODE)):t},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bM=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ot}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.hasStartAfter=function(){return this.startAfterSet_},e.prototype.hasEndBefore=function(){return this.endBeforeSet_},e.prototype.isViewFromLeft=function(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"},e.prototype.getIndexStartValue=function(){return G(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return G(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Lo},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return G(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return G(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:to},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&this.viewFrom_!==""},e.prototype.getLimit=function(){return G(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===ot},e.prototype.copy=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e}();function fK(e){return e.loadsAllData()?new eI(e.getIndex()):e.hasLimit()?new cK(e):new EM(e)}function hK(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}function dK(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}function $1(e,t,n){var r=e.copy();return r.startSet_=!0,t===void 0&&(t=null),r.indexStartValue_=t,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function pK(e,t,n){var r;if(e.index_===Yi)typeof t=="string"&&(t=CP(t)),r=$1(e,t,n);else{var i=void 0;n==null?i=to:i=CP(n),r=$1(e,t,i)}return r.startAfterSet_=!0,r}function z1(e,t,n){var r=e.copy();return r.endSet_=!0,t===void 0&&(t=null),r.indexEndValue_=t,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function vK(e,t,n){var r,i;return e.index_===Yi?(typeof t=="string"&&(t=kP(t)),i=z1(e,t,n)):(n==null?r=Lo:r=kP(n),i=z1(e,t,r)),i.endBeforeSet_=!0,i}function Wg(e,t){var n=e.copy();return n.index_=t,n}function NP(e){var t={};if(e.isDefault())return t;var n;return e.index_===ot?n="$priority":e.index_===ZT?n="$value":e.index_===Yi?n="$key":(G(e.index_ instanceof JT,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=Xt(n),e.startSet_&&(t.startAt=Xt(e.indexStartValue_),e.startNameSet_&&(t.startAt+=","+Xt(e.indexStartName_))),e.endSet_&&(t.endAt=Xt(e.indexEndValue_),e.endNameSet_&&(t.endAt+=","+Xt(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function RP(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==ot&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mK=function(e){J(t,e);function t(n,r,i,s){var a=e.call(this)||this;return a.repoInfo_=n,a.onDataUpdate_=r,a.authTokenProvider_=i,a.appCheckTokenProvider_=s,a.log_=Sd("p:rest:"),a.listens_={},a}return t.prototype.reportStats=function(n){throw new Error("Method not implemented.")},t.getListenId_=function(n,r){return r!==void 0?"tag$"+r:(G(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())},t.prototype.listen=function(n,r,i,s){var a=this,l=n._path.toString();this.log_("Listen called for "+l+" "+n._queryIdentifier);var c=t.getListenId_(n,i),h={};this.listens_[c]=h;var d=NP(n._queryParams);this.restRequest_(l+".json",d,function(v,m){var y=m;if(v===404&&(y=null,v=null),v===null&&a.onDataUpdate_(l,y,!1,i),ou(a.listens_,c)===h){var _;v?v===401?_="permission_denied":_="rest_error:"+v:_="ok",s(_,null)}})},t.prototype.unlisten=function(n,r){var i=t.getListenId_(n,r);delete this.listens_[i]},t.prototype.get=function(n){var r=this,i=NP(n._queryParams),s=n._path.toString(),a=new lr;return this.restRequest_(s+".json",i,function(l,c){var h=c;l===404&&(h=null,l=null),l===null?(r.onDataUpdate_(s,h,!1,null),a.resolve(h)):a.reject(new Error(h))}),a.promise},t.prototype.refreshAuthToken=function(n){},t.prototype.restRequest_=function(n,r,i){var s=this;return r===void 0&&(r={}),r.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(function(a){var l=_n(a,2),c=l[0],h=l[1];c&&c.accessToken&&(r.auth=c.accessToken),h&&h.token&&(r.ac=h.token);var d=(s.repoInfo_.secure?"https://":"http://")+s.repoInfo_.host+n+"?ns="+s.repoInfo_.namespace+vW(r);s.log_("Sending REST request for "+d);var v=new XMLHttpRequest;v.onreadystatechange=function(){if(i&&v.readyState===4){s.log_("REST Response for "+d+" received. status:",v.status,"response:",v.responseText);var m=null;if(v.status>=200&&v.status<300){try{m=Gh(v.responseText)}catch{bn("Failed to parse JSON response for "+d+": "+v.responseText)}i(null,m)}else v.status!==401&&v.status!==404&&bn("Got unsuccessful REST response for "+d+" Status: "+v.status),i(v.status);i=null}},v.open("GET",d,!0),v.send()})},t}(lM);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gK=function(){function e(){this.rootNode_=_e.EMPTY_NODE}return e.prototype.getNode=function(t){return this.rootNode_.getChild(t)},e.prototype.updateSnapshot=function(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lm(){return{value:null,children:new Map}}function Rc(e,t,n){if(Se(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{var r=Ie(t);e.children.has(r)||e.children.set(r,Lm());var i=e.children.get(r);t=nt(t),Rc(i,t,n)}}function q1(e,t){if(Se(t))return e.value=null,e.children.clear(),!0;if(e.value!==null){if(e.value.isLeafNode())return!1;var n=e.value;return e.value=null,n.forEachChild(ot,function(s,a){Rc(e,new He(s),a)}),q1(e,t)}else if(e.children.size>0){var r=Ie(t);if(t=nt(t),e.children.has(r)){var i=q1(e.children.get(r),t);i&&e.children.delete(r)}return e.children.size===0}else return!0}function W1(e,t,n){e.value!==null?n(t,e.value):yK(e,function(r,i){var s=new He(t.toString()+"/"+r);W1(i,s,n)})}function yK(e,t){e.children.forEach(function(n,r){t(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var TM=function(){function e(t){this.collection_=t,this.last_=null}return e.prototype.get=function(){var t=this.collection_.get(),n=rt({},t);return this.last_&&tn(this.last_,function(r,i){n[r]=n[r]-i}),this.last_=t,n},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var AP=10*1e3,_K=30*1e3,wK=5*60*1e3,EK=function(){function e(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new TM(t);var r=AP+(_K-AP)*Math.random();hh(this.reportStats_.bind(this),Math.floor(r))}return e.prototype.reportStats_=function(){var t=this,n=this.statsListener_.get(),r={},i=!1;tn(n,function(s,a){a>0&&Or(t.statsToReport_,s)&&(r[s]=a,i=!0)}),i&&this.server_.reportStats(r),hh(this.reportStats_.bind(this),Math.floor(Math.random()*2*wK))},e}();function bK(e,t){e.statsToReport_[t]=!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ki;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(ki||(ki={}));function tI(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function nI(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function rI(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var TK=function(){function e(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=ki.ACK_USER_WRITE,this.source=tI()}return e.prototype.operationForChild=function(t){if(Se(this.path)){if(this.affectedTree.value!=null)return G(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new He(t));return new e(Be(),n,this.revert)}else return G(Ie(this.path)===t,"operationForChild called for unrelated child."),new e(nt(this.path),this.affectedTree,this.revert)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IM=function(){function e(t,n){this.source=t,this.path=n,this.type=ki.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return Se(this.path)?new e(this.source,Be()):new e(this.source,nt(this.path))},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hg=function(){function e(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=ki.OVERWRITE}return e.prototype.operationForChild=function(t){return Se(this.path)?new e(this.source,Be(),this.snap.getImmediateChild(t)):new e(this.source,nt(this.path),this.snap)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var iI=function(){function e(t,n,r){this.source=t,this.path=n,this.children=r,this.type=ki.MERGE}return e.prototype.operationForChild=function(t){if(Se(this.path)){var n=this.children.subtree(new He(t));return n.isEmpty()?null:n.value?new Hg(this.source,Be(),n.value):new e(this.source,Be(),n)}else return G(Ie(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,nt(this.path),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ms=function(){function e(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(t){if(Se(t))return this.isFullyInitialized()&&!this.filtered_;var n=Ie(t);return this.isCompleteForChild(n)},e.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},e.prototype.getNode=function(){return this.node_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IK=function(){function e(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}return e}();function SK(e,t,n,r){var i=[],s=[];return t.forEach(function(a){a.type==="child_changed"&&e.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&s.push(lK(a.childName,a.snapshotNode))}),Wf(e,i,"child_removed",t,r,n),Wf(e,i,"child_added",t,r,n),Wf(e,i,"child_moved",s,r,n),Wf(e,i,"child_changed",t,r,n),Wf(e,i,"value",t,r,n),i}function Wf(e,t,n,r,i,s){var a=r.filter(function(l){return l.type===n});a.sort(function(l,c){return kK(e,l,c)}),a.forEach(function(l){var c=CK(e,l,s);i.forEach(function(h){h.respondsTo(l.type)&&t.push(h.createEvent(c,e.query_))})})}function CK(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function kK(e,t,n){if(t.childName==null||n.childName==null)throw Sc("Should only compare child_ events.");var r=new xe(t.childName,t.snapshotNode),i=new xe(n.childName,n.snapshotNode);return e.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kg(e,t){return{eventCache:e,serverCache:t}}function ph(e,t,n,r){return Kg(new Ms(t,n,r),e.serverCache)}function SM(e,t,n,r){return Kg(e.eventCache,new Ms(t,n,r))}function Mm(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function su(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tE,NK=function(){return tE||(tE=new Io(oH)),tE},Dr=function(){function e(t,n){n===void 0&&(n=NK()),this.value=t,this.children=n}return e.fromObject=function(t){var n=new e(null);return tn(t,function(r,i){n=n.set(new He(r),i)}),n},e.prototype.isEmpty=function(){return this.value===null&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(t,n){if(this.value!=null&&n(this.value))return{path:Be(),value:this.value};if(Se(t))return null;var r=Ie(t),i=this.children.get(r);if(i!==null){var s=i.findRootMostMatchingPathAndValue(nt(t),n);if(s!=null){var a=yt(new He(r),s.path);return{path:a,value:s.value}}else return null}else return null},e.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,function(){return!0})},e.prototype.subtree=function(t){if(Se(t))return this;var n=Ie(t),r=this.children.get(n);return r!==null?r.subtree(nt(t)):new e(null)},e.prototype.set=function(t,n){if(Se(t))return new e(n,this.children);var r=Ie(t),i=this.children.get(r)||new e(null),s=i.set(nt(t),n),a=this.children.insert(r,s);return new e(this.value,a)},e.prototype.remove=function(t){if(Se(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=Ie(t),r=this.children.get(n);if(r){var i=r.remove(nt(t)),s=void 0;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new e(null):new e(this.value,s)}else return this},e.prototype.get=function(t){if(Se(t))return this.value;var n=Ie(t),r=this.children.get(n);return r?r.get(nt(t)):null},e.prototype.setTree=function(t,n){if(Se(t))return n;var r=Ie(t),i=this.children.get(r)||new e(null),s=i.setTree(nt(t),n),a=void 0;return s.isEmpty()?a=this.children.remove(r):a=this.children.insert(r,s),new e(this.value,a)},e.prototype.fold=function(t){return this.fold_(Be(),t)},e.prototype.fold_=function(t,n){var r={};return this.children.inorderTraversal(function(i,s){r[i]=s.fold_(yt(t,i),n)}),n(t,this.value,r)},e.prototype.findOnPath=function(t,n){return this.findOnPath_(t,Be(),n)},e.prototype.findOnPath_=function(t,n,r){var i=this.value?r(n,this.value):!1;if(i)return i;if(Se(t))return null;var s=Ie(t),a=this.children.get(s);return a?a.findOnPath_(nt(t),yt(n,s),r):null},e.prototype.foreachOnPath=function(t,n){return this.foreachOnPath_(t,Be(),n)},e.prototype.foreachOnPath_=function(t,n,r){if(Se(t))return this;this.value&&r(n,this.value);var i=Ie(t),s=this.children.get(i);return s?s.foreachOnPath_(nt(t),yt(n,i),r):new e(null)},e.prototype.foreach=function(t){this.foreach_(Be(),t)},e.prototype.foreach_=function(t,n){this.children.inorderTraversal(function(r,i){i.foreach_(yt(t,r),n)}),this.value&&n(t,this.value)},e.prototype.foreachChild=function(t){this.children.inorderTraversal(function(n,r){r.value&&t(n,r.value)})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var No=function(){function e(t){this.writeTree_=t}return e.empty=function(){return new e(new Dr(null))},e}();function vh(e,t,n){if(Se(t))return new No(new Dr(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){var i=r.path,s=r.value,a=Gn(i,t);return s=s.updateChild(a,n),new No(e.writeTree_.set(i,s))}else{var l=new Dr(n),c=e.writeTree_.setTree(t,l);return new No(c)}}function H1(e,t,n){var r=e;return tn(n,function(i,s){r=vh(r,yt(t,i),s)}),r}function PP(e,t){if(Se(t))return No.empty();var n=e.writeTree_.setTree(t,new Dr(null));return new No(n)}function K1(e,t){return Eu(e,t)!=null}function Eu(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(Gn(n.path,t)):null}function xP(e){var t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ot,function(r,i){t.push(new xe(r,i))}):e.writeTree_.children.inorderTraversal(function(r,i){i.value!=null&&t.push(new xe(r,i.value))}),t}function ks(e,t){if(Se(t))return e;var n=Eu(e,t);return n!=null?new No(new Dr(n)):new No(e.writeTree_.subtree(t))}function G1(e){return e.writeTree_.isEmpty()}function Zl(e,t){return CM(Be(),e.writeTree_,t)}function CM(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal(function(i,s){i===".priority"?(G(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=CM(yt(e,i),s,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild(yt(e,".priority"),r)),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gg(e,t){return AM(t,e)}function RK(e,t,n,r,i){G(r>e.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=vh(e.visibleWrites,t,n)),e.lastWriteId=r}function AK(e,t,n,r){G(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=H1(e.visibleWrites,t,n),e.lastWriteId=r}function PK(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}function xK(e,t){var n=e.allWrites.findIndex(function(h){return h.writeId===t});G(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,s=!1,a=e.allWrites.length-1;i&&a>=0;){var l=e.allWrites[a];l.visible&&(a>=n&&OK(l,r.path)?i=!1:Yr(r.path,l.path)&&(s=!0)),a--}if(i){if(s)return DK(e),!0;if(r.snap)e.visibleWrites=PP(e.visibleWrites,r.path);else{var c=r.children;tn(c,function(h){e.visibleWrites=PP(e.visibleWrites,yt(r.path,h))})}return!0}else return!1}function OK(e,t){if(e.snap)return Yr(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&Yr(yt(e.path,n),t))return!0;return!1}function DK(e){e.visibleWrites=kM(e.allWrites,LK,Be()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function LK(e){return e.visible}function kM(e,t,n){for(var r=No.empty(),i=0;i<e.length;++i){var s=e[i];if(t(s)){var a=s.path,l=void 0;if(s.snap)Yr(n,a)?(l=Gn(n,a),r=vh(r,l,s.snap)):Yr(a,n)&&(l=Gn(a,n),r=vh(r,Be(),s.snap.getChild(l)));else if(s.children){if(Yr(n,a))l=Gn(n,a),r=H1(r,l,s.children);else if(Yr(a,n))if(l=Gn(a,n),Se(l))r=H1(r,Be(),s.children);else{var c=ou(s.children,Ie(l));if(c){var h=c.getChild(nt(l));r=vh(r,Be(),h)}}}else throw Sc("WriteRecord should have .snap or .children")}}return r}function NM(e,t,n,r,i){if(!r&&!i){var s=Eu(e.visibleWrites,t);if(s!=null)return s;var a=ks(e.visibleWrites,t);if(G1(a))return n;if(n==null&&!K1(a,Be()))return null;var l=n||_e.EMPTY_NODE;return Zl(a,l)}else{var c=ks(e.visibleWrites,t);if(!i&&G1(c))return n;if(!i&&n==null&&!K1(c,Be()))return null;var h=function(m){return(m.visible||i)&&(!r||!~r.indexOf(m.writeId))&&(Yr(m.path,t)||Yr(t,m.path))},d=kM(e.allWrites,h,t),l=n||_e.EMPTY_NODE;return Zl(d,l)}}function MK(e,t,n){var r=_e.EMPTY_NODE,i=Eu(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(ot,function(l,c){r=r.updateImmediateChild(l,c)}),r;if(n){var s=ks(e.visibleWrites,t);return n.forEachChild(ot,function(l,c){var h=Zl(ks(s,new He(l)),c);r=r.updateImmediateChild(l,h)}),xP(s).forEach(function(l){r=r.updateImmediateChild(l.name,l.node)}),r}else{var a=ks(e.visibleWrites,t);return xP(a).forEach(function(l){r=r.updateImmediateChild(l.name,l.node)}),r}}function FK(e,t,n,r,i){G(r||i,"Either existingEventSnap or existingServerSnap must exist");var s=yt(t,n);if(K1(e.visibleWrites,s))return null;var a=ks(e.visibleWrites,s);return G1(a)?i.getChild(n):Zl(a,i.getChild(n))}function UK(e,t,n,r){var i=yt(t,n),s=Eu(e.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){var a=ks(e.visibleWrites,i);return Zl(a,r.getNode().getImmediateChild(n))}else return null}function jK(e,t){return Eu(e.visibleWrites,t)}function VK(e,t,n,r,i,s,a){var l,c=ks(e.visibleWrites,t),h=Eu(c,Be());if(h!=null)l=h;else if(n!=null)l=Zl(c,n);else return[];if(l=l.withIndex(a),!l.isEmpty()&&!l.isLeafNode()){for(var d=[],v=a.getCompare(),m=s?l.getReverseIteratorFrom(r,a):l.getIteratorFrom(r,a),y=m.getNext();y&&d.length<i;)v(y,r)!==0&&d.push(y),y=m.getNext();return d}else return[]}function BK(){return{visibleWrites:No.empty(),allWrites:[],lastWriteId:-1}}function Fm(e,t,n,r){return NM(e.writeTree,e.treePath,t,n,r)}function oI(e,t){return MK(e.writeTree,e.treePath,t)}function OP(e,t,n,r){return FK(e.writeTree,e.treePath,t,n,r)}function Um(e,t){return jK(e.writeTree,yt(e.treePath,t))}function $K(e,t,n,r,i,s){return VK(e.writeTree,e.treePath,t,n,r,i,s)}function sI(e,t,n){return UK(e.writeTree,e.treePath,t,n)}function RM(e,t){return AM(yt(e.treePath,t),e.writeTree)}function AM(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zK=function(){function e(){this.changeMap=new Map}return e.prototype.trackChildChange=function(t){var n=t.type,r=t.childName;G(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),G(r!==".priority","Only non-priority child changes can be tracked.");var i=this.changeMap.get(r);if(i){var s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,Xh(r,t.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,Yh(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,Jl(r,t.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,Xh(r,t.snapshotNode,i.oldSnap));else throw Sc("Illegal combination of changes: "+t+" occurred after "+i)}else this.changeMap.set(r,t)},e.prototype.getChanges=function(){return Array.from(this.changeMap.values())},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qK=function(){function e(){}return e.prototype.getCompleteChild=function(t){return null},e.prototype.getChildAfterChild=function(t,n,r){return null},e}(),PM=new qK,aI=function(){function e(t,n,r){r===void 0&&(r=null),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return e.prototype.getCompleteChild=function(t){var n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);var r=this.optCompleteServerCache_!=null?new Ms(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return sI(this.writes_,t,r)},e.prototype.getChildAfterChild=function(t,n,r){var i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:su(this.viewCache_),s=$K(this.writes_,i,n,1,r,t);return s.length===0?null:s[0]},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WK(e){return{filter:e}}function HK(e,t){G(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),G(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function KK(e,t,n,r,i){var s=new zK,a,l;if(n.type===ki.OVERWRITE){var c=n;c.source.fromUser?a=Q1(e,t,c.path,c.snap,r,i,s):(G(c.source.fromServer,"Unknown source."),l=c.source.tagged||t.serverCache.isFiltered()&&!Se(c.path),a=jm(e,t,c.path,c.snap,r,i,l,s))}else if(n.type===ki.MERGE){var h=n;h.source.fromUser?a=QK(e,t,h.path,h.children,r,i,s):(G(h.source.fromServer,"Unknown source."),l=h.source.tagged||t.serverCache.isFiltered(),a=Y1(e,t,h.path,h.children,r,i,l,s))}else if(n.type===ki.ACK_USER_WRITE){var d=n;d.revert?a=JK(e,t,d.path,r,i,s):a=YK(e,t,d.path,d.affectedTree,r,i,s)}else if(n.type===ki.LISTEN_COMPLETE)a=XK(e,t,n.path,r,s);else throw Sc("Unknown operation type: "+n.type);var v=s.getChanges();return GK(t,a,v),{viewCache:a,changes:v}}function GK(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Mm(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(wM(Mm(t)))}}function xM(e,t,n,r,i,s){var a=t.eventCache;if(Um(r,n)!=null)return t;var l=void 0,c=void 0;if(Se(n))if(G(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var h=su(t),d=h instanceof _e?h:_e.EMPTY_NODE,v=oI(r,d);l=e.filter.updateFullNode(t.eventCache.getNode(),v,s)}else{var m=Fm(r,su(t));l=e.filter.updateFullNode(t.eventCache.getNode(),m,s)}else{var y=Ie(n);if(y===".priority"){G(Ls(n)===1,"Can't have a priority with additional path components");var _=a.getNode();c=t.serverCache.getNode();var E=OP(r,n,_,c);E!=null?l=e.filter.updatePriority(_,E):l=a.getNode()}else{var S=nt(n),b=void 0;if(a.isCompleteForChild(y)){c=t.serverCache.getNode();var I=OP(r,n,a.getNode(),c);I!=null?b=a.getNode().getImmediateChild(y).updateChild(S,I):b=a.getNode().getImmediateChild(y)}else b=sI(r,y,t.serverCache);b!=null?l=e.filter.updateChild(a.getNode(),y,b,S,i,s):l=a.getNode()}}return ph(t,l,a.isFullyInitialized()||Se(n),e.filter.filtersNodes())}function jm(e,t,n,r,i,s,a,l){var c=t.serverCache,h,d=a?e.filter:e.filter.getIndexedFilter();if(Se(n))h=d.updateFullNode(c.getNode(),r,null);else if(d.filtersNodes()&&!c.isFiltered()){var v=c.getNode().updateChild(n,r);h=d.updateFullNode(c.getNode(),v,null)}else{var m=Ie(n);if(!c.isCompleteForPath(n)&&Ls(n)>1)return t;var y=nt(n),_=c.getNode().getImmediateChild(m),E=_.updateChild(y,r);m===".priority"?h=d.updatePriority(c.getNode(),E):h=d.updateChild(c.getNode(),m,E,y,PM,null)}var S=SM(t,h,c.isFullyInitialized()||Se(n),d.filtersNodes()),b=new aI(i,S,s);return xM(e,S,n,i,b,l)}function Q1(e,t,n,r,i,s,a){var l=t.eventCache,c,h,d=new aI(i,t,s);if(Se(n))h=e.filter.updateFullNode(t.eventCache.getNode(),r,a),c=ph(t,h,!0,e.filter.filtersNodes());else{var v=Ie(n);if(v===".priority")h=e.filter.updatePriority(t.eventCache.getNode(),r),c=ph(t,h,l.isFullyInitialized(),l.isFiltered());else{var m=nt(n),y=l.getNode().getImmediateChild(v),_=void 0;if(Se(m))_=r;else{var E=d.getCompleteChild(v);E!=null?QT(m)===".priority"&&E.getChild(fM(m)).isEmpty()?_=E:_=E.updateChild(m,r):_=_e.EMPTY_NODE}if(y.equals(_))c=t;else{var S=e.filter.updateChild(l.getNode(),v,_,m,d,a);c=ph(t,S,l.isFullyInitialized(),e.filter.filtersNodes())}}}return c}function DP(e,t){return e.eventCache.isCompleteForChild(t)}function QK(e,t,n,r,i,s,a){var l=t;return r.foreach(function(c,h){var d=yt(n,c);DP(t,Ie(d))&&(l=Q1(e,l,d,h,i,s,a))}),r.foreach(function(c,h){var d=yt(n,c);DP(t,Ie(d))||(l=Q1(e,l,d,h,i,s,a))}),l}function LP(e,t,n){return n.foreach(function(r,i){t=t.updateChild(r,i)}),t}function Y1(e,t,n,r,i,s,a,l){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var c=t,h;Se(n)?h=r:h=new Dr(null).setTree(n,r);var d=t.serverCache.getNode();return h.children.inorderTraversal(function(v,m){if(d.hasChild(v)){var y=t.serverCache.getNode().getImmediateChild(v),_=LP(e,y,m);c=jm(e,c,new He(v),_,i,s,a,l)}}),h.children.inorderTraversal(function(v,m){var y=!t.serverCache.isCompleteForChild(v)&&m.value===void 0;if(!d.hasChild(v)&&!y){var _=t.serverCache.getNode().getImmediateChild(v),E=LP(e,_,m);c=jm(e,c,new He(v),E,i,s,a,l)}}),c}function YK(e,t,n,r,i,s,a){if(Um(i,n)!=null)return t;var l=t.serverCache.isFiltered(),c=t.serverCache;if(r.value!=null){if(Se(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return jm(e,t,n,c.getNode().getChild(n),i,s,l,a);if(Se(n)){var h=new Dr(null);return c.getNode().forEachChild(Yi,function(v,m){h=h.set(new He(v),m)}),Y1(e,t,n,h,i,s,l,a)}else return t}else{var d=new Dr(null);return r.foreach(function(v,m){var y=yt(n,v);c.isCompleteForPath(y)&&(d=d.set(v,c.getNode().getChild(y)))}),Y1(e,t,n,d,i,s,l,a)}}function XK(e,t,n,r,i){var s=t.serverCache,a=SM(t,s.getNode(),s.isFullyInitialized()||Se(n),s.isFiltered());return xM(e,a,n,r,PM,i)}function JK(e,t,n,r,i,s){var a;if(Um(r,n)!=null)return t;var l=new aI(r,t,i),c=t.eventCache.getNode(),h=void 0;if(Se(n)||Ie(n)===".priority"){var d=void 0;if(t.serverCache.isFullyInitialized())d=Fm(r,su(t));else{var v=t.serverCache.getNode();G(v instanceof _e,"serverChildren would be complete if leaf node"),d=oI(r,v)}d=d,h=e.filter.updateFullNode(c,d,s)}else{var m=Ie(n),y=sI(r,m,t.serverCache);y==null&&t.serverCache.isCompleteForChild(m)&&(y=c.getImmediateChild(m)),y!=null?h=e.filter.updateChild(c,m,y,nt(n),l,s):t.eventCache.getNode().hasChild(m)?h=e.filter.updateChild(c,m,_e.EMPTY_NODE,nt(n),l,s):h=c,h.isEmpty()&&t.serverCache.isFullyInitialized()&&(a=Fm(r,su(t)),a.isLeafNode()&&(h=e.filter.updateFullNode(h,a,s)))}return a=t.serverCache.isFullyInitialized()||Um(r,Be())!=null,ph(t,h,a,e.filter.filtersNodes())}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ZK=function(){function e(t,n){this.query_=t,this.eventRegistrations_=[];var r=this.query_._queryParams,i=new eI(r.getIndex()),s=fK(r);this.processor_=WK(s);var a=n.serverCache,l=n.eventCache,c=i.updateFullNode(_e.EMPTY_NODE,a.getNode(),null),h=s.updateFullNode(_e.EMPTY_NODE,l.getNode(),null),d=new Ms(c,a.isFullyInitialized(),i.filtersNodes()),v=new Ms(h,l.isFullyInitialized(),s.filtersNodes());this.viewCache_=Kg(v,d),this.eventGenerator_=new IK(this.query_)}return Object.defineProperty(e.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),e}();function eG(e){return e.viewCache_.serverCache.getNode()}function tG(e){return Mm(e.viewCache_)}function nG(e,t){var n=su(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Se(t)&&!n.getImmediateChild(Ie(t)).isEmpty())?n.getChild(t):null}function MP(e){return e.eventRegistrations_.length===0}function rG(e,t){e.eventRegistrations_.push(t)}function FP(e,t,n){var r=[];if(n){G(t==null,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach(function(c){var h=c.createCancelEvent(n,i);h&&r.push(h)})}if(t){for(var s=[],a=0;a<e.eventRegistrations_.length;++a){var l=e.eventRegistrations_[a];if(!l.matches(t))s.push(l);else if(t.hasAnyCallback()){s=s.concat(e.eventRegistrations_.slice(a+1));break}}e.eventRegistrations_=s}else e.eventRegistrations_=[];return r}function UP(e,t,n,r){t.type===ki.MERGE&&t.source.queryId!==null&&(G(su(e.viewCache_),"We should always have a full cache before handling merges"),G(Mm(e.viewCache_),"Missing event cache, even though we have a server cache"));var i=e.viewCache_,s=KK(e.processor_,i,t,n,r);return HK(e.processor_,s.viewCache),G(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,OM(e,s.changes,s.viewCache.eventCache.getNode(),null)}function iG(e,t){var n=e.viewCache_.eventCache,r=[];if(!n.getNode().isLeafNode()){var i=n.getNode();i.forEachChild(ot,function(s,a){r.push(Jl(s,a))})}return n.isFullyInitialized()&&r.push(wM(n.getNode())),OM(e,r,n.getNode(),t)}function OM(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return SK(e.eventGenerator_,t,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vm,DM=function(){function e(){this.views=new Map}return e}();function oG(e){G(!Vm,"__referenceConstructor has already been defined"),Vm=e}function sG(){return G(Vm,"Reference.ts has not been loaded"),Vm}function aG(e){return e.views.size===0}function uI(e,t,n,r){var i,s,a=t.source.queryId;if(a!==null){var l=e.views.get(a);return G(l!=null,"SyncTree gave us an op for an invalid query."),UP(l,t,n,r)}else{var c=[];try{for(var h=pn(e.views.values()),d=h.next();!d.done;d=h.next()){var l=d.value;c=c.concat(UP(l,t,n,r))}}catch(v){i={error:v}}finally{try{d&&!d.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}return c}}function LM(e,t,n,r,i){var s=t._queryIdentifier,a=e.views.get(s);if(!a){var l=Fm(n,i?r:null),c=!1;l?c=!0:r instanceof _e?(l=oI(n,r),c=!1):(l=_e.EMPTY_NODE,c=!1);var h=Kg(new Ms(l,c,!1),new Ms(r,i,!1));return new ZK(t,h)}return a}function uG(e,t,n,r,i,s){var a=LM(e,t,r,i,s);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),rG(a,n),iG(a,n)}function lG(e,t,n,r){var i,s,a=t._queryIdentifier,l=[],c=[],h=Fs(e);if(a==="default")try{for(var d=pn(e.views.entries()),v=d.next();!v.done;v=d.next()){var m=_n(v.value,2),y=m[0],_=m[1];c=c.concat(FP(_,n,r)),MP(_)&&(e.views.delete(y),_.query._queryParams.loadsAllData()||l.push(_.query))}}catch(E){i={error:E}}finally{try{v&&!v.done&&(s=d.return)&&s.call(d)}finally{if(i)throw i.error}}else{var _=e.views.get(a);_&&(c=c.concat(FP(_,n,r)),MP(_)&&(e.views.delete(a),_.query._queryParams.loadsAllData()||l.push(_.query)))}return h&&!Fs(e)&&l.push(new(sG())(t._repo,t._path)),{removed:l,events:c}}function MM(e){var t,n,r=[];try{for(var i=pn(e.views.values()),s=i.next();!s.done;s=i.next()){var a=s.value;a.query._queryParams.loadsAllData()||r.push(a)}}catch(l){t={error:l}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function Ns(e,t){var n,r,i=null;try{for(var s=pn(e.views.values()),a=s.next();!a.done;a=s.next()){var l=a.value;i=i||nG(l,t)}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return i}function FM(e,t){var n=t._queryParams;if(n.loadsAllData())return Qg(e);var r=t._queryIdentifier;return e.views.get(r)}function UM(e,t){return FM(e,t)!=null}function Fs(e){return Qg(e)!=null}function Qg(e){var t,n;try{for(var r=pn(e.views.values()),i=r.next();!i.done;i=r.next()){var s=i.value;if(s.query._queryParams.loadsAllData())return s}}catch(a){t={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bm;function cG(e){G(!Bm,"__referenceConstructor has already been defined"),Bm=e}function fG(){return G(Bm,"Reference.ts has not been loaded"),Bm}var hG=1,jP=function(){function e(t){this.listenProvider_=t,this.syncPointTree_=new Dr(null),this.pendingWriteTree_=BK(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return e}();function lI(e,t,n,r,i){return RK(e.pendingWriteTree_,t,n,r,i),i?Ac(e,new Hg(tI(),t,n)):[]}function dG(e,t,n,r){AK(e.pendingWriteTree_,t,n,r);var i=Dr.fromObject(n);return Ac(e,new iI(tI(),t,i))}function ms(e,t,n){n===void 0&&(n=!1);var r=PK(e.pendingWriteTree_,t),i=xK(e.pendingWriteTree_,t);if(i){var s=new Dr(null);return r.snap!=null?s=s.set(Be(),!0):tn(r.children,function(a){s=s.set(new He(a),!0)}),Ac(e,new TK(r.path,s,n))}else return[]}function kd(e,t,n){return Ac(e,new Hg(nI(),t,n))}function pG(e,t,n){var r=Dr.fromObject(n);return Ac(e,new iI(nI(),t,r))}function vG(e,t){return Ac(e,new IM(nI(),t))}function mG(e,t,n){var r=cI(e,n);if(r){var i=fI(r),s=i.path,a=i.queryId,l=Gn(s,t),c=new IM(rI(a),l);return hI(e,s,c)}else return[]}function X1(e,t,n,r){var i=t._path,s=e.syncPointTree_.get(i),a=[];if(s&&(t._queryIdentifier==="default"||UM(s,t))){var l=lG(s,t,n,r);aG(s)&&(e.syncPointTree_=e.syncPointTree_.remove(i));var c=l.removed;a=l.events;var h=c.findIndex(function(I){return I._queryParams.loadsAllData()})!==-1,d=e.syncPointTree_.findOnPath(i,function(I,k){return Fs(k)});if(h&&!d){var v=e.syncPointTree_.subtree(i);if(!v.isEmpty())for(var m=wG(v),y=0;y<m.length;++y){var _=m[y],E=_.query,S=BM(e,_);e.listenProvider_.startListening(mh(E),$m(e,E),S.hashFn,S.onComplete)}}if(!d&&c.length>0&&!r)if(h){var b=null;e.listenProvider_.stopListening(mh(t),b)}else c.forEach(function(I){var k=e.queryToTagMap.get(Xg(I));e.listenProvider_.stopListening(mh(I),k)});EG(e,c)}return a}function gG(e,t,n,r){var i=cI(e,r);if(i!=null){var s=fI(i),a=s.path,l=s.queryId,c=Gn(a,t),h=new Hg(rI(l),c,n);return hI(e,a,h)}else return[]}function yG(e,t,n,r){var i=cI(e,r);if(i){var s=fI(i),a=s.path,l=s.queryId,c=Gn(a,t),h=Dr.fromObject(n),d=new iI(rI(l),c,h);return hI(e,a,d)}else return[]}function VP(e,t,n){var r=t._path,i=null,s=!1;e.syncPointTree_.foreachOnPath(r,function(E,S){var b=Gn(E,r);i=i||Ns(S,b),s=s||Fs(S)});var a=e.syncPointTree_.get(r);a?(s=s||Fs(a),i=i||Ns(a,Be())):(a=new DM,e.syncPointTree_=e.syncPointTree_.set(r,a));var l;if(i!=null)l=!0;else{l=!1,i=_e.EMPTY_NODE;var c=e.syncPointTree_.subtree(r);c.foreachChild(function(E,S){var b=Ns(S,Be());b&&(i=i.updateImmediateChild(E,b))})}var h=UM(a,t);if(!h&&!t._queryParams.loadsAllData()){var d=Xg(t);G(!e.queryToTagMap.has(d),"View does not exist, but we have a tag");var v=bG();e.queryToTagMap.set(d,v),e.tagToQueryMap.set(v,d)}var m=Gg(e.pendingWriteTree_,r),y=uG(a,t,n,m,i,l);if(!h&&!s){var _=FM(a,t);y=y.concat(TG(e,t,_))}return y}function Yg(e,t,n){var r=!0,i=e.pendingWriteTree_,s=e.syncPointTree_.findOnPath(t,function(a,l){var c=Gn(a,t),h=Ns(l,c);if(h)return h});return NM(i,t,s,n,r)}function _G(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,function(h,d){var v=Gn(h,n);r=r||Ns(d,v)});var i=e.syncPointTree_.get(n);i?r=r||Ns(i,Be()):(i=new DM,e.syncPointTree_=e.syncPointTree_.set(n,i));var s=r!=null,a=s?new Ms(r,!0,!1):null,l=Gg(e.pendingWriteTree_,t._path),c=LM(i,t,l,s?a.getNode():_e.EMPTY_NODE,s);return tG(c)}function Ac(e,t){return jM(t,e.syncPointTree_,null,Gg(e.pendingWriteTree_,Be()))}function jM(e,t,n,r){if(Se(e.path))return VM(e,t,n,r);var i=t.get(Be());n==null&&i!=null&&(n=Ns(i,Be()));var s=[],a=Ie(e.path),l=e.operationForChild(a),c=t.children.get(a);if(c&&l){var h=n?n.getImmediateChild(a):null,d=RM(r,a);s=s.concat(jM(l,c,h,d))}return i&&(s=s.concat(uI(i,e,r,n))),s}function VM(e,t,n,r){var i=t.get(Be());n==null&&i!=null&&(n=Ns(i,Be()));var s=[];return t.children.inorderTraversal(function(a,l){var c=n?n.getImmediateChild(a):null,h=RM(r,a),d=e.operationForChild(a);d&&(s=s.concat(VM(d,l,c,h)))}),i&&(s=s.concat(uI(i,e,r,n))),s}function BM(e,t){var n=t.query,r=$m(e,n);return{hashFn:function(){var i=eG(t)||_e.EMPTY_NODE;return i.hash()},onComplete:function(i){if(i==="ok")return r?mG(e,n._path,r):vG(e,n._path);var s=uH(i,n);return X1(e,n,null,s)}}}function $m(e,t){var n=Xg(t);return e.queryToTagMap.get(n)}function Xg(e){return e._path.toString()+"$"+e._queryIdentifier}function cI(e,t){return e.tagToQueryMap.get(t)}function fI(e){var t=e.indexOf("$");return G(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new He(e.substr(0,t))}}function hI(e,t,n){var r=e.syncPointTree_.get(t);G(r,"Missing sync point for query tag that we're tracking");var i=Gg(e.pendingWriteTree_,t);return uI(r,n,i,null)}function wG(e){return e.fold(function(t,n,r){if(n&&Fs(n)){var i=Qg(n);return[i]}else{var s=[];return n&&(s=MM(n)),tn(r,function(a,l){s=s.concat(l)}),s}})}function mh(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(fG())(e._repo,e._path):e}function EG(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=Xg(r),s=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(s)}}}function bG(){return hG++}function TG(e,t,n){var r=t._path,i=$m(e,t),s=BM(e,n),a=e.listenProvider_.startListening(mh(t),i,s.hashFn,s.onComplete),l=e.syncPointTree_.subtree(r);if(i)G(!Fs(l.value),"If we're adding a query, it shouldn't be shadowed");else for(var c=l.fold(function(v,m,y){if(!Se(v)&&m&&Fs(m))return[Qg(m).query];var _=[];return m&&(_=_.concat(MM(m).map(function(E){return E.query}))),tn(y,function(E,S){_=_.concat(S)}),_}),h=0;h<c.length;++h){var d=c[h];e.listenProvider_.stopListening(mh(d),$m(e,d))}return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IG=function(){function e(t){this.node_=t}return e.prototype.getImmediateChild=function(t){var n=this.node_.getImmediateChild(t);return new e(n)},e.prototype.node=function(){return this.node_},e}(),SG=function(){function e(t,n){this.syncTree_=t,this.path_=n}return e.prototype.getImmediateChild=function(t){var n=yt(this.path_,t);return new e(this.syncTree_,n)},e.prototype.node=function(){return Yg(this.syncTree_,this.path_)},e}(),CG=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},BP=function(e,t,n){if(!e||typeof e!="object")return e;if(G(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return kG(e[".sv"],t,n);if(typeof e[".sv"]=="object")return NG(e[".sv"],t);G(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},kG=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:G(!1,"Unexpected server value: "+e)}},NG=function(e,t,n){e.hasOwnProperty("increment")||G(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;typeof r!="number"&&G(!1,"Unexpected increment value: "+r);var i=t.node();if(G(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var s=i,a=s.getValue();return typeof a!="number"?r:a+r},$M=function(e,t,n,r){return pI(t,new SG(n,e),r)},dI=function(e,t,n){return pI(e,new IG(t),n)};function pI(e,t,n){var r=e.getPriority().val(),i=BP(r,t.getImmediateChild(".priority"),n),s;if(e.isLeafNode()){var a=e,l=BP(a.getValue(),t,n);return l!==a.getValue()||i!==a.getPriority().val()?new Yl(l,It(i)):e}else{var c=e;return s=c,i!==c.getPriority().val()&&(s=s.updatePriority(new Yl(i))),c.forEachChild(ot,function(h,d){var v=pI(d,t.getImmediateChild(h),n);v!==d&&(s=s.updateImmediateChild(h,v))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vI=function(){function e(t,n,r){t===void 0&&(t=""),n===void 0&&(n=null),r===void 0&&(r={children:{},childCount:0}),this.name=t,this.parent=n,this.node=r}return e}();function Jg(e,t){for(var n=t instanceof He?t:new He(t),r=e,i=Ie(n);i!==null;){var s=ou(r.node.children,i)||{children:{},childCount:0};r=new vI(i,r,s),n=nt(n),i=Ie(n)}return r}function bu(e){return e.node.value}function mI(e,t){e.node.value=t,J1(e)}function zM(e){return e.node.childCount>0}function RG(e){return bu(e)===void 0&&!zM(e)}function Zg(e,t){tn(e.node.children,function(n,r){t(new vI(n,e,r))})}function qM(e,t,n,r){n&&!r&&t(e),Zg(e,function(i){qM(i,t,!0,r)}),n&&r&&t(e)}function AG(e,t,n){for(var r=n?e:e.parent;r!==null;){if(t(r))return!0;r=r.parent}return!1}function Nd(e){return new He(e.parent===null?e.name:Nd(e.parent)+"/"+e.name)}function J1(e){e.parent!==null&&PG(e.parent,e.name,e)}function PG(e,t,n){var r=RG(n),i=Or(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,J1(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,J1(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xG=/[\[\].#$\/\u0000-\u001F\u007F]/,OG=/[\[\].#$\u0000-\u001F\u007F]/,nE=10*1024*1024,ey=function(e){return typeof e=="string"&&e.length!==0&&!xG.test(e)},WM=function(e){return typeof e=="string"&&e.length!==0&&!OG.test(e)},DG=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),WM(e)},Jh=function(e){return e===null||typeof e=="string"||typeof e=="number"&&!zg(e)||e&&typeof e=="object"&&Or(e,".sv")},no=function(e,t,n,r){r&&t===void 0||Rd(mr(e,"value"),t,n)},Rd=function(e,t,n){var r=n instanceof He?new $H(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+Na(r));if(typeof t=="function")throw new Error(e+"contains a function "+Na(r)+" with contents = "+t.toString());if(zg(t))throw new Error(e+"contains "+t.toString()+" "+Na(r));if(typeof t=="string"&&t.length>nE/3&&$g(t)>nE)throw new Error(e+"contains a string greater than "+nE+" utf8 bytes "+Na(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){var i=!1,s=!1;if(tn(t,function(a,l){if(a===".value")i=!0;else if(a!==".priority"&&a!==".sv"&&(s=!0,!ey(a)))throw new Error(e+" contains an invalid key ("+a+") "+Na(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);zH(r,a),Rd(e,l,r),qH(r)}),i&&s)throw new Error(e+' contains ".value" child '+Na(r)+" in addition to actual children.")}},LG=function(e,t){var n,r;for(n=0;n<t.length;n++){r=t[n];for(var i=Qh(r),s=0;s<i.length;s++)if(!(i[s]===".priority"&&s===i.length-1)){if(!ey(i[s]))throw new Error(e+"contains an invalid key ("+i[s]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(BH);var a=null;for(n=0;n<t.length;n++){if(r=t[n],a!==null&&Yr(a,r))throw new Error(e+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}},HM=function(e,t,n,r){if(!(r&&t===void 0)){var i=mr(e,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var s=[];tn(t,function(a,l){var c=new He(a);if(Rd(i,l,yt(n,c)),QT(c)===".priority"&&!Jh(l))throw new Error(i+"contains an invalid value for '"+c.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(c)}),LG(i,s)}},gI=function(e,t,n){if(!(n&&t===void 0)){if(zg(t))throw new Error(mr(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Jh(t))throw new Error(mr(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},MG=function(e,t,n){if(!(n&&t===void 0))switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(mr(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Ad=function(e,t,n,r){if(!(r&&n===void 0)&&!ey(n))throw new Error(mr(e,t)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},Zh=function(e,t,n,r){if(!(r&&n===void 0)&&!WM(n))throw new Error(mr(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},FG=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Zh(e,t,n,r)},Xr=function(e,t){if(Ie(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},KM=function(e,t){var n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!ey(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!DG(n))throw new Error(mr(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)},UG=function(e,t,n,r){if(!(r&&n===void 0)&&typeof n!="boolean")throw new Error(mr(e,t)+"must be a boolean.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jG=function(){function e(){this.eventLists_=[],this.recursionDepth_=0}return e}();function ty(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],s=i.getPath();n!==null&&!YT(s,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&e.eventLists_.push(n)}function yI(e,t,n){ty(e,n),GM(e,function(r){return YT(r,t)})}function si(e,t,n){ty(e,n),GM(e,function(r){return Yr(r,t)||Yr(t,r)})}function GM(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i){var s=i.path;t(s)?(VG(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function VG(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(n!==null){e.events[t]=null;var r=n.getEventRunner();Wa&&cn("event: "+n.toString()),Nc(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var QM="repo_interrupt",BG=25,$G=function(){function e(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new jG,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Lm(),this.transactionQueueTree_=new vI,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e}();function zG(e,t,n){if(e.stats_=KT(e.repoInfo_),e.forceRestClient_||cH())e.server_=new mK(e.repoInfo_,function(r,i,s,a){$P(e,r,i,s,a)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(function(){return zP(e,!0)},0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Xt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Ha(e.repoInfo_,t,function(r,i,s,a){$P(e,r,i,s,a)},function(r){zP(e,r)},function(r){WG(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(function(r){e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(function(r){e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=mH(e.repoInfo_,function(){return new EK(e.stats_,e.server_)}),e.infoData_=new gK,e.infoSyncTree_=new jP({startListening:function(r,i,s,a){var l=[],c=e.infoData_.getNode(r._path);return c.isEmpty()||(l=kd(e.infoSyncTree_,r._path,c),setTimeout(function(){a("ok")},0)),l},stopListening:function(){}}),_I(e,"connected",!1),e.serverSyncTree_=new jP({startListening:function(r,i,s,a){return e.server_.listen(r,s,i,function(l,c){var h=a(l,c);si(e.eventQueue_,r._path,h)}),[]},stopListening:function(r,i){e.server_.unlisten(r,i)}})}function YM(e){var t=e.infoData_.getNode(new He(".info/serverTimeOffset")),n=t.val()||0;return new Date().getTime()+n}function Pd(e){return CG({timestamp:YM(e)})}function $P(e,t,n,r,i){e.dataUpdateCount++;var s=new He(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var a=[];if(i)if(r){var l=Rm(n,function(m){return It(m)});a=yG(e.serverSyncTree_,s,l,i)}else{var c=It(n);a=gG(e.serverSyncTree_,s,c,i)}else if(r){var h=Rm(n,function(m){return It(m)});a=pG(e.serverSyncTree_,s,h)}else{var d=It(n);a=kd(e.serverSyncTree_,s,d)}var v=s;a.length>0&&(v=ec(e,s)),si(e.eventQueue_,v,a)}function qG(e,t){e.interceptServerDataCallback_=t}function zP(e,t){_I(e,"connected",t),t===!1&&GG(e)}function WG(e,t){tn(t,function(n,r){_I(e,n,r)})}function _I(e,t,n){var r=new He("/.info/"+t),i=It(n);e.infoData_.updateSnapshot(r,i);var s=kd(e.infoSyncTree_,r,i);si(e.eventQueue_,r,s)}function ny(e){return e.nextWriteId_++}function HG(e,t){var n=_G(e.serverSyncTree_,t);return n!=null?Promise.resolve(n):e.server_.get(t).then(function(r){var i=It(r),s=kd(e.serverSyncTree_,t._path,i);return yI(e.eventQueue_,t._path,s),Promise.resolve(i)},function(r){return Pc(e,"get for query "+Xt(t)+" failed: "+r),Promise.reject(new Error(r))})}function wI(e,t,n,r,i){Pc(e,"set",{path:t.toString(),value:n,priority:r});var s=Pd(e),a=It(n,r),l=Yg(e.serverSyncTree_,t),c=dI(a,l,s),h=ny(e),d=lI(e.serverSyncTree_,t,c,h,!0);ty(e.eventQueue_,d),e.server_.put(t.toString(),a.val(!0),function(m,y){var _=m==="ok";_||bn("set at "+t+" failed: "+m);var E=ms(e.serverSyncTree_,h,!_);si(e.eventQueue_,t,E),Us(e,i,m,y)});var v=bI(e,t);ec(e,v),si(e.eventQueue_,v,[])}function KG(e,t,n,r){Pc(e,"update",{path:t.toString(),value:n});var i=!0,s=Pd(e),a={};if(tn(n,function(h,d){i=!1,a[h]=$M(yt(t,h),It(d),e.serverSyncTree_,s)}),i)cn("update() called with empty data.  Don't do anything."),Us(e,r,"ok",void 0);else{var l=ny(e),c=dG(e.serverSyncTree_,t,a,l);ty(e.eventQueue_,c),e.server_.merge(t.toString(),n,function(h,d){var v=h==="ok";v||bn("update at "+t+" failed: "+h);var m=ms(e.serverSyncTree_,l,!v),y=m.length>0?ec(e,t):t;si(e.eventQueue_,y,m),Us(e,r,h,d)}),tn(n,function(h){var d=bI(e,yt(t,h));ec(e,d)}),si(e.eventQueue_,t,[])}}function GG(e){Pc(e,"onDisconnectEvents");var t=Pd(e),n=Lm();W1(e.onDisconnect_,Be(),function(i,s){var a=$M(i,s,e.serverSyncTree_,t);Rc(n,i,a)});var r=[];W1(n,Be(),function(i,s){r=r.concat(kd(e.serverSyncTree_,i,s));var a=bI(e,i);ec(e,a)}),e.onDisconnect_=Lm(),si(e.eventQueue_,Be(),r)}function QG(e,t,n){e.server_.onDisconnectCancel(t.toString(),function(r,i){r==="ok"&&q1(e.onDisconnect_,t),Us(e,n,r,i)})}function qP(e,t,n,r){var i=It(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),function(s,a){s==="ok"&&Rc(e.onDisconnect_,t,i),Us(e,r,s,a)})}function YG(e,t,n,r,i){var s=It(n,r);e.server_.onDisconnectPut(t.toString(),s.val(!0),function(a,l){a==="ok"&&Rc(e.onDisconnect_,t,s),Us(e,i,a,l)})}function XG(e,t,n,r){if(L1(n)){cn("onDisconnect().update() called with empty data.  Don't do anything."),Us(e,r,"ok",void 0);return}e.server_.onDisconnectMerge(t.toString(),n,function(i,s){i==="ok"&&tn(n,function(a,l){var c=It(l);Rc(e.onDisconnect_,yt(t,a),c)}),Us(e,r,i,s)})}function JG(e,t,n){var r;Ie(t._path)===".info"?r=VP(e.infoSyncTree_,t,n):r=VP(e.serverSyncTree_,t,n),yI(e.eventQueue_,t._path,r)}function Z1(e,t,n){var r;Ie(t._path)===".info"?r=X1(e.infoSyncTree_,t,n):r=X1(e.serverSyncTree_,t,n),yI(e.eventQueue_,t._path,r)}function XM(e){e.persistentConnection_&&e.persistentConnection_.interrupt(QM)}function ZG(e){e.persistentConnection_&&e.persistentConnection_.resume(QM)}function e8(e,t){if(t===void 0&&(t=!1),!(typeof console>"u")){var n;t?(e.statsListener_||(e.statsListener_=new TM(e.stats_)),n=e.statsListener_.get()):n=e.stats_.get();var r=Object.keys(n).reduce(function(i,s){return Math.max(s.length,i)},0);tn(n,function(i,s){for(var a=i,l=i.length;l<r+2;l++)a+=" ";console.log(a+s)})}}function t8(e,t){e.stats_.incrementCounter(t),bK(e.statsReporter_,t)}function Pc(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r="";e.persistentConnection_&&(r=e.persistentConnection_.id+":"),cn.apply(void 0,Ne([r],_n(t)))}function Us(e,t,n,r){t&&Nc(function(){if(n==="ok")t(null);else{var i=(n||"error").toUpperCase(),s=i;r&&(s+=": "+r);var a=new Error(s);a.code=i,t(a)}})}function n8(e,t,n,r,i,s){Pc(e,"transaction on "+t);var a={path:t,update:n,onComplete:r,status:null,order:$2(),applyLocally:s,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},l=EI(e,t,void 0);a.currentInputSnapshot=l;var c=a.update(l.val());if(c===void 0)a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete&&a.onComplete(null,!1,a.currentInputSnapshot);else{Rd("transaction failed: Data returned ",c,a.path),a.status=0;var h=Jg(e.transactionQueueTree_,t),d=bu(h)||[];d.push(a),mI(h,d);var v=void 0;if(typeof c=="object"&&c!==null&&Or(c,".priority"))v=ou(c,".priority"),G(Jh(v),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else{var m=Yg(e.serverSyncTree_,t)||_e.EMPTY_NODE;v=m.getPriority().val()}var y=Pd(e),_=It(c,v),E=dI(_,l,y);a.currentOutputSnapshotRaw=_,a.currentOutputSnapshotResolved=E,a.currentWriteId=ny(e);var S=lI(e.serverSyncTree_,t,E,a.currentWriteId,a.applyLocally);si(e.eventQueue_,t,S),ry(e,e.transactionQueueTree_)}}function EI(e,t,n){return Yg(e.serverSyncTree_,t,n)||_e.EMPTY_NODE}function ry(e,t){if(t===void 0&&(t=e.transactionQueueTree_),t||iy(e,t),bu(t)){var n=ZM(e,t);G(n.length>0,"Sending zero length transaction queue");var r=n.every(function(i){return i.status===0});r&&r8(e,Nd(t),n)}else zM(t)&&Zg(t,function(i){ry(e,i)})}function r8(e,t,n){for(var r=n.map(function(m){return m.currentWriteId}),i=EI(e,t,r),s=i,a=i.hash(),l=0;l<n.length;l++){var c=n[l];G(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;var h=Gn(t,c.path);s=s.updateChild(h,c.currentOutputSnapshotRaw)}var d=s.val(!0),v=t;e.server_.put(v.toString(),d,function(m){Pc(e,"transaction put response",{path:v.toString(),status:m});var y=[];if(m==="ok"){for(var _=[],E=function(b){n[b].status=2,y=y.concat(ms(e.serverSyncTree_,n[b].currentWriteId)),n[b].onComplete&&_.push(function(){return n[b].onComplete(null,!0,n[b].currentOutputSnapshotResolved)}),n[b].unwatcher()},S=0;S<n.length;S++)E(S);iy(e,Jg(e.transactionQueueTree_,t)),ry(e,e.transactionQueueTree_),si(e.eventQueue_,t,y);for(var S=0;S<_.length;S++)Nc(_[S])}else{if(m==="datastale")for(var S=0;S<n.length;S++)n[S].status===3?n[S].status=4:n[S].status=0;else{bn("transaction at "+v.toString()+" failed: "+m);for(var S=0;S<n.length;S++)n[S].status=4,n[S].abortReason=m}ec(e,t)}},a)}function ec(e,t){var n=JM(e,t),r=Nd(n),i=ZM(e,n);return i8(e,i,r),r}function i8(e,t,n){if(t.length!==0){for(var r=[],i=[],s=t.filter(function(h){return h.status===0}),a=s.map(function(h){return h.currentWriteId}),l=function(h){var d=t[h],v=Gn(n,d.path),m=!1,y;if(G(v!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),d.status===4)m=!0,y=d.abortReason,i=i.concat(ms(e.serverSyncTree_,d.currentWriteId,!0));else if(d.status===0)if(d.retryCount>=BG)m=!0,y="maxretry",i=i.concat(ms(e.serverSyncTree_,d.currentWriteId,!0));else{var _=EI(e,d.path,a);d.currentInputSnapshot=_;var E=t[h].update(_.val());if(E!==void 0){Rd("transaction failed: Data returned ",E,d.path);var S=It(E),b=typeof E=="object"&&E!=null&&Or(E,".priority");b||(S=S.updatePriority(_.getPriority()));var I=d.currentWriteId,k=Pd(e),C=dI(S,_,k);d.currentOutputSnapshotRaw=S,d.currentOutputSnapshotResolved=C,d.currentWriteId=ny(e),a.splice(a.indexOf(I),1),i=i.concat(lI(e.serverSyncTree_,d.path,C,d.currentWriteId,d.applyLocally)),i=i.concat(ms(e.serverSyncTree_,I,!0))}else m=!0,y="nodata",i=i.concat(ms(e.serverSyncTree_,d.currentWriteId,!0))}si(e.eventQueue_,n,i),i=[],m&&(t[h].status=2,function(x){setTimeout(x,Math.floor(0))}(t[h].unwatcher),t[h].onComplete&&(y==="nodata"?r.push(function(){return t[h].onComplete(null,!1,t[h].currentInputSnapshot)}):r.push(function(){return t[h].onComplete(new Error(y),!1,null)})))},c=0;c<t.length;c++)l(c);iy(e,e.transactionQueueTree_);for(var c=0;c<r.length;c++)Nc(r[c]);ry(e,e.transactionQueueTree_)}}function JM(e,t){var n,r=e.transactionQueueTree_;for(n=Ie(t);n!==null&&bu(r)===void 0;)r=Jg(r,n),t=nt(t),n=Ie(t);return r}function ZM(e,t){var n=[];return eF(e,t,n),n.sort(function(r,i){return r.order-i.order}),n}function eF(e,t,n){var r=bu(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);Zg(t,function(s){eF(e,s,n)})}function iy(e,t){var n=bu(t);if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,mI(t,n.length>0?n:void 0)}Zg(t,function(s){iy(e,s)})}function bI(e,t){var n=Nd(JM(e,t)),r=Jg(e.transactionQueueTree_,t);return AG(r,function(i){rE(e,i)}),rE(e,r),qM(r,function(i){rE(e,i)}),n}function rE(e,t){var n=bu(t);if(n){for(var r=[],i=[],s=-1,a=0;a<n.length;a++)n[a].status===3||(n[a].status===1?(G(s===a-1,"All SENT items should be at beginning of queue."),s=a,n[a].status=3,n[a].abortReason="set"):(G(n[a].status===0,"Unexpected transaction status in abort"),n[a].unwatcher(),i=i.concat(ms(e.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));s===-1?mI(t,void 0):n.length=s+1,si(e.eventQueue_,Nd(t),i);for(var a=0;a<r.length;a++)Nc(r[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o8(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}function s8(e){var t,n,r={};e.charAt(0)==="?"&&(e=e.substring(1));try{for(var i=pn(e.split("&")),s=i.next();!s.done;s=i.next()){var a=s.value;if(a.length!==0){var l=a.split("=");l.length===2?r[decodeURIComponent(l[0])]=decodeURIComponent(l[1]):bn("Invalid query segment '"+a+"' in query '"+e+"'")}}}catch(c){t={error:c}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}var eb=function(e,t){var n=a8(e),r=n.namespace;n.domain==="firebase.com"&&eo(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&eo("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||rH();var i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new HT(n.host,n.secure,r,t,i,"",r!==n.subdomain),path:new He(n.pathString)}},a8=function(e){var t="",n="",r="",i="",s="",a=!0,l="https",c=443;if(typeof e=="string"){var h=e.indexOf("//");h>=0&&(l=e.substring(0,h-1),e=e.substring(h+2));var d=e.indexOf("/");d===-1&&(d=e.length);var v=e.indexOf("?");v===-1&&(v=e.length),t=e.substring(0,Math.min(d,v)),d<v&&(i=o8(e.substring(d,v)));var m=s8(e.substring(Math.min(e.length,v)));h=t.indexOf(":"),h>=0?(a=l==="https"||l==="wss",c=parseInt(t.substring(h+1),10)):h=t.length;var y=t.slice(0,h);if(y.toLowerCase()==="localhost")n="localhost";else if(y.split(".").length<=2)n=y;else{var _=t.indexOf(".");r=t.substring(0,_).toLowerCase(),n=t.substring(_+1),s=r}"ns"in m&&(s=m.ns)}return{host:t,port:c,domain:n,subdomain:r,secure:a,scheme:l,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tF=function(){function e(t,n,r,i){this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}return e.prototype.getPath=function(){var t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+Xt(this.snapshot.exportVal())},e}(),nF=function(){function e(t,n,r){this.eventRegistration=t,this.error=n,this.path=r}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rF=function(){function e(t,n){this.snapshotCallback=t,this.cancelCallback=n}return e.prototype.onValue=function(t,n){this.snapshotCallback.call(null,t,n)},e.prototype.onCancel=function(t){return G(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)},Object.defineProperty(e.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),e.prototype.matches=function(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context},e}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var u8=function(){function e(t,n){this._repo=t,this._path=n}return e.prototype.cancel=function(){var t=new lr;return QG(this._repo,this._path,t.wrapCallback(function(){})),t.promise},e.prototype.remove=function(){Xr("OnDisconnect.remove",this._path);var t=new lr;return qP(this._repo,this._path,null,t.wrapCallback(function(){})),t.promise},e.prototype.set=function(t){Xr("OnDisconnect.set",this._path),no("OnDisconnect.set",t,this._path,!1);var n=new lr;return qP(this._repo,this._path,t,n.wrapCallback(function(){})),n.promise},e.prototype.setWithPriority=function(t,n){Xr("OnDisconnect.setWithPriority",this._path),no("OnDisconnect.setWithPriority",t,this._path,!1),gI("OnDisconnect.setWithPriority",n,!1);var r=new lr;return YG(this._repo,this._path,t,n,r.wrapCallback(function(){})),r.promise},e.prototype.update=function(t){Xr("OnDisconnect.update",this._path),HM("OnDisconnect.update",t,this._path,!1);var n=new lr;return XG(this._repo,this._path,t,n.wrapCallback(function(){})),n.promise},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var li=function(){function e(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}return Object.defineProperty(e.prototype,"key",{get:function(){return Se(this._path)?null:QT(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new oo(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryIdentifier",{get:function(){var t=RP(this._queryParams),n=zT(t);return n==="{}"?"default":n},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryObject",{get:function(){return RP(this._queryParams)},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(t=Te(t),!(t instanceof e))return!1;var n=this._repo===t._repo,r=YT(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i},e.prototype.toJSON=function(){return this.toString()},e.prototype.toString=function(){return this._repo.toString()+VH(this._path)},e}();function oy(e,t){if(e._orderByCalled===!0)throw new Error(t+": You can't combine multiple orderBy calls.")}function Ks(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Yi){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){var s=e.getIndexStartName();if(s!==Lo)throw new Error(r);if(typeof t!="string")throw new Error(i)}if(e.hasEnd()){var a=e.getIndexEndName();if(a!==to)throw new Error(r);if(typeof n!="string")throw new Error(i)}}else if(e.getIndex()===ot){if(t!=null&&!Jh(t)||n!=null&&!Jh(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(G(e.getIndex()instanceof JT||e.getIndex()===ZT,"unknown index type."),t!=null&&typeof t=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function sy(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var oo=function(e){J(t,e);function t(n,r){return e.call(this,n,r,new bM,!1)||this}return Object.defineProperty(t.prototype,"parent",{get:function(){var n=fM(this._path);return n===null?null:new t(this._repo,n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){for(var n=this;n.parent!==null;)n=n.parent;return n},enumerable:!1,configurable:!0}),t}(li),ay=function(){function e(t,n,r){this._node=t,this.ref=n,this._index=r}return Object.defineProperty(e.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),e.prototype.child=function(t){var n=new He(t),r=au(this.ref,t);return new e(this._node.getChild(n),r,ot)},e.prototype.exists=function(){return!this._node.isEmpty()},e.prototype.exportVal=function(){return this._node.val(!0)},e.prototype.forEach=function(t){var n=this;if(this._node.isLeafNode())return!1;var r=this._node;return!!r.forEachChild(this._index,function(i,s){return t(new e(s,au(n.ref,i),ot))})},e.prototype.hasChild=function(t){var n=new He(t);return!this._node.getChild(n).isEmpty()},e.prototype.hasChildren=function(){return this._node.isLeafNode()?!1:!this._node.isEmpty()},e.prototype.toJSON=function(){return this.exportVal()},e.prototype.val=function(){return this._node.val()},e}();function iF(e,t){return e=Te(e),e._checkNotDeleted("ref"),t!==void 0?au(e._root,t):e._root}function WP(e,t){e=Te(e),e._checkNotDeleted("refFromURL");var n=eb(t,e._repo.repoInfo_.nodeAdmin);KM("refFromURL",n);var r=n.repoInfo;return!e._repo.repoInfo_.isCustomHost()&&r.host!==e._repo.repoInfo_.host&&eo("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),iF(e,n.path.toString())}function au(e,t){return e=Te(e),Ie(e._path)===null?FG("child","path",t,!1):Zh("child","path",t,!1),new oo(e._repo,yt(e._path,t))}function l8(e,t){e=Te(e),Xr("push",e._path),no("push",t,e._path,!0);var n=YM(e._repo),r=uK(n),i=au(e,r),s=au(e,r),a;return t!=null?a=TI(s,t).then(function(){return s}):a=Promise.resolve(s),i.then=a.then.bind(a),i.catch=a.then.bind(a,void 0),i}function c8(e){return Xr("remove",e._path),TI(e,null)}function TI(e,t){e=Te(e),Xr("set",e._path),no("set",t,e._path,!1);var n=new lr;return wI(e._repo,e._path,t,null,n.wrapCallback(function(){})),n.promise}function f8(e,t){e=Te(e),Xr("setPriority",e._path),gI("setPriority",t,!1);var n=new lr;return wI(e._repo,yt(e._path,".priority"),t,null,n.wrapCallback(function(){})),n.promise}function h8(e,t,n){if(Xr("setWithPriority",e._path),no("setWithPriority",t,e._path,!1),gI("setWithPriority",n,!1),e.key===".length"||e.key===".keys")throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new lr;return wI(e._repo,e._path,t,n,r.wrapCallback(function(){})),r.promise}function d8(e,t){HM("update",t,e._path,!1);var n=new lr;return KG(e._repo,e._path,t,n.wrapCallback(function(){})),n.promise}function p8(e){return e=Te(e),HG(e._repo,e).then(function(t){return new ay(t,new oo(e._repo,e._path),e._queryParams.getIndex())})}var oF=function(){function e(t){this.callbackContext=t}return e.prototype.respondsTo=function(t){return t==="value"},e.prototype.createEvent=function(t,n){var r=n._queryParams.getIndex();return new tF("value",this,new ay(t.snapshotNode,new oo(n._repo,n._path),r))},e.prototype.getEventRunner=function(t){var n=this;return t.getEventType()==="cancel"?function(){return n.callbackContext.onCancel(t.error)}:function(){return n.callbackContext.onValue(t.snapshot,null)}},e.prototype.createCancelEvent=function(t,n){return this.callbackContext.hasCancelCallback?new nF(this,t,n):null},e.prototype.matches=function(t){return t instanceof e?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1},e.prototype.hasAnyCallback=function(){return this.callbackContext!==null},e}(),sF=function(){function e(t,n){this.eventType=t,this.callbackContext=n}return e.prototype.respondsTo=function(t){var n=t==="children_added"?"child_added":t;return n=n==="children_removed"?"child_removed":n,this.eventType===n},e.prototype.createCancelEvent=function(t,n){return this.callbackContext.hasCancelCallback?new nF(this,t,n):null},e.prototype.createEvent=function(t,n){G(t.childName!=null,"Child events should have a childName.");var r=au(new oo(n._repo,n._path),t.childName),i=n._queryParams.getIndex();return new tF(t.type,this,new ay(t.snapshotNode,r,i),t.prevName)},e.prototype.getEventRunner=function(t){var n=this;return t.getEventType()==="cancel"?function(){return n.callbackContext.onCancel(t.error)}:function(){return n.callbackContext.onValue(t.snapshot,t.prevName)}},e.prototype.matches=function(t){return t instanceof e?this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)):!1},e.prototype.hasAnyCallback=function(){return!!this.callbackContext},e}();function xd(e,t,n,r,i){var s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){var a=n,l=function(d,v){a(d,v),Z1(e._repo,e,h)};l.userCallback=n.userCallback,l.context=n.context,n=l}var c=new rF(n,s||void 0),h=t==="value"?new oF(c):new sF(t,c);return JG(e._repo,e,h),function(){return Z1(e._repo,e,h)}}function tb(e,t,n,r){return xd(e,"value",t,n,r)}function HP(e,t,n,r){return xd(e,"child_added",t,n,r)}function KP(e,t,n,r){return xd(e,"child_changed",t,n,r)}function GP(e,t,n,r){return xd(e,"child_moved",t,n,r)}function QP(e,t,n,r){return xd(e,"child_removed",t,n,r)}function YP(e,t,n){var r=null,i=n?new rF(n):null;t==="value"?r=new oF(i):t&&(r=new sF(t,i)),Z1(e._repo,e,r)}var Oi=function(){function e(){}return e}(),aF=function(e){J(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){no("endAt",this._value,n._path,!0);var r=z1(n._queryParams,this._value,this._key);if(sy(r),Ks(r),n._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new li(n._repo,n._path,r,n._orderByCalled)},t}(Oi);function v8(e,t){return Ad("endAt","key",t,!0),new aF(e,t)}var m8=function(e){J(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){no("endBefore",this._value,n._path,!1);var r=vK(n._queryParams,this._value,this._key);if(sy(r),Ks(r),n._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new li(n._repo,n._path,r,n._orderByCalled)},t}(Oi);function g8(e,t){return Ad("endBefore","key",t,!0),new m8(e,t)}var uF=function(e){J(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){no("startAt",this._value,n._path,!0);var r=$1(n._queryParams,this._value,this._key);if(sy(r),Ks(r),n._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new li(n._repo,n._path,r,n._orderByCalled)},t}(Oi);function y8(e,t){return e===void 0&&(e=null),Ad("startAt","key",t,!0),new uF(e,t)}var _8=function(e){J(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){no("startAfter",this._value,n._path,!1);var r=pK(n._queryParams,this._value,this._key);if(sy(r),Ks(r),n._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new li(n._repo,n._path,r,n._orderByCalled)},t}(Oi);function w8(e,t){return Ad("startAfter","key",t,!0),new _8(e,t)}var E8=function(e){J(t,e);function t(n){var r=e.call(this)||this;return r._limit=n,r}return t.prototype._apply=function(n){if(n._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new li(n._repo,n._path,hK(n._queryParams,this._limit),n._orderByCalled)},t}(Oi);function b8(e){if(typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new E8(e)}var T8=function(e){J(t,e);function t(n){var r=e.call(this)||this;return r._limit=n,r}return t.prototype._apply=function(n){if(n._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new li(n._repo,n._path,dK(n._queryParams,this._limit),n._orderByCalled)},t}(Oi);function I8(e){if(typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new T8(e)}var S8=function(e){J(t,e);function t(n){var r=e.call(this)||this;return r._path=n,r}return t.prototype._apply=function(n){oy(n,"orderByChild");var r=new He(this._path);if(Se(r))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var i=new JT(r),s=Wg(n._queryParams,i);return Ks(s),new li(n._repo,n._path,s,!0)},t}(Oi);function C8(e){if(e==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(e==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(e==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Zh("orderByChild","path",e,!1),new S8(e)}var k8=function(e){J(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype._apply=function(n){oy(n,"orderByKey");var r=Wg(n._queryParams,Yi);return Ks(r),new li(n._repo,n._path,r,!0)},t}(Oi);function N8(){return new k8}var R8=function(e){J(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype._apply=function(n){oy(n,"orderByPriority");var r=Wg(n._queryParams,ot);return Ks(r),new li(n._repo,n._path,r,!0)},t}(Oi);function A8(){return new R8}var P8=function(e){J(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype._apply=function(n){oy(n,"orderByValue");var r=Wg(n._queryParams,ZT);return Ks(r),new li(n._repo,n._path,r,!0)},t}(Oi);function x8(){return new P8}var O8=function(e){J(t,e);function t(n,r){var i=e.call(this)||this;return i._value=n,i._key=r,i}return t.prototype._apply=function(n){if(no("equalTo",this._value,n._path,!1),n._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(n._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new aF(this._value,this._key)._apply(new uF(this._value,this._key)._apply(n))},t}(Oi);function D8(e,t){return Ad("equalTo","key",t,!0),new O8(e,t)}function _i(e){for(var t,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var s=Te(e);try{for(var a=pn(r),l=a.next();!l.done;l=a.next()){var c=l.value;s=c._apply(s)}}catch(h){t={error:h}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return s}oG(oo);cG(oo);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var L8="FIREBASE_DATABASE_EMULATOR_HOST",nb={},lF=!1;function M8(e,t,n,r){e.repoInfo_=new HT(t+":"+n,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),r&&(e.authTokenProvider_=r)}function cF(e,t,n,r,i){var s=r||e.options.databaseURL;s===void 0&&(e.options.projectId||eo("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),cn("Using default host for project ",e.options.projectId),s=e.options.projectId+"-default-rtdb.firebaseio.com");var a=eb(s,i),l=a.repoInfo,c,h=void 0;typeof process<"u"&&(h=process.env[L8]),h?(c=!0,s="http://"+h+"?ns="+l.namespace,a=eb(s,i),l=a.repoInfo):c=!a.repoInfo.secure;var d=i&&c?new dh(dh.OWNER):new hH(e.name,e.options,t);KM("Invalid Firebase Database URL",a),Se(a.path)||eo("Database URL must point to the root of a Firebase Database (not including a child path).");var v=U8(l,e,d,new fH(e.name,n));return new V8(v,e)}function F8(e,t){var n=nb[t];(!n||n[e.key]!==e)&&eo("Database "+t+"("+e.repoInfo_+") has already been deleted."),XM(e),delete n[e.key]}function U8(e,t,n,r){var i=nb[t.name];i||(i={},nb[t.name]=i);var s=i[e.toURLString()];return s&&eo("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new $G(e,lF,n,r),i[e.toURLString()]=s,s}function j8(e){lF=e}var V8=function(){function e(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return Object.defineProperty(e.prototype,"_repo",{get:function(){return this._instanceStarted||(zG(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new oo(this._repo,Be())),this._rootInternal},enumerable:!1,configurable:!0}),e.prototype._delete=function(){return this._checkNotDeleted("delete"),F8(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null,Promise.resolve()},e.prototype._checkNotDeleted=function(t){this._rootInternal===null&&eo("Cannot call "+t+" on a deleted database.")},e}();function B8(e,t,n,r){r===void 0&&(r={}),e=Te(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&eo("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,s=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&eo('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new dh(dh.OWNER);else if(r.mockUserToken){var a=R2(r.mockUserToken,e.app.options.projectId);s=new dh(a)}M8(i,t,n,s)}function $8(e){e=Te(e),e._checkNotDeleted("goOffline"),XM(e._repo)}function z8(e){e=Te(e),e._checkNotDeleted("goOnline"),ZG(e._repo)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var q8={".sv":"timestamp"};function W8(){return q8}function H8(e){return{".sv":{increment:e}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var K8=function(){function e(t,n){this.committed=t,this.snapshot=n}return e.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}();function G8(e,t,n){var r;if(e=Te(e),Xr("Reference.transaction",e._path),e.key===".length"||e.key===".keys")throw"Reference.transaction failed: "+e.key+" is a read-only object.";var i=(r=n==null?void 0:n.applyLocally)!==null&&r!==void 0?r:!0,s=new lr,a=function(c,h,d){var v=null;c?s.reject(c):(v=new ay(d,new oo(e._repo,e._path),ot),s.resolve(new K8(h,v)))},l=tb(e,function(){});return n8(e._repo,e._path,t,a,l,i),s.promise}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Q8=function(){function e(t){this._delegate=t}return e.prototype.cancel=function(t){de("OnDisconnect.cancel",0,1,arguments.length),ln("OnDisconnect.cancel","onComplete",t,!0);var n=this._delegate.cancel();return t&&n.then(function(){return t(null)},function(r){return t(r)}),n},e.prototype.remove=function(t){de("OnDisconnect.remove",0,1,arguments.length),ln("OnDisconnect.remove","onComplete",t,!0);var n=this._delegate.remove();return t&&n.then(function(){return t(null)},function(r){return t(r)}),n},e.prototype.set=function(t,n){de("OnDisconnect.set",1,2,arguments.length),ln("OnDisconnect.set","onComplete",n,!0);var r=this._delegate.set(t);return n&&r.then(function(){return n(null)},function(i){return n(i)}),r},e.prototype.setWithPriority=function(t,n,r){de("OnDisconnect.setWithPriority",2,3,arguments.length),ln("OnDisconnect.setWithPriority","onComplete",r,!0);var i=this._delegate.setWithPriority(t,n);return r&&i.then(function(){return r(null)},function(s){return r(s)}),i},e.prototype.update=function(t,n){if(de("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){for(var r={},i=0;i<t.length;++i)r[""+i]=t[i];t=r,bn("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ln("OnDisconnect.update","onComplete",n,!0);var s=this._delegate.update(t);return n&&s.then(function(){return n(null)},function(a){return n(a)}),s},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Y8=function(){function e(t,n){this.committed=t,this.snapshot=n}return e.prototype.toJSON=function(){return de("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gh=function(){function e(t,n){this._database=t,this._delegate=n}return e.prototype.val=function(){return de("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},e.prototype.exportVal=function(){return de("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},e.prototype.toJSON=function(){return de("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.exists=function(){return de("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},e.prototype.child=function(t){return de("DataSnapshot.child",0,1,arguments.length),t=String(t),Zh("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))},e.prototype.hasChild=function(t){return de("DataSnapshot.hasChild",1,1,arguments.length),Zh("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)},e.prototype.getPriority=function(){return de("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},e.prototype.forEach=function(t){var n=this;return de("DataSnapshot.forEach",1,1,arguments.length),ln("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(function(r){return t(new e(n._database,r))})},e.prototype.hasChildren=function(){return de("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(e.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),e.prototype.numChildren=function(){return de("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},e.prototype.getRef=function(){return de("DataSnapshot.ref",0,0,arguments.length),new Ua(this._database,this._delegate.ref)},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}(),fF=function(){function e(t,n){this.database=t,this._delegate=n}return e.prototype.on=function(t,n,r,i){var s=this,a;de("Query.on",2,4,arguments.length),ln("Query.on","callback",n,!1);var l=e.getCancelAndContextArgs_("Query.on",r,i),c=function(d,v){n.call(l.context,new gh(s.database,d),v)};c.userCallback=n,c.context=l.context;var h=(a=l.cancel)===null||a===void 0?void 0:a.bind(l.context);switch(t){case"value":return tb(this._delegate,c,h),n;case"child_added":return HP(this._delegate,c,h),n;case"child_removed":return QP(this._delegate,c,h),n;case"child_changed":return KP(this._delegate,c,h),n;case"child_moved":return GP(this._delegate,c,h),n;default:throw new Error(mr("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},e.prototype.off=function(t,n,r){if(de("Query.off",0,3,arguments.length),MG("Query.off",t,!0),ln("Query.off","callback",n,!0),cP("Query.off","context",r,!0),n){var i=function(){};i.userCallback=n,i.context=r,YP(this._delegate,t,i)}else YP(this._delegate,t)},e.prototype.get=function(){var t=this;return p8(this._delegate).then(function(n){return new gh(t.database,n)})},e.prototype.once=function(t,n,r,i){var s=this;de("Query.once",1,4,arguments.length),ln("Query.once","callback",n,!0);var a=e.getCancelAndContextArgs_("Query.on",r,i),l=new lr,c=function(d,v){var m=new gh(s.database,d);n&&n.call(a.context,m,v),l.resolve(m)};c.userCallback=n,c.context=a.context;var h=function(d){a.cancel&&a.cancel.call(a.context,d),l.reject(d)};switch(t){case"value":tb(this._delegate,c,h,{onlyOnce:!0});break;case"child_added":HP(this._delegate,c,h,{onlyOnce:!0});break;case"child_removed":QP(this._delegate,c,h,{onlyOnce:!0});break;case"child_changed":KP(this._delegate,c,h,{onlyOnce:!0});break;case"child_moved":GP(this._delegate,c,h,{onlyOnce:!0});break;default:throw new Error(mr("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return l.promise},e.prototype.limitToFirst=function(t){return de("Query.limitToFirst",1,1,arguments.length),new e(this.database,_i(this._delegate,b8(t)))},e.prototype.limitToLast=function(t){return de("Query.limitToLast",1,1,arguments.length),new e(this.database,_i(this._delegate,I8(t)))},e.prototype.orderByChild=function(t){return de("Query.orderByChild",1,1,arguments.length),new e(this.database,_i(this._delegate,C8(t)))},e.prototype.orderByKey=function(){return de("Query.orderByKey",0,0,arguments.length),new e(this.database,_i(this._delegate,N8()))},e.prototype.orderByPriority=function(){return de("Query.orderByPriority",0,0,arguments.length),new e(this.database,_i(this._delegate,A8()))},e.prototype.orderByValue=function(){return de("Query.orderByValue",0,0,arguments.length),new e(this.database,_i(this._delegate,x8()))},e.prototype.startAt=function(t,n){return t===void 0&&(t=null),de("Query.startAt",0,2,arguments.length),new e(this.database,_i(this._delegate,y8(t,n)))},e.prototype.startAfter=function(t,n){return t===void 0&&(t=null),de("Query.startAfter",0,2,arguments.length),new e(this.database,_i(this._delegate,w8(t,n)))},e.prototype.endAt=function(t,n){return t===void 0&&(t=null),de("Query.endAt",0,2,arguments.length),new e(this.database,_i(this._delegate,v8(t,n)))},e.prototype.endBefore=function(t,n){return t===void 0&&(t=null),de("Query.endBefore",0,2,arguments.length),new e(this.database,_i(this._delegate,g8(t,n)))},e.prototype.equalTo=function(t,n){return de("Query.equalTo",1,2,arguments.length),new e(this.database,_i(this._delegate,D8(t,n)))},e.prototype.toString=function(){return de("Query.toString",0,0,arguments.length),this._delegate.toString()},e.prototype.toJSON=function(){return de("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.isEqual=function(t){if(de("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)},e.getCancelAndContextArgs_=function(t,n,r){var i={cancel:void 0,context:void 0};if(n&&r)i.cancel=n,ln(t,"cancel",i.cancel,!0),i.context=r,cP(t,"context",i.context,!0);else if(n)if(typeof n=="object"&&n!==null)i.context=n;else if(typeof n=="function")i.cancel=n;else throw new Error(mr(t,"cancelOrContext")+" must either be a cancel callback or a context object.");return i},Object.defineProperty(e.prototype,"ref",{get:function(){return new Ua(this.database,new oo(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),e}(),Ua=function(e){J(t,e);function t(n,r){var i=e.call(this,n,new li(r._repo,r._path,new bM,!1))||this;return i.database=n,i._delegate=r,i}return t.prototype.getKey=function(){return de("Reference.key",0,0,arguments.length),this._delegate.key},t.prototype.child=function(n){return de("Reference.child",1,1,arguments.length),typeof n=="number"&&(n=String(n)),new t(this.database,au(this._delegate,n))},t.prototype.getParent=function(){de("Reference.parent",0,0,arguments.length);var n=this._delegate.parent;return n?new t(this.database,n):null},t.prototype.getRoot=function(){return de("Reference.root",0,0,arguments.length),new t(this.database,this._delegate.root)},t.prototype.set=function(n,r){de("Reference.set",1,2,arguments.length),ln("Reference.set","onComplete",r,!0);var i=TI(this._delegate,n);return r&&i.then(function(){return r(null)},function(s){return r(s)}),i},t.prototype.update=function(n,r){if(de("Reference.update",1,2,arguments.length),Array.isArray(n)){for(var i={},s=0;s<n.length;++s)i[""+s]=n[s];n=i,bn("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Xr("Reference.update",this._delegate._path),ln("Reference.update","onComplete",r,!0);var a=d8(this._delegate,n);return r&&a.then(function(){return r(null)},function(l){return r(l)}),a},t.prototype.setWithPriority=function(n,r,i){de("Reference.setWithPriority",2,3,arguments.length),ln("Reference.setWithPriority","onComplete",i,!0);var s=h8(this._delegate,n,r);return i&&s.then(function(){return i(null)},function(a){return i(a)}),s},t.prototype.remove=function(n){de("Reference.remove",0,1,arguments.length),ln("Reference.remove","onComplete",n,!0);var r=c8(this._delegate);return n&&r.then(function(){return n(null)},function(i){return n(i)}),r},t.prototype.transaction=function(n,r,i){var s=this;de("Reference.transaction",1,3,arguments.length),ln("Reference.transaction","transactionUpdate",n,!1),ln("Reference.transaction","onComplete",r,!0),UG("Reference.transaction","applyLocally",i,!0);var a=G8(this._delegate,n,{applyLocally:i}).then(function(l){return new Y8(l.committed,new gh(s.database,l.snapshot))});return r&&a.then(function(l){return r(null,l.committed,l.snapshot)},function(l){return r(l,!1,null)}),a},t.prototype.setPriority=function(n,r){de("Reference.setPriority",1,2,arguments.length),ln("Reference.setPriority","onComplete",r,!0);var i=f8(this._delegate,n);return r&&i.then(function(){return r(null)},function(s){return r(s)}),i},t.prototype.push=function(n,r){var i=this;de("Reference.push",0,2,arguments.length),ln("Reference.push","onComplete",r,!0);var s=l8(this._delegate,n),a=s.then(function(c){return new t(i.database,c)});r&&a.then(function(){return r(null)},function(c){return r(c)});var l=new t(this.database,s);return l.then=a.then.bind(a),l.catch=a.catch.bind(a,void 0),l},t.prototype.onDisconnect=function(){return Xr("Reference.onDisconnect",this._delegate._path),new Q8(new u8(this._delegate._repo,this._delegate._path))},Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),t}(fF);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zm=function(){function e(t,n){var r=this;this._delegate=t,this.app=n,this.INTERNAL={delete:function(){return r._delegate._delete()}}}return e.prototype.useEmulator=function(t,n,r){r===void 0&&(r={}),B8(this._delegate,t,n,r)},e.prototype.ref=function(t){if(de("database.ref",0,1,arguments.length),t instanceof Ua){var n=WP(this._delegate,t.toString());return new Ua(this,n)}else{var n=iF(this._delegate,t);return new Ua(this,n)}},e.prototype.refFromURL=function(t){var n="database.refFromURL";de(n,1,1,arguments.length);var r=WP(this._delegate,t);return new Ua(this,r)},e.prototype.goOffline=function(){return de("database.goOffline",0,0,arguments.length),$8(this._delegate)},e.prototype.goOnline=function(){return de("database.goOnline",0,0,arguments.length),z8(this._delegate)},e.ServerValue={TIMESTAMP:W8(),increment:function(t){return H8(t)}},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var X8=function(){Pa.forceDisallow(),GT.forceAllow()},J8=function(){GT.forceDisallow()},Z8=function(){return Pa.isAvailable()},e7=function(e,t){var n=e._delegate._repo.persistentConnection_;n.securityDebugCallback_=t},t7=function(e,t){e8(e._delegate._repo,t)},n7=function(e,t){t8(e._delegate._repo,t)},r7=function(e){return e._delegate._repo.dataUpdateCount},i7=function(e,t){return qG(e._delegate._repo,t)};function o7(e){var t=e.app,n=e.url,r=e.version,i=e.customAuthImpl,s=e.namespace,a=e.nodeAdmin,l=a===void 0?!1:a;V2(r);var c=new D2("auth-internal",new L2("database-standalone"));return c.setComponent(new _r("auth-internal",function(){return i},"PRIVATE")),{instance:new zm(cF(t,c,void 0,n,l),t),namespace:s}}var s7=Object.freeze({__proto__:null,forceLongPolling:X8,forceWebSockets:J8,isWebSocketsAvailable:Z8,setSecurityDebugCallback:e7,stats:t7,statsIncrementCounter:n7,dataUpdateCount:r7,interceptServerData:i7,initStandalone:o7});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var a7=Ha;Ha.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};Ha.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var u7=uM,l7=function(e){var t=Ha.prototype.put;return Ha.prototype.put=function(n,r,i,s){s!==void 0&&(s=e()),t.call(this,n,r,i,s)},function(){Ha.prototype.put=t}},c7=HT,f7=function(e){return e._delegate._queryIdentifier},h7=function(e){j8(e)},d7=Object.freeze({__proto__:null,DataConnection:a7,RealTimeConnection:u7,hijackHash:l7,ConnectionTarget:c7,queryIdentifier:f7,forceRestClient:h7});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var p7=zm.ServerValue;function v7(e){V2(e.SDK_VERSION),e.INTERNAL.registerComponent(new _r("database",function(t,n){var r=n.instanceIdentifier,i=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new zm(cF(i,s,a,r),i)},"PUBLIC").setServiceProps({Reference:Ua,Query:fF,Database:zm,DataSnapshot:gh,enableLogging:q2,INTERNAL:s7,ServerValue:p7,TEST_ACCESS:d7}).setMultipleInstances(!0)),e.registerVersion(ZW,eH)}v7(ue);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var rb=function(e,t){return rb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},rb(e,t)};function m7(e,t){rb(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function hF(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var g7=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ie,II=II||{},we=g7||self;function qm(){}function ib(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function Od(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function y7(e){return Object.prototype.hasOwnProperty.call(e,iE)&&e[iE]||(e[iE]=++_7)}var iE="closure_uid_"+(1e9*Math.random()>>>0),_7=0;function w7(e,t,n){return e.call.apply(e.bind,arguments)}function E7(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function On(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?On=w7:On=E7,On.apply(null,arguments)}function Ev(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function so(){return Date.now()}function tr(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Kb=function(r,i,s){for(var a=Array(arguments.length-2),l=2;l<arguments.length;l++)a[l-2]=arguments[l];return t.prototype[i].apply(r,a)}}function Gs(){this.j=this.j,this.i=this.i}var b7=0;Gs.prototype.j=!1;Gs.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),b7!=0)&&y7(this)};Gs.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var dF=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},pF=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=typeof e=="string"?e.split(""):e,s=0;s<r;s++)s in i&&t.call(n,i[s],s,e)};function T7(e){e:{for(var t=hQ,n=e.length,r=typeof e=="string"?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:typeof e=="string"?e.charAt(t):e[t]}function XP(e){return Array.prototype.concat.apply([],arguments)}function SI(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Wm(e){return/^[\s\xa0]*$/.test(e)}var JP=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Hn(e,t){return e.indexOf(t)!=-1}function oE(e,t){return e<t?-1:e>t?1:0}var Kn;e:{var ZP=we.navigator;if(ZP){var ex=ZP.userAgent;if(ex){Kn=ex;break e}}Kn=""}function CI(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function vF(e){var t={};for(var n in e)t[n]=e[n];return t}var tx="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function mF(e,t){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(var s=0;s<tx.length;s++)n=tx[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function kI(e){return kI[" "](e),e}kI[" "]=qm;function I7(e,t){var n=k7;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var S7=Hn(Kn,"Opera"),js=Hn(Kn,"Trident")||Hn(Kn,"MSIE"),gF=Hn(Kn,"Edge"),ob=gF||js,yF=Hn(Kn,"Gecko")&&!(Hn(Kn.toLowerCase(),"webkit")&&!Hn(Kn,"Edge"))&&!(Hn(Kn,"Trident")||Hn(Kn,"MSIE"))&&!Hn(Kn,"Edge"),C7=Hn(Kn.toLowerCase(),"webkit")&&!Hn(Kn,"Edge");function _F(){var e=we.document;return e?e.documentMode:void 0}var Hm;e:{var sE="",aE=function(){var e=Kn;if(yF)return/rv:([^\);]+)(\)|;)/.exec(e);if(gF)return/Edge\/([\d\.]+)/.exec(e);if(js)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(C7)return/WebKit\/(\S+)/.exec(e);if(S7)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(aE&&(sE=aE?aE[1]:""),js){var uE=_F();if(uE!=null&&uE>parseFloat(sE)){Hm=String(uE);break e}}Hm=sE}var k7={};function wF(e){return I7(e,function(){for(var t=0,n=JP(String(Hm)).split("."),r=JP(String(e)).split("."),i=Math.max(n.length,r.length),s=0;t==0&&s<i;s++){var a=n[s]||"",l=r[s]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],a[0].length==0&&l[0].length==0)break;t=oE(a[1].length==0?0:parseInt(a[1],10),l[1].length==0?0:parseInt(l[1],10))||oE(a[2].length==0,l[2].length==0)||oE(a[2],l[2]),a=a[3],l=l[3]}while(t==0)}return 0<=t})}var sb;if(we.document&&js){var nx=_F();sb=nx||parseInt(Hm,10)||void 0}else sb=void 0;var EF=sb,NI=!js||9<=Number(EF),N7=js&&!wF("9"),R7=function(){if(!we.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{we.addEventListener("test",qm,t),we.removeEventListener("test",qm,t)}catch{}return e}();function Dn(e,t){this.type=e,this.a=this.target=t,this.defaultPrevented=!1}Dn.prototype.b=function(){this.defaultPrevented=!0};function ed(e,t){if(Dn.call(this,e?e.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.a=t,t=e.relatedTarget){if(yF){e:{try{kI(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:A7[e.pointerType]||"",this.c=e,e.defaultPrevented&&this.b()}}tr(ed,Dn);var A7={2:"touch",3:"pen",4:"mouse"};ed.prototype.b=function(){ed.X.b.call(this);var e=this.c;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,N7)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch{}};var Dd="closure_listenable_"+(1e6*Math.random()|0),P7=0;function x7(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ca=i,this.key=++P7,this.Y=this.Z=!1}function uy(e){e.Y=!0,e.listener=null,e.proxy=null,e.src=null,e.ca=null}function ly(e){this.src=e,this.a={},this.b=0}ly.prototype.add=function(e,t,n,r,i){var s=e.toString();e=this.a[s],e||(e=this.a[s]=[],this.b++);var a=ub(e,t,r,i);return-1<a?(t=e[a],n||(t.Z=!1)):(t=new x7(t,this.src,s,!!r,i),t.Z=n,e.push(t)),t};function ab(e,t){var n=t.type;if(n in e.a){var r=e.a[n],i=dF(r,t),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(uy(t),e.a[n].length==0&&(delete e.a[n],e.b--))}}function ub(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.Y&&s.listener==t&&s.capture==!!n&&s.ca==r)return i}return-1}var RI="closure_lm_"+(1e6*Math.random()|0),lE={};function AI(e,t,n,r,i){if(r&&r.once)return TF(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)AI(e,t[s],n,r,i);return null}return n=OI(n),e&&e[Dd]?e.va(t,n,Od(r)?!!r.capture:!!r,i):bF(e,t,n,!1,r,i)}function bF(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var a=Od(i)?!!i.capture:!!i;if(a&&!NI)return null;var l=xI(e);if(l||(e[RI]=l=new ly(e)),n=l.add(t,n,r,a,s),n.proxy)return n;if(r=O7(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)R7||(i=a),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(SF(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function O7(){var e=D7,t=NI?function(n){return e.call(t.src,t.listener,n)}:function(n){if(n=e.call(t.src,t.listener,n),!n)return n};return t}function TF(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)TF(e,t[s],n,r,i);return null}return n=OI(n),e&&e[Dd]?e.wa(t,n,Od(r)?!!r.capture:!!r,i):bF(e,t,n,!0,r,i)}function IF(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)IF(e,t[s],n,r,i);else r=Od(r)?!!r.capture:!!r,n=OI(n),e&&e[Dd]?(e=e.c,t=String(t).toString(),t in e.a&&(s=e.a[t],n=ub(s,n,r,i),-1<n&&(uy(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.a[t],e.b--)))):e&&(e=xI(e))&&(t=e.a[t.toString()],e=-1,t&&(e=ub(t,n,r,i)),(n=-1<e?t[e]:null)&&PI(n))}function PI(e){if(typeof e!="number"&&e&&!e.Y){var t=e.src;if(t&&t[Dd])ab(t.c,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(SF(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=xI(t))?(ab(n,e),n.b==0&&(n.src=null,t[RI]=null)):uy(e)}}}function SF(e){return e in lE?lE[e]:lE[e]="on"+e}function rx(e,t){var n=e.listener,r=e.ca||e.src;return e.Z&&PI(e),n.call(r,t)}function D7(e,t){if(e.Y)return!0;if(!NI){if(!t)e:{t=["window","event"];for(var n=we,r=0;r<t.length;r++)if(n=n[t[r]],n==null){t=null;break e}t=n}return t=new ed(t,this),rx(e,t)}return rx(e,new ed(t,this))}function xI(e){return e=e[RI],e instanceof ly?e:null}var cE="__closure_events_fn_"+(1e9*Math.random()>>>0);function OI(e){return typeof e=="function"?e:(e[cE]||(e[cE]=function(t){return e.handleEvent(t)}),e[cE])}function Lr(){Gs.call(this),this.c=new ly(this),this.J=this,this.C=null}tr(Lr,Gs);Lr.prototype[Dd]=!0;ie=Lr.prototype;ie.addEventListener=function(e,t,n,r){AI(this,e,t,n,r)};ie.removeEventListener=function(e,t,n,r){IF(this,e,t,n,r)};function Tn(e,t){var n,r=e.C;if(r)for(n=[];r;r=r.C)n.push(r);if(e=e.J,r=t.type||t,typeof t=="string")t=new Dn(t,e);else if(t instanceof Dn)t.target=t.target||e;else{var i=t;t=new Dn(r,e),mF(t,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.a=n[s];i=bv(a,r,!0,t)&&i}if(a=t.a=e,i=bv(a,r,!0,t)&&i,i=bv(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)a=t.a=n[s],i=bv(a,r,!1,t)&&i}ie.G=function(){if(Lr.X.G.call(this),this.c){var e=this.c,t;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)uy(n[r]);delete e.a[t],e.b--}}this.C=null};ie.va=function(e,t,n,r){return this.c.add(String(e),t,!1,n,r)};ie.wa=function(e,t,n,r){return this.c.add(String(e),t,!0,n,r)};function bv(e,t,n,r){if(t=e.c.a[String(t)],!t)return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.Y&&a.capture==n){var l=a.listener,c=a.ca||a.src;a.Z&&ab(e.c,a),i=l.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var DI=we.JSON.stringify;function CF(){this.b=this.a=null}var kF=new(function(){function e(t,n){this.c=t,this.f=n,this.b=0,this.a=null}return e.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},e}())(function(){return new LI},function(e){e.reset()});CF.prototype.add=function(e,t){var n=kF.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n};function L7(){var e=RF,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function LI(){this.next=this.b=this.a=null}LI.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null};LI.prototype.reset=function(){this.next=this.b=this.a=null};function M7(e){we.setTimeout(function(){throw e},0)}function NF(e,t){lb||F7(),cb||(lb(),cb=!0),RF.add(e,t)}var lb;function F7(){var e=we.Promise.resolve(void 0);lb=function(){e.then(U7)}}var cb=!1,RF=new CF;function U7(){for(var e;e=L7();){try{e.a.call(e.b)}catch(n){M7(n)}var t=kF;t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}cb=!1}function cy(e,t){Lr.call(this),this.b=e||1,this.a=t||we,this.f=On(this.Za,this),this.g=so()}tr(cy,Lr);ie=cy.prototype;ie.aa=!1;ie.M=null;ie.Za=function(){if(this.aa){var e=so()-this.g;0<e&&e<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-e):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Tn(this,"tick"),this.aa&&(MI(this),this.start()))}};ie.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=so())};function MI(e){e.aa=!1,e.M&&(e.a.clearTimeout(e.M),e.M=null)}ie.G=function(){cy.X.G.call(this),MI(this),delete this.a};function FI(e,t,n){if(typeof e=="function")n&&(e=On(e,n));else if(e&&typeof e.handleEvent=="function")e=On(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:we.setTimeout(e,t||0)}function AF(e){e.a=FI(function(){e.a=null,e.c&&(e.c=!1,AF(e))},e.h);var t=e.b;e.b=null,e.g.apply(null,t)}var j7=function(e){m7(t,e);function t(n,r){var i=e.call(this)||this;return i.g=n,i.h=r,i.b=null,i.c=!1,i.a=null,i}return t.prototype.f=function(n){this.b=arguments,this.a?this.c=!0:AF(this)},t.prototype.G=function(){e.prototype.G.call(this),this.a&&(we.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},t}(Gs);function td(e){Gs.call(this),this.b=e,this.a={}}tr(td,Gs);var ix=[];function PF(e,t,n,r){Array.isArray(n)||(n&&(ix[0]=n.toString()),n=ix);for(var i=0;i<n.length;i++){var s=AI(t,n[i],r||e.handleEvent,!1,e.b||e);if(!s)break;e.a[s.key]=s}}function xF(e){CI(e.a,function(t,n){this.a.hasOwnProperty(n)&&PI(t)},e),e.a={}}td.prototype.G=function(){td.X.G.call(this),xF(this)};td.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function UI(){this.a=!0}function V7(e,t,n,r,i,s){e.info(function(){if(e.a)if(s)for(var a="",l=s.split("&"),c=0;c<l.length;c++){var h=l[c].split("=");if(1<h.length){var d=h[0];h=h[1];var v=d.split("_");a=2<=v.length&&v[1]=="type"?a+(d+"="+h+"&"):a+(d+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+a})}function B7(e,t,n,r,i,s,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+s+" "+a})}function Cl(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+z7(e,n)+(r?" "+r:"")})}function $7(e,t){e.info(function(){return"TIMEOUT: "+t})}UI.prototype.info=function(){};function z7(e,t){if(!e.a)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var a=1;a<i.length;a++)i[a]=""}}}}return DI(n)}catch{return t}}var Tu={},ox=null;function fy(){return ox=ox||new Lr}Tu.Fa="serverreachability";function OF(e){Dn.call(this,Tu.Fa,e)}tr(OF,Dn);function nd(e){var t=fy();Tn(t,new OF(t))}Tu.STAT_EVENT="statevent";function DF(e,t){Dn.call(this,Tu.STAT_EVENT,e),this.stat=t}tr(DF,Dn);function Qn(e){var t=fy();Tn(t,new DF(t,e))}Tu.Ga="timingevent";function LF(e){Dn.call(this,Tu.Ga,e)}tr(LF,Dn);function Ld(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return we.setTimeout(function(){e()},t)}var hy={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},MF={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function FF(){}FF.prototype.a=null;function sx(e){var t;return(t=e.a)||(t=e.a={}),t}function UF(){}var Md={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function jI(){Dn.call(this,"d")}tr(jI,Dn);function VI(){Dn.call(this,"c")}tr(VI,Dn);var jF;function VF(){}tr(VF,FF);jF=new VF;function Fd(e,t,n,r){this.g=e,this.c=t,this.f=n,this.S=r||1,this.J=new td(this),this.P=q7,e=ob?125:void 0,this.R=new cy(e),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}var q7=45e3,BF={},fb={};ie=Fd.prototype;ie.setTimeout=function(e){this.P=e};function hb(e,t,n){e.H=1,e.i=py(Mo(t)),e.j=n,e.I=!0,$F(e,null)}function $F(e,t){e.u=so(),Ud(e),e.l=Mo(e.i);var n=e.l,r=e.S;Array.isArray(r)||(r=[String(r)]),GF(n.b,"t",r),e.D=0,e.a=h4(e.g,e.g.C?t:null),0<e.O&&(e.F=new j7(On(e.Ca,e,e.a),e.O)),PF(e.J,e.a,"readystatechange",e.Xa),t=e.B?vF(e.B):{},e.j?(e.m||(e.m="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.a.ba(e.l,e.m,e.j,t)):(e.m="GET",e.a.ba(e.l,e.m,null,t)),nd(),V7(e.c,e.m,e.l,e.f,e.S,e.j)}ie.Xa=function(e){e=e.target;var t=this.F;t&&gs(e)==3?t.f():this.Ca(e)};ie.Ca=function(e){try{if(e==this.a)e:{var t=gs(this.a),n=this.a.ua(),r=this.a.W();if(!(3>t||t==3&&!ob&&!this.a.$())){this.A||t!=4||n==7||(n==8||0>=r?nd(3):nd(2)),dy(this);var i=this.a.W();this.N=i;var s=this.a.$();if(this.b=i==200,B7(this.c,this.m,this.l,this.f,this.S,t,i),this.b){if(this.U&&!this.C){t:{if(this.a){var a,l=this.a;if((a=l.a?l.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Wm(a)){var c=a;break t}}c=null}if(c)Cl(this.c,this.f,c,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,db(this,c);else{this.b=!1,this.h=3,Qn(12),Ml(this),Km(this);break e}}this.I?(zF(this,t,s),ob&&this.b&&t==3&&(PF(this.J,this.R,"tick",this.Wa),this.R.start())):(Cl(this.c,this.f,s,null),db(this,s)),t==4&&Ml(this),this.b&&!this.A&&(t==4?u4(this.g,this):(this.b=!1,Ud(this)))}else i==400&&0<s.indexOf("Unknown SID")?(this.h=3,Qn(12)):(this.h=0,Qn(13)),Ml(this),Km(this)}}}catch{}finally{}};function zF(e,t,n){for(var r=!0;!e.A&&e.D<n.length;){var i=W7(e,n);if(i==fb){t==4&&(e.h=4,Qn(14),r=!1),Cl(e.c,e.f,null,"[Incomplete Response]");break}else if(i==BF){e.h=4,Qn(15),Cl(e.c,e.f,n,"[Invalid Chunk]"),r=!1;break}else Cl(e.c,e.f,i,null),db(e,i)}t==4&&n.length==0&&(e.h=1,Qn(16),r=!1),e.b=e.b&&r,r?0<n.length&&!e.V&&(e.V=!0,t=e.g,t.a==e&&t.U&&!t.F&&(t.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),GI(t),t.F=!0,Qn(11))):(Cl(e.c,e.f,n,"[Invalid Chunked Response]"),Ml(e),Km(e))}ie.Wa=function(){if(this.a){var e=gs(this.a),t=this.a.$();this.D<t.length&&(dy(this),zF(this,e,t),this.b&&e!=4&&Ud(this))}};function W7(e,t){var n=e.D,r=t.indexOf(`
`,n);return r==-1?fb:(n=Number(t.substring(n,r)),isNaN(n)?BF:(r+=1,r+n>t.length?fb:(t=t.substr(r,n),e.D=r+n,t)))}ie.cancel=function(){this.A=!0,Ml(this)};function Ud(e){e.T=so()+e.P,qF(e,e.P)}function qF(e,t){if(e.o!=null)throw Error("WatchDog timer not null");e.o=Ld(On(e.Va,e),t)}function dy(e){e.o&&(we.clearTimeout(e.o),e.o=null)}ie.Va=function(){this.o=null;var e=so();0<=e-this.T?($7(this.c,this.l),this.H!=2&&(nd(),Qn(17)),Ml(this),this.h=2,Km(this)):qF(this,this.T-e)};function Km(e){e.g.v==0||e.A||u4(e.g,e)}function Ml(e){dy(e);var t=e.F;t&&typeof t.ja=="function"&&t.ja(),e.F=null,MI(e.R),xF(e.J),e.a&&(t=e.a,e.a=null,t.abort(),t.ja())}function db(e,t){try{var n=e.g;if(n.v!=0&&(n.a==e||pb(n.b,e))){if(n.I=e.N,!e.C&&pb(n.b,e)&&n.v==3){try{var r=n.ka.a.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.j){if(n.a)if(n.a.u+3e3<e.u)Xm(n),my(n);else break e;KI(n),Qn(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&n.o==0&&!n.m&&(n.m=Ld(On(n.Sa,n),6e3));if(1>=XF(n.b)&&n.ea){try{n.ea()}catch{}n.ea=void 0}}else ja(n,11)}else if((e.C||n.a==e)&&Xm(n),!Wm(t))for(t=r=n.ka.a.parse(t),r=0;r<t.length;r++)if(i=t[r],n.P=i[0],i=i[1],n.v==2)if(i[0]=="c"){n.J=i[1],n.ga=i[2];var s=i[3];s!=null&&(n.ha=s,n.c.info("VER="+n.ha));var a=i[4];a!=null&&(n.pa=a,n.c.info("SVER="+n.pa));var l=i[5];if(l!=null&&typeof l=="number"&&0<l){var c=1.5*l;n.D=c,n.c.info("backChannelRequestTimeoutMs_="+c)}c=n;var h=e.a;if(h){var d=h.a?h.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(d){var v=c.b;!v.a&&(Hn(d,"spdy")||Hn(d,"quic")||Hn(d,"h2"))&&(v.f=v.g,v.a=new Set,v.b&&(zI(v,v.b),v.b=null))}if(c.A){var m=h.a?h.a.getResponseHeader("X-HTTP-Session-Id"):null;m&&(c.na=m,gt(c.B,c.A,m))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=so()-e.u,n.c.info("Handshake RTT: "+n.N+"ms")),c=n;var y=e;if(c.la=f4(c,c.C?c.ga:null,c.fa),y.C){JF(c.b,y);var _=y,E=c.D;E&&_.setTimeout(E),_.o&&(dy(_),Ud(_)),c.a=y}else s4(c);0<n.g.length&&gy(n)}else i[0]!="stop"&&i[0]!="close"||ja(n,7);else n.v==3&&(i[0]=="stop"||i[0]=="close"?i[0]=="stop"?ja(n,7):HI(n):i[0]!="noop"&&n.f&&n.f.sa(i),n.o=0)}nd(4)}catch{}}function H7(e){if(e.K&&typeof e.K=="function")return e.K();if(typeof e=="string")return e.split("");if(ib(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return e=t}function BI(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(ib(e)||typeof e=="string")pF(e,t,void 0);else{if(e.L&&typeof e.L=="function")var n=e.L();else if(e.K&&typeof e.K=="function")n=void 0;else if(ib(e)||typeof e=="string"){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=H7(e),i=r.length;for(var s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}}function xc(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof xc)for(n=e.L(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}ie=xc.prototype;ie.K=function(){$I(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e};ie.L=function(){return $I(this),this.a.concat()};function $I(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];uu(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)r=e.a[t],uu(i,r)||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}ie.get=function(e,t){return uu(this.b,e)?this.b[e]:t};ie.set=function(e,t){uu(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t};ie.forEach=function(e,t){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);e.call(t,s,i,this)}};function uu(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var WF=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function K7(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function lu(e,t){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,e instanceof lu){this.a=t!==void 0?t:e.a,Gm(this,e.f),this.j=e.j,Qm(this,e.c),Ym(this,e.h),this.g=e.g,t=e.b;var n=new rd;n.c=t.c,t.a&&(n.a=new xc(t.a),n.b=t.b),ax(this,n),this.i=e.i}else e&&(n=String(e).match(WF))?(this.a=!!t,Gm(this,n[1]||"",!0),this.j=yh(n[2]||""),Qm(this,n[3]||"",!0),Ym(this,n[4]),this.g=yh(n[5]||"",!0),ax(this,n[6]||"",!0),this.i=yh(n[7]||"")):(this.a=!!t,this.b=new rd(null,this.a))}lu.prototype.toString=function(){var e=[],t=this.f;t&&e.push(Zf(t,ux,!0),":");var n=this.c;return(n||t=="file")&&(e.push("//"),(t=this.j)&&e.push(Zf(t,ux,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.h,n!=null&&e.push(":",String(n))),(n=this.g)&&(this.c&&n.charAt(0)!="/"&&e.push("/"),e.push(Zf(n,n.charAt(0)=="/"?J7:X7,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.i)&&e.push("#",Zf(n,eQ)),e.join("")};function Mo(e){return new lu(e)}function Gm(e,t,n){e.f=n?yh(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function Qm(e,t,n){e.c=n?yh(t,!0):t}function Ym(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.h=t}else e.h=null}function ax(e,t,n){t instanceof rd?(e.b=t,tQ(e.b,e.a)):(n||(t=Zf(t,Z7)),e.b=new rd(t,e.a))}function gt(e,t,n){e.b.set(t,n)}function py(e){return gt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^so()).toString(36)),e}function G7(e){return e instanceof lu?Mo(e):new lu(e,void 0)}function Q7(e,t,n,r){var i=new lu(null,void 0);return e&&Gm(i,e),t&&Qm(i,t),n&&Ym(i,n),r&&(i.g=r),i}function yh(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Zf(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,Y7),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Y7(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var ux=/[#\/\?@]/g,X7=/[#\?:]/g,J7=/[#\?]/g,Z7=/[#\?@]/g,eQ=/#/g;function rd(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Qs(e){e.a||(e.a=new xc,e.b=0,e.c&&K7(e.c,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}ie=rd.prototype;ie.add=function(e,t){Qs(this),this.c=null,e=Oc(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this};function HF(e,t){Qs(e),t=Oc(e,t),uu(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,e=e.a,uu(e.b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&$I(e)))}function KF(e,t){return Qs(e),t=Oc(e,t),uu(e.a.b,t)}ie.forEach=function(e,t){Qs(this),this.a.forEach(function(n,r){pF(n,function(i){e.call(t,i,r,this)},this)},this)};ie.L=function(){Qs(this);for(var e=this.a.K(),t=this.a.L(),n=[],r=0;r<t.length;r++)for(var i=e[r],s=0;s<i.length;s++)n.push(t[r]);return n};ie.K=function(e){Qs(this);var t=[];if(typeof e=="string")KF(this,e)&&(t=XP(t,this.a.get(Oc(this,e))));else{e=this.a.K();for(var n=0;n<e.length;n++)t=XP(t,e[n])}return t};ie.set=function(e,t){return Qs(this),this.c=null,e=Oc(this,e),KF(this,e)&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this};ie.get=function(e,t){return e?(e=this.K(e),0<e.length?String(e[0]):t):t};function GF(e,t,n){HF(e,t),0<n.length&&(e.c=null,e.a.set(Oc(e,t),SI(n)),e.b+=n.length)}ie.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.L(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.K(r);for(var s=0;s<r.length;s++){var a=i;r[s]!==""&&(a+="="+encodeURIComponent(String(r[s]))),e.push(a)}}return this.c=e.join("&")};function Oc(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function tQ(e,t){t&&!e.f&&(Qs(e),e.c=null,e.a.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(HF(this,r),GF(this,i,n))},e)),e.f=t}var nQ=function(){function e(t,n){this.b=t,this.a=n}return e}();function QF(e){this.g=e||rQ,we.PerformanceNavigationTiming?(e=we.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(we.ia&&we.ia.ya&&we.ia.ya()&&we.ia.ya().Lb),this.f=e?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var rQ=10;function YF(e){return e.b?!0:e.a?e.a.size>=e.f:!1}function XF(e){return e.b?1:e.a?e.a.size:0}function pb(e,t){return e.b?e.b==t:e.a?e.a.has(t):!1}function zI(e,t){e.a?e.a.add(t):e.b=t}function JF(e,t){e.b&&e.b==t?e.b=null:e.a&&e.a.has(t)&&e.a.delete(t)}QF.prototype.cancel=function(){var e,t;if(this.c=ZF(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&this.a.size!==0){try{for(var n=hF(this.a.values()),r=n.next();!r.done;r=n.next()){var i=r.value;i.cancel()}}catch(s){e={error:s}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.a.clear()}};function ZF(e){var t,n;if(e.b!=null)return e.c.concat(e.b.s);if(e.a!=null&&e.a.size!==0){var r=e.c;try{for(var i=hF(e.a.values()),s=i.next();!s.done;s=i.next()){var a=s.value;r=r.concat(a.s)}}catch(l){t={error:l}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return SI(e.c)}function qI(){}qI.prototype.stringify=function(e){return we.JSON.stringify(e,void 0)};qI.prototype.parse=function(e){return we.JSON.parse(e,void 0)};function iQ(){this.a=new qI}function oQ(e,t,n){var r=n||"";try{BI(e,function(i,s){var a=i;Od(i)&&(a=DI(i)),t.push(r+s+"="+encodeURIComponent(a))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function sQ(e,t){var n=new UI;if(we.Image){var r=new Image;r.onload=Ev(Tv,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Ev(Tv,n,r,"TestLoadImage: error",!1,t),r.onabort=Ev(Tv,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Ev(Tv,n,r,"TestLoadImage: timeout",!1,t),we.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function Tv(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}var aQ=we.JSON.parse;function nn(e){Lr.call(this),this.headers=new xc,this.H=e||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=uQ,this.D=this.F=!1}tr(nn,Lr);var uQ="",lQ=/^https?$/i,cQ=["POST","PUT"];ie=nn.prototype;ie.ba=function(e,t,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+e);t=t?t.toUpperCase():"GET",this.B=e,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?sx(this.H):sx(jF),this.a.onreadystatechange=On(this.za,this);try{this.A=!0,this.a.open(t,String(e),!0),this.A=!1}catch(s){lx(this,s);return}e=n||"";var i=new xc(this.headers);r&&BI(r,function(s,a){i.set(a,s)}),r=T7(i.L()),n=we.FormData&&e instanceof we.FormData,!(0<=dF(cQ,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,a){this.a.setRequestHeader(a,s)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{n4(this),0<this.o&&((this.D=fQ(this.a))?(this.a.timeout=this.o,this.a.ontimeout=On(this.xa,this)):this.m=FI(this.xa,this.o,this)),this.l=!0,this.a.send(e),this.l=!1}catch(s){lx(this,s)}};function fQ(e){return js&&wF(9)&&typeof e.timeout=="number"&&e.ontimeout!==void 0}function hQ(e){return e.toLowerCase()=="content-type"}ie.xa=function(){typeof II<"u"&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Tn(this,"timeout"),this.abort(8))};function lx(e,t){e.b=!1,e.a&&(e.g=!0,e.a.abort(),e.g=!1),e.f=t,e.h=5,e4(e),vy(e)}function e4(e){e.u||(e.u=!0,Tn(e,"complete"),Tn(e,"error"))}ie.abort=function(e){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=e||7,Tn(this,"complete"),Tn(this,"abort"),vy(this))};ie.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),vy(this,!0)),nn.X.G.call(this)};ie.za=function(){this.j||(this.A||this.l||this.g?t4(this):this.Ua())};ie.Ua=function(){t4(this)};function t4(e){if(e.b&&typeof II<"u"&&(!e.s[1]||gs(e)!=4||e.W()!=2)){if(e.l&&gs(e)==4)FI(e.za,0,e);else if(Tn(e,"readystatechange"),gs(e)==4){e.b=!1;try{{var t=e.W();e:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var r;if(!(r=n)){var i;if(i=t===0){var s=String(e.B).match(WF)[1]||null;if(!s&&we.self&&we.self.location){var a=we.self.location.protocol;s=a.substr(0,a.length-1)}i=!lQ.test(s?s.toLowerCase():"")}r=i}var l=r}if(l)Tn(e,"complete"),Tn(e,"success");else{e.h=6;try{var c=2<gs(e)?e.a.statusText:""}catch{c=""}e.f=c+" ["+e.W()+"]",e4(e)}}finally{vy(e)}}}}function vy(e,t){if(e.a){n4(e);var n=e.a,r=e.s[0]?qm:null;e.a=null,e.s=null,t||Tn(e,"ready");try{n.onreadystatechange=r}catch{}}}function n4(e){e.a&&e.D&&(e.a.ontimeout=null),e.m&&(we.clearTimeout(e.m),e.m=null)}function gs(e){return e.a?e.a.readyState:0}ie.W=function(){try{return 2<gs(this)?this.a.status:-1}catch{return-1}};ie.$=function(){try{return this.a?this.a.responseText:""}catch{return""}};ie.Pa=function(e){if(this.a){var t=this.a.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),aQ(t)}};ie.ua=function(){return this.h};ie.Qa=function(){return typeof this.f=="string"?this.f:String(this.f)};function dQ(e){var t="";return CI(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function WI(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=dQ(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):gt(e,t,n))}function Hf(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function r4(e){this.pa=0,this.g=[],this.c=new UI,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Hf("failFast",!1,e),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Hf("baseRetryDelayMs",5e3,e),this.Ra=Hf("retryDelaySeedMs",1e4,e),this.Ma=Hf("forwardChannelMaxRetries",2,e),this.ma=Hf("forwardChannelRequestTimeoutMs",2e4,e),this.Na=e&&e.g||void 0,this.D=void 0,this.C=e&&e.supportsCrossDomainXhr||!1,this.J="",this.b=new QF(e&&e.concurrentRequestLimit),this.ka=new iQ,this.da=e&&e.fastHandshake||!1,this.Ia=e&&e.b||!1,e&&e.f&&(this.c.a=!1),e&&e.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&e&&e.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=e&&e.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}ie=r4.prototype;ie.ha=8;ie.v=1;function HI(e){if(i4(e),e.v==3){var t=e.R++,n=Mo(e.B);gt(n,"SID",e.J),gt(n,"RID",t),gt(n,"TYPE","terminate"),jd(e,n),t=new Fd(e,e.c,t,void 0),t.H=2,t.i=py(Mo(n)),n=!1,we.navigator&&we.navigator.sendBeacon&&(n=we.navigator.sendBeacon(t.i.toString(),"")),!n&&we.Image&&(new Image().src=t.i,n=!0),n||(t.a=h4(t.g,null),t.a.ba(t.i)),t.u=so(),Ud(t)}c4(e)}function my(e){e.a&&(GI(e),e.a.cancel(),e.a=null)}function i4(e){my(e),e.j&&(we.clearTimeout(e.j),e.j=null),Xm(e),e.b.cancel(),e.h&&(typeof e.h=="number"&&we.clearTimeout(e.h),e.h=null)}function fE(e,t){e.g.push(new nQ(e.Oa++,t)),e.v==3&&gy(e)}function gy(e){YF(e.b)||e.h||(e.h=!0,NF(e.Ba,e),e.u=0)}function pQ(e,t){return XF(e.b)>=e.b.f-(e.h?1:0)?!1:e.h?(e.g=t.s.concat(e.g),!0):e.v==1||e.v==2||e.u>=(e.La?0:e.Ma)?!1:(e.h=Ld(On(e.Ba,e,t),l4(e,e.u)),e.u++,!0)}ie.Ba=function(e){if(this.h)if(this.h=null,this.v==1){if(!e){this.R=Math.floor(1e5*Math.random()),e=this.R++;var t=new Fd(this,this.c,e,void 0),n=this.l;this.O&&(n?(n=vF(n),mF(n,this.O)):n=this.O),this.i===null&&(t.B=n);var r;if(this.da)e:{for(var i=r=0;i<this.g.length;i++){t:{var s=this.g[i];if("__data__"in s.a&&(s=s.a.__data__,typeof s=="string")){s=s.length;break t}s=void 0}if(s===void 0)break;if(r+=s,4096<r){r=i;break e}if(r===4096||i===this.g.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=o4(this,t,r),i=Mo(this.B),gt(i,"RID",e),gt(i,"CVER",22),this.A&&gt(i,"X-HTTP-Session-Id",this.A),jd(this,i),this.i&&n&&WI(i,this.i,n),zI(this.b,t),this.Ia&&gt(i,"TYPE","init"),this.da?(gt(i,"$req",r),gt(i,"SID","null"),t.U=!0,hb(t,i,null)):hb(t,i,r),this.v=2}}else this.v==3&&(e?cx(this,e):this.g.length==0||YF(this.b)||cx(this))};function cx(e,t){var n;t?n=t.f:n=e.R++;var r=Mo(e.B);gt(r,"SID",e.J),gt(r,"RID",n),gt(r,"AID",e.P),jd(e,r),e.i&&e.l&&WI(r,e.i,e.l),n=new Fd(e,e.c,n,e.u+1),e.i===null&&(n.B=e.l),t&&(e.g=t.s.concat(e.g)),t=o4(e,n,1e3),n.setTimeout(Math.round(.5*e.ma)+Math.round(.5*e.ma*Math.random())),zI(e.b,n),hb(n,r,t)}function jd(e,t){e.f&&BI({},function(n,r){gt(t,r,n)})}function o4(e,t,n){n=Math.min(e.g.length,n);var r=e.f?On(e.f.Ja,e.f,e):null;e:for(var i=e.g,s=-1;;){var a=["count="+n];s==-1?0<n?(s=i[0].b,a.push("ofs="+s)):s=0:a.push("ofs="+s);for(var l=!0,c=0;c<n;c++){var h=i[c].b,d=i[c].a;if(h-=s,0>h)s=Math.max(0,i[c].b-100),l=!1;else try{oQ(d,a,"req"+h+"_")}catch{r&&r(d)}}if(l){r=a.join("&");break e}}return e=e.g.splice(0,n),t.s=e,r}function s4(e){e.a||e.j||(e.T=1,NF(e.Aa,e),e.o=0)}function KI(e){return e.a||e.j||3<=e.o?!1:(e.T++,e.j=Ld(On(e.Aa,e),l4(e,e.o)),e.o++,!0)}ie.Aa=function(){if(this.j=null,a4(this),this.U&&!(this.F||this.a==null||0>=this.N)){var e=2*this.N;this.c.info("BP detection timer enabled: "+e),this.s=Ld(On(this.Ta,this),e)}};ie.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Qn(10),my(this),a4(this))};function GI(e){e.s!=null&&(we.clearTimeout(e.s),e.s=null)}function a4(e){e.a=new Fd(e,e.c,"rpc",e.T),e.i===null&&(e.a.B=e.l),e.a.O=0;var t=Mo(e.la);gt(t,"RID","rpc"),gt(t,"SID",e.J),gt(t,"CI",e.H?"0":"1"),gt(t,"AID",e.P),jd(e,t),gt(t,"TYPE","xmlhttp"),e.i&&e.l&&WI(t,e.i,e.l),e.D&&e.a.setTimeout(e.D);var n=e.a;e=e.ga,n.H=1,n.i=py(Mo(t)),n.j=null,n.I=!0,$F(n,e)}ie.Sa=function(){this.m!=null&&(this.m=null,my(this),KI(this),Qn(19))};function Xm(e){e.m!=null&&(we.clearTimeout(e.m),e.m=null)}function u4(e,t){var n=null;if(e.a==t){Xm(e),GI(e),e.a=null;var r=2}else if(pb(e.b,t))n=t.s,JF(e.b,t),r=1;else return;if(e.I=t.N,e.v!=0){if(t.b)if(r==1){n=t.j?t.j.length:0,t=so()-t.u;var i=e.u;r=fy(),Tn(r,new LF(r)),gy(e)}else s4(e);else if(i=t.h,i==3||i==0&&0<e.I||!(r==1&&pQ(e,t)||r==2&&KI(e)))switch(n&&0<n.length&&(t=e.b,t.c=t.c.concat(n)),i){case 1:ja(e,5);break;case 4:ja(e,10);break;case 3:ja(e,6);break;default:ja(e,2)}}}function l4(e,t){var n=e.Ha+Math.floor(Math.random()*e.Ra);return e.f||(n*=2),n*t}function ja(e,t){if(e.c.info("Error code "+t),t==2){var n=null;e.f&&(n=null);var r=On(e.Ya,e);n||(n=new lu("//www.google.com/images/cleardot.gif"),we.location&&we.location.protocol=="http"||Gm(n,"https"),py(n)),sQ(n.toString(),r)}else Qn(2);e.v=0,e.f&&e.f.ra(t),c4(e),i4(e)}ie.Ya=function(e){e?(this.c.info("Successfully pinged google.com"),Qn(2)):(this.c.info("Failed to ping google.com"),Qn(1))};function c4(e){e.v=0,e.I=-1,e.f&&((ZF(e.b).length!=0||e.g.length!=0)&&(e.b.c.length=0,SI(e.g),e.g.length=0),e.f.qa())}function f4(e,t,n){var r=G7(n);if(r.c!="")t&&Qm(r,t+"."+r.c),Ym(r,r.h);else{var i=we.location;r=Q7(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.V&&CI(e.V,function(s,a){gt(r,a,s)}),t=e.A,n=e.na,t&&n&&gt(r,t,n),gt(r,"VER",e.ha),jd(e,r),r}function h4(e,t){if(t&&!e.C)throw Error("Can't create secondary domain capable XhrIo object.");return t=new nn(e.Na),t.F=e.C,t}function d4(){}ie=d4.prototype;ie.ta=function(){};ie.sa=function(){};ie.ra=function(){};ie.qa=function(){};ie.Ja=function(){};function Jm(){if(js&&!(10<=Number(EF)))throw Error("Environmental error: no available transport.")}Jm.prototype.a=function(e,t){return new Mr(e,t)};function Mr(e,t){Lr.call(this),this.a=new r4(t),this.o=e,this.b=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.a.l=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.a&&(e?e["X-WebChannel-Client-Profile"]=t.a:e={"X-WebChannel-Client-Profile":t.a}),this.a.O=e,(e=t&&t.httpHeadersOverwriteParam)&&!Wm(e)&&(this.a.i=e),this.m=t&&t.supportsCrossDomainXhr||!1,this.l=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Wm(t)&&(this.a.A=t,e=this.b,e!==null&&t in e&&(e=this.b,t in e&&delete e[t])),this.f=new Dc(this)}tr(Mr,Lr);Mr.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var e=this.a,t=this.o,n=this.b||void 0;Qn(0),e.fa=t,e.V=n||{},e.H=e.S,e.B=f4(e,null,e.fa),gy(e)};Mr.prototype.close=function(){HI(this.a)};Mr.prototype.h=function(e){if(typeof e=="string"){var t={};t.__data__=e,fE(this.a,t)}else this.l?(t={},t.__data__=DI(e),fE(this.a,t)):fE(this.a,e)};Mr.prototype.G=function(){this.a.f=null,delete this.f,HI(this.a),delete this.a,Mr.X.G.call(this)};function p4(e){jI.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.c=e)?(e=this.c,this.data=t!==null&&e in t?t[e]:void 0):this.data=t}else this.data=e}tr(p4,jI);function v4(){VI.call(this),this.status=1}tr(v4,VI);function Dc(e){this.a=e}tr(Dc,d4);Dc.prototype.ta=function(){Tn(this.a,"a")};Dc.prototype.sa=function(e){Tn(this.a,new p4(e))};Dc.prototype.ra=function(e){Tn(this.a,new v4)};Dc.prototype.qa=function(){Tn(this.a,"b")};Jm.prototype.createWebChannel=Jm.prototype.a;Mr.prototype.send=Mr.prototype.h;Mr.prototype.open=Mr.prototype.g;Mr.prototype.close=Mr.prototype.close;hy.NO_ERROR=0;hy.TIMEOUT=8;hy.HTTP_ERROR=6;MF.COMPLETE="complete";UF.EventType=Md;Md.OPEN="a";Md.CLOSE="b";Md.ERROR="c";Md.MESSAGE="d";Lr.prototype.listen=Lr.prototype.va;nn.prototype.listenOnce=nn.prototype.wa;nn.prototype.getLastError=nn.prototype.Qa;nn.prototype.getLastErrorCode=nn.prototype.ua;nn.prototype.getStatus=nn.prototype.W;nn.prototype.getResponseJson=nn.prototype.Pa;nn.prototype.getResponseText=nn.prototype.$;nn.prototype.send=nn.prototype.ba;var vQ=function(){return new Jm},mQ=function(){return fy()},hE=hy,gQ=MF,yQ=Tu,fx={gb:0,jb:1,kb:2,Db:3,Ib:4,Fb:5,Gb:6,Eb:7,Cb:8,Hb:9,PROXY:10,NOPROXY:11,Ab:12,wb:13,xb:14,vb:15,yb:16,zb:17,bb:18,ab:19,cb:20},Iv=UF,_Q=nn;/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rr=function(){function e(t,n){var r=this;this.previousValue=t,n&&(n.sequenceNumberHandler=function(i){return r.t(i)},this.i=function(i){return n.writeSequenceNumber(i)})}return e.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},e.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},e}();Rr.o=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var L={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},z=function(e){function t(n,r){var i=this;return(i=e.call(this,r)||this).code=n,i.message=r,i.name="FirebaseError",i.toString=function(){return i.name+": [code="+i.code+"]: "+i.message},i}return J(t,e),t}(Error),Ai=new kc("@firebase/firestore");function vb(){return Ai.logLevel}function Q(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Ai.logLevel<=ke.DEBUG){var r=t.map(QI);Ai.debug.apply(Ai,Ne(["Firestore (8.5.0): "+e],r))}}function Wt(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Ai.logLevel<=ke.ERROR){var r=t.map(QI);Ai.error.apply(Ai,Ne(["Firestore (8.5.0): "+e],r))}}function Zm(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Ai.logLevel<=ke.WARN){var r=t.map(QI);Ai.warn.apply(Ai,Ne(["Firestore (8.5.0): "+e],r))}}function QI(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function se(e){e===void 0&&(e="Unexpected state");var t="FIRESTORE (8.5.0) INTERNAL ASSERTION FAILED: "+e;throw Wt(t),new Error(t)}function ve(e,t){e||se()}function X(e,t){return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wQ(e){var t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var m4=function(){function e(){}return e.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length,r="";r.length<20;)for(var i=wQ(40),s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%t.length));return r},e}();function Pe(e,t){return e<t?-1:e>t?1:0}function tc(e,t,n){return e.length===t.length&&e.every(function(r,i){return n(r,t[i])})}function g4(e){return e+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gr=function(){function e(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new z(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new z(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new z(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new z(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(t){return this.seconds===t.seconds?Pe(this.nanoseconds,t.nanoseconds):Pe(this.seconds,t.seconds)},e.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),Ce=function(){function e(t){this.timestamp=t}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new gr(0,0))},e.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},e.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hx(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Vd(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function y4(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _4=function(){function e(t,n,r){n===void 0?n=0:n>t.length&&se(),r===void 0?r=t.length-n:r>t.length-n&&se(),this.segments=t,this.offset=n,this.len=r}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return e.comparator(this,t)===0},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(r){n.push(r)}):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(t){return this.segments[this.offset+t]},e.prototype.isEmpty=function(){return this.length===0},e.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.forEach=function(t){for(var n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(t,n){for(var r=Math.min(t.length,n.length),i=0;i<r;i++){var s=t.get(i),a=n.get(i);if(s<a)return-1;if(s>a)return 1}return t.length<n.length?-1:t.length>n.length?1:0},e}(),$e=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return J(t,e),t.prototype.construct=function(n,r,i){return new t(n,r,i)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var i=[],s=0,a=n;s<a.length;s++){var l=a[s];if(l.indexOf("//")>=0)throw new z(L.INVALID_ARGUMENT,"Invalid segment ("+l+"). Paths must not contain // in them.");i.push.apply(i,l.split("/").filter(function(c){return c.length>0}))}return new t(i)},t.emptyPath=function(){return new t([])},t}(_4),EQ=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ai=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return J(t,e),t.prototype.construct=function(n,r,i){return new t(n,r,i)},t.isValidIdentifier=function(n){return EQ.test(n)},t.prototype.canonicalString=function(){return this.toArray().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(n)||(n="`"+n+"`"),n}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return this.length===1&&this.get(0)==="__name__"},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(n){for(var r=[],i="",s=0,a=function(){if(i.length===0)throw new z(L.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");r.push(i),i=""},l=!1;s<n.length;){var c=n[s];if(c==="\\"){if(s+1===n.length)throw new z(L.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var h=n[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new z(L.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);i+=h,s+=2}else c==="`"?(l=!l,s++):c!=="."||l?(i+=c,s++):(a(),s++)}if(a(),l)throw new z(L.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new t(r)},t.emptyPath=function(){return new t([])},t}(_4),nc=function(){function e(t){this.fields=t,t.sort(ai.comparator)}return e.prototype.covers=function(t){for(var n=0,r=this.fields;n<r.length;n++)if(r[n].isPrefixOf(t))return!0;return!1},e.prototype.isEqual=function(t){return tc(this.fields,t.fields,function(n,r){return n.isEqual(r)})},e}(),Xn=function(){function e(t){this.binaryString=t}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(n){for(var r="",i=0;i<n.length;++i)r+=String.fromCharCode(n[i]);return r}(t))},e.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},e.prototype.toUint8Array=function(){return function(t){for(var n=new Uint8Array(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(t){return Pe(this.binaryString,t.binaryString)},e.prototype.isEqual=function(t){return this.binaryString===t.binaryString},e}();Xn.EMPTY_BYTE_STRING=new Xn("");var bQ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vs(e){if(ve(!!e),typeof e=="string"){var t=0,n=bQ.exec(e);if(ve(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:zt(e.seconds),nanos:zt(e.nanos)}}function zt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function rc(e){return typeof e=="string"?Xn.fromBase64String(e):Xn.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YI(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function w4(e){var t=e.mapValue.fields.__previous_value__;return YI(t)?w4(t):t}function id(e){var t=Vs(e.mapValue.fields.__local_write_time__.timestampValue);return new gr(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iu(e){return e==null}function eg(e){return e===0&&1/e==-1/0}function E4(e){return typeof e=="number"&&Number.isInteger(e)&&!eg(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var le=function(){function e(t){this.path=t}return e.fromPath=function(t){return new e($e.fromString(t))},e.fromName=function(t){return new e($e.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},e.prototype.isEqual=function(t){return t!==null&&$e.comparator(this.path,t.path)===0},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(t,n){return $e.comparator(t.path,n.path)},e.isDocumentKey=function(t){return t.length%2==0},e.fromSegments=function(t){return new e(new $e(t.slice()))},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bs(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?YI(e)?4:10:se()}function ro(e,t){var n=Bs(e);if(n!==Bs(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return id(e).isEqual(id(t));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;var s=Vs(r.timestampValue),a=Vs(i.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,i){return rc(r.bytesValue).isEqual(rc(i.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,i){return zt(r.geoPointValue.latitude)===zt(i.geoPointValue.latitude)&&zt(r.geoPointValue.longitude)===zt(i.geoPointValue.longitude)}(e,t);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return zt(r.integerValue)===zt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){var s=zt(r.doubleValue),a=zt(i.doubleValue);return s===a?eg(s)===eg(a):isNaN(s)&&isNaN(a)}return!1}(e,t);case 9:return tc(e.arrayValue.values||[],t.arrayValue.values||[],ro);case 10:return function(r,i){var s=r.mapValue.fields||{},a=i.mapValue.fields||{};if(hx(s)!==hx(a))return!1;for(var l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!ro(s[l],a[l])))return!1;return!0}(e,t);default:return se()}}function od(e,t){return(e.values||[]).find(function(n){return ro(n,t)})!==void 0}function ic(e,t){var n=Bs(e),r=Bs(t);if(n!==r)return Pe(n,r);switch(n){case 0:return 0;case 1:return Pe(e.booleanValue,t.booleanValue);case 2:return function(i,s){var a=zt(i.integerValue||i.doubleValue),l=zt(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return dx(e.timestampValue,t.timestampValue);case 4:return dx(id(e),id(t));case 5:return Pe(e.stringValue,t.stringValue);case 6:return function(i,s){var a=rc(i),l=rc(s);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(i,s){for(var a=i.split("/"),l=s.split("/"),c=0;c<a.length&&c<l.length;c++){var h=Pe(a[c],l[c]);if(h!==0)return h}return Pe(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(i,s){var a=Pe(zt(i.latitude),zt(s.latitude));return a!==0?a:Pe(zt(i.longitude),zt(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(i,s){for(var a=i.values||[],l=s.values||[],c=0;c<a.length&&c<l.length;++c){var h=ic(a[c],l[c]);if(h)return h}return Pe(a.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(i,s){var a=i.fields||{},l=Object.keys(a),c=s.fields||{},h=Object.keys(c);l.sort(),h.sort();for(var d=0;d<l.length&&d<h.length;++d){var v=Pe(l[d],h[d]);if(v!==0)return v;var m=ic(a[l[d]],c[h[d]]);if(m!==0)return m}return Pe(l.length,h.length)}(e.mapValue,t.mapValue);default:throw se()}}function dx(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Pe(e,t);var n=Vs(e),r=Vs(t),i=Pe(n.seconds,r.seconds);return i!==0?i:Pe(n.nanos,r.nanos)}function XI(e){return mb(e)}function mb(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){var i=Vs(r);return"time("+i.seconds+","+i.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?rc(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,le.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(r){for(var i="[",s=!0,a=0,l=r.values||[];a<l.length;a++)s?s=!1:i+=",",i+=mb(l[a]);return i+"]"}(e.arrayValue):"mapValue"in e?function(r){for(var i="{",s=!0,a=0,l=Object.keys(r.fields||{}).sort();a<l.length;a++){var c=l[a];s?s=!1:i+=",",i+=c+":"+mb(r.fields[c])}return i+"}"}(e.mapValue):se();var t,n}function tg(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function gb(e){return!!e&&"integerValue"in e}function JI(e){return!!e&&"arrayValue"in e}function px(e){return!!e&&"nullValue"in e}function vx(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function yb(e){return!!e&&"mapValue"in e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kr=function(){function e(t){this.overlayMap=new Map,this.partialValue=t}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(t){return e.extractNestedValue(this.buildProto(),t)},e.prototype.toProto=function(){return this.field(ai.emptyPath())},e.prototype.set=function(t,n){this.setOverlay(t,n)},e.prototype.setAll=function(t){var n=this;t.forEach(function(r,i){r?n.set(i,r):n.delete(i)})},e.prototype.delete=function(t){this.setOverlay(t,null)},e.prototype.isEqual=function(t){return ro(this.buildProto(),t.buildProto())},e.prototype.setOverlay=function(t,n){for(var r=this.overlayMap,i=0;i<t.length-1;++i){var s=t.get(i),a=r.get(s);a instanceof Map?r=a:a&&Bs(a)===10?(a=new Map(Object.entries(a.mapValue.fields||{})),r.set(s,a),r=a):(a=new Map,r.set(s,a),r=a)}r.set(t.lastSegment(),n)},e.prototype.applyOverlay=function(t,n){var r=this,i=!1,s=e.extractNestedValue(this.partialValue,t),a=yb(s)?Object.assign({},s.mapValue.fields):{};return n.forEach(function(l,c){if(l instanceof Map){var h=r.applyOverlay(t.child(c),l);h!=null&&(a[c]=h,i=!0)}else l!==null?(a[c]=l,i=!0):a.hasOwnProperty(c)&&(delete a[c],i=!0)}),i?{mapValue:{fields:a}}:null},e.prototype.buildProto=function(){var t=this.applyOverlay(ai.emptyPath(),this.overlayMap);return t!=null&&(this.partialValue=t,this.overlayMap.clear()),this.partialValue},e.extractNestedValue=function(t,n){if(n.isEmpty())return t;for(var r=t,i=0;i<n.length-1;++i)if(!r.mapValue.fields||!yb(r=r.mapValue.fields[n.get(i)]))return null;return(r=(r.mapValue.fields||{})[n.lastSegment()])||null},e.prototype.clone=function(){return new e(this.buildProto())},e}();function b4(e){var t=[];return Vd(e.fields||{},function(n,r){var i=new ai([n]);if(yb(r)){var s=b4(r.mapValue).fields;if(s.length===0)t.push(i);else for(var a=0,l=s;a<l.length;a++){var c=l[a];t.push(i.child(c))}}else t.push(i)}),new nc(t)}var Sn=function(){function e(t,n,r,i,s){this.key=t,this.documentType=n,this.version=r,this.data=i,this.documentState=s}return e.newInvalidDocument=function(t){return new e(t,0,Ce.min(),kr.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,kr.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,kr.empty(),2)},e.prototype.convertToFoundDocument=function(t,n){return this.version=t,this.documentType=1,this.data=n,this.documentState=0,this},e.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=kr.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=kr.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return this.documentState===1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return this.documentState===2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return this.documentType!==0},e.prototype.isFoundDocument=function(){return this.documentType===1},e.prototype.isNoDocument=function(){return this.documentType===2},e.prototype.isUnknownDocument=function(){return this.documentType===3},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.toProto())+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),TQ=function(e,t,n,r,i,s,a){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s=null),a===void 0&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.h=null};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mx(e,t,n,r,i,s,a){return t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s=null),a===void 0&&(a=null),new TQ(e,t,n,r,i,s,a)}function Bd(e){var t=X(e);if(t.h===null){var n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(r){return function(i){return i.field.canonicalString()+i.op.toString()+XI(i.value)}(r)}).join(","),n+="|ob:",n+=t.orderBy.map(function(r){return function(i){return i.field.canonicalString()+i.dir}(r)}).join(","),Iu(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=rg(t.startAt)),t.endAt&&(n+="|ub:",n+=rg(t.endAt)),t.h=n}return t.h}function yy(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!PQ(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],s=t.filters[r],i.op!==s.op||!i.field.isEqual(s.field)||!ro(i.value,s.value))return!1;var i,s;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!yx(e.startAt,t.startAt)&&yx(e.endAt,t.endAt)}function ng(e){return le.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}var Ar=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).field=n,s.op=r,s.value=i,s}return J(t,e),t.create=function(n,r,i){return n.isKeyField()?r==="in"||r==="not-in"?this.l(n,r,i):new IQ(n,r,i):r==="array-contains"?new kQ(n,i):r==="in"?new NQ(n,i):r==="not-in"?new RQ(n,i):r==="array-contains-any"?new AQ(n,i):new t(n,r,i)},t.l=function(n,r,i){return r==="in"?new SQ(n,i):new CQ(n,i)},t.prototype.matches=function(n){var r=n.data.field(this.field);return this.op==="!="?r!==null&&this.m(ic(r,this.value)):r!==null&&Bs(this.value)===Bs(r)&&this.m(ic(r,this.value))},t.prototype.m=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return se()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}(function(){}),IQ=function(e){function t(n,r,i){var s=this;return(s=e.call(this,n,r,i)||this).key=le.fromName(i.referenceValue),s}return J(t,e),t.prototype.matches=function(n){var r=le.comparator(n.key,this.key);return this.m(r)},t}(Ar),SQ=function(e){function t(n,r){var i=this;return(i=e.call(this,n,"in",r)||this).keys=T4("in",r),i}return J(t,e),t.prototype.matches=function(n){return this.keys.some(function(r){return r.isEqual(n.key)})},t}(Ar),CQ=function(e){function t(n,r){var i=this;return(i=e.call(this,n,"not-in",r)||this).keys=T4("not-in",r),i}return J(t,e),t.prototype.matches=function(n){return!this.keys.some(function(r){return r.isEqual(n.key)})},t}(Ar);function T4(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(r){return le.fromName(r.referenceValue)})}var kQ=function(e){function t(n,r){return e.call(this,n,"array-contains",r)||this}return J(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return JI(r)&&od(r.arrayValue,this.value)},t}(Ar),NQ=function(e){function t(n,r){return e.call(this,n,"in",r)||this}return J(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return r!==null&&od(this.value.arrayValue,r)},t}(Ar),RQ=function(e){function t(n,r){return e.call(this,n,"not-in",r)||this}return J(t,e),t.prototype.matches=function(n){if(od(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var r=n.data.field(this.field);return r!==null&&!od(this.value.arrayValue,r)},t}(Ar),AQ=function(e){function t(n,r){return e.call(this,n,"array-contains-any",r)||this}return J(t,e),t.prototype.matches=function(n){var r=this,i=n.data.field(this.field);return!(!JI(i)||!i.arrayValue.values)&&i.arrayValue.values.some(function(s){return od(r.value.arrayValue,s)})},t}(Ar),sd=function(e,t){this.position=e,this.before=t};function rg(e){return(e.before?"b":"a")+":"+e.position.map(function(t){return XI(t)}).join(",")}var Fl=function(e,t){t===void 0&&(t="asc"),this.field=e,this.dir=t};function PQ(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function gx(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var s=t[i],a=e.position[i];if(r=s.field.isKeyField()?le.comparator(le.fromName(a.referenceValue),n.key):ic(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return e.before?r<=0:r<0}function yx(e,t){if(e===null)return t===null;if(t===null||e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!ro(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bo=function(e,t,n,r,i,s,a,l){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),i===void 0&&(i=null),s===void 0&&(s="F"),a===void 0&&(a=null),l===void 0&&(l=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=l,this.p=null,this.T=null,this.startAt,this.endAt};function I4(e,t,n,r,i,s,a,l){return new Bo(e,t,n,r,i,s,a,l)}function Lc(e){return new Bo(e)}function Yv(e){return!Iu(e.limit)&&e.limitType==="F"}function ig(e){return!Iu(e.limit)&&e.limitType==="L"}function ZI(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function eS(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function tS(e){return e.collectionGroup!==null}function oc(e){var t=X(e);if(t.p===null){t.p=[];var n=eS(t),r=ZI(t);if(n!==null&&r===null)n.isKeyField()||t.p.push(new Fl(n)),t.p.push(new Fl(ai.keyField(),"asc"));else{for(var i=!1,s=0,a=t.explicitOrderBy;s<a.length;s++){var l=a[s];t.p.push(l),l.field.isKeyField()&&(i=!0)}if(!i){var c=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new Fl(ai.keyField(),c))}}}return t.p}function ui(e){var t=X(e);if(!t.T)if(t.limitType==="F")t.T=mx(t.path,t.collectionGroup,oc(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=oc(t);r<i.length;r++){var s=i[r],a=s.dir==="desc"?"asc":"desc";n.push(new Fl(s.field,a))}var l=t.endAt?new sd(t.endAt.position,!t.endAt.before):null,c=t.startAt?new sd(t.startAt.position,!t.startAt.before):null;t.T=mx(t.path,t.collectionGroup,n,t.filters,t.limit,l,c)}return t.T}function S4(e,t,n){return new Bo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function $d(e,t){return yy(ui(e),ui(t))&&e.limitType===t.limitType}function C4(e){return Bd(ui(e))+"|lt:"+e.limitType}function _b(e){return"Query(target="+function(t){var n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=", filters: ["+t.filters.map(function(r){return(i=r).field.canonicalString()+" "+i.op+" "+XI(i.value);var i}).join(", ")+"]"),Iu(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=", orderBy: ["+t.orderBy.map(function(r){return function(i){return i.field.canonicalString()+" ("+i.dir+")"}(r)}).join(", ")+"]"),t.startAt&&(n+=", startAt: "+rg(t.startAt)),t.endAt&&(n+=", endAt: "+rg(t.endAt)),"Target("+n+")"}(ui(e))+"; limitType="+e.limitType+")"}function zd(e,t){return t.isFoundDocument()&&function(n,r){var i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):le.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(e,t)&&function(n,r){for(var i=0,s=n.explicitOrderBy;i<s.length;i++){var a=s[i];if(!a.field.isKeyField()&&r.data.field(a.field)===null)return!1}return!0}(e,t)&&function(n,r){for(var i=0,s=n.filters;i<s.length;i++)if(!s[i].matches(r))return!1;return!0}(e,t)&&function(n,r){return!(n.startAt&&!gx(n.startAt,oc(n),r))&&(!n.endAt||!gx(n.endAt,oc(n),r))}(e,t)}function k4(e){return function(t,n){for(var r=!1,i=0,s=oc(e);i<s.length;i++){var a=s[i],l=xQ(a,t,n);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function xQ(e,t,n){var r=e.field.isKeyField()?le.comparator(t.key,n.key):function(i,s,a){var l=s.data.field(i),c=a.data.field(i);return l!==null&&c!==null?ic(l,c):se()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return se()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N4(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:eg(t)?"-0":t}}function R4(e){return{integerValue:""+e}}function A4(e,t){return E4(t)?R4(t):N4(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _y=function(){this._=void 0};function OQ(e,t,n){return e instanceof sc?function(r,i){var s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,t):e instanceof cu?x4(e,t):e instanceof fu?O4(e,t):function(r,i){var s=P4(r,i),a=_x(s)+_x(r.A);return gb(s)&&gb(r.A)?R4(a):N4(r.R,a)}(e,t)}function DQ(e,t,n){return e instanceof cu?x4(e,t):e instanceof fu?O4(e,t):n}function P4(e,t){return e instanceof ac?gb(n=t)||function(r){return!!r&&"doubleValue"in r}(n)?t:{integerValue:0}:null;var n}var sc=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return J(t,e),t}(_y),cu=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return J(t,e),t}(_y);function x4(e,t){for(var n=D4(t),r=function(a){n.some(function(l){return ro(l,a)})||n.push(a)},i=0,s=e.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var fu=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return J(t,e),t}(_y);function O4(e,t){for(var n=D4(t),r=function(a){n=n.filter(function(l){return!ro(l,a)})},i=0,s=e.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var ac=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).R=n,i.A=r,i}return J(t,e),t}(_y);function _x(e){return zt(e.integerValue||e.doubleValue)}function D4(e){return JI(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qd=function(e,t){this.field=e,this.transform=t},LQ=function(e,t){this.version=e,this.transformResults=t},xn=function(){function e(t,n){this.updateTime=t,this.exists=n}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},e}();function Xv(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}var wy=function(){};function MQ(e,t,n){e instanceof Wd?function(r,i,s){var a=r.value.clone(),l=bx(r.fieldTransforms,i,s.transformResults);a.setAll(l),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(e,t,n):e instanceof Ys?function(r,i,s){if(Xv(r.precondition,i)){var a=bx(r.fieldTransforms,i,s.transformResults),l=i.data;l.setAll(L4(r)),l.setAll(a),i.convertToFoundDocument(s.version,l).setHasCommittedMutations()}else i.convertToUnknownDocument(s.version)}(e,t,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function wb(e,t,n){e instanceof Wd?function(r,i,s){if(Xv(r.precondition,i)){var a=r.value.clone(),l=Tx(r.fieldTransforms,s,i);a.setAll(l),i.convertToFoundDocument(Ex(i),a).setHasLocalMutations()}}(e,t,n):e instanceof Ys?function(r,i,s){if(Xv(r.precondition,i)){var a=Tx(r.fieldTransforms,s,i),l=i.data;l.setAll(L4(r)),l.setAll(a),i.convertToFoundDocument(Ex(i),l).setHasLocalMutations()}}(e,t,n):function(r,i){Xv(r.precondition,i)&&i.convertToNoDocument(Ce.min())}(e,t)}function FQ(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var s=i[r],a=t.data.field(s.field),l=P4(s.transform,a||null);l!=null&&(n==null&&(n=kr.empty()),n.set(s.field,l))}return n||null}function wx(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&tc(n,r,function(i,s){return function(a,l){return a.field.isEqual(l.field)&&function(c,h){return c instanceof cu&&h instanceof cu||c instanceof fu&&h instanceof fu?tc(c.elements,h.elements,ro):c instanceof ac&&h instanceof ac?ro(c.A,h.A):c instanceof sc&&h instanceof sc}(a.transform,l.transform)}(i,s)})}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Ex(e){return e.isFoundDocument()?e.version:Ce.min()}var Wd=function(e){function t(n,r,i,s){s===void 0&&(s=[]);var a=this;return(a=e.call(this)||this).key=n,a.value=r,a.precondition=i,a.fieldTransforms=s,a.type=0,a}return J(t,e),t}(wy),Ys=function(e){function t(n,r,i,s,a){a===void 0&&(a=[]);var l=this;return(l=e.call(this)||this).key=n,l.data=r,l.fieldMask=i,l.precondition=s,l.fieldTransforms=a,l.type=1,l}return J(t,e),t}(wy);function L4(e){var t=new Map;return e.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}}),t}function bx(e,t,n){var r=new Map;ve(e.length===n.length);for(var i=0;i<n.length;i++){var s=e[i],a=s.transform,l=t.data.field(s.field);r.set(s.field,DQ(a,l,n[i]))}return r}function Tx(e,t,n){for(var r=new Map,i=0,s=e;i<s.length;i++){var a=s[i],l=a.transform,c=n.data.field(a.field);r.set(a.field,OQ(l,c,t))}return r}var Bt,Le,Hd=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).key=n,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return J(t,e),t}(wy),nS=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).key=n,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return J(t,e),t}(wy),UQ=function(e){this.count=e};function M4(e){switch(e){case L.OK:return se();case L.CANCELLED:case L.UNKNOWN:case L.DEADLINE_EXCEEDED:case L.RESOURCE_EXHAUSTED:case L.INTERNAL:case L.UNAVAILABLE:case L.UNAUTHENTICATED:return!1;case L.INVALID_ARGUMENT:case L.NOT_FOUND:case L.ALREADY_EXISTS:case L.PERMISSION_DENIED:case L.FAILED_PRECONDITION:case L.ABORTED:case L.OUT_OF_RANGE:case L.UNIMPLEMENTED:case L.DATA_LOSS:return!0;default:return se()}}function F4(e){if(e===void 0)return Wt("GRPC error has no .code"),L.UNKNOWN;switch(e){case Bt.OK:return L.OK;case Bt.CANCELLED:return L.CANCELLED;case Bt.UNKNOWN:return L.UNKNOWN;case Bt.DEADLINE_EXCEEDED:return L.DEADLINE_EXCEEDED;case Bt.RESOURCE_EXHAUSTED:return L.RESOURCE_EXHAUSTED;case Bt.INTERNAL:return L.INTERNAL;case Bt.UNAVAILABLE:return L.UNAVAILABLE;case Bt.UNAUTHENTICATED:return L.UNAUTHENTICATED;case Bt.INVALID_ARGUMENT:return L.INVALID_ARGUMENT;case Bt.NOT_FOUND:return L.NOT_FOUND;case Bt.ALREADY_EXISTS:return L.ALREADY_EXISTS;case Bt.PERMISSION_DENIED:return L.PERMISSION_DENIED;case Bt.FAILED_PRECONDITION:return L.FAILED_PRECONDITION;case Bt.ABORTED:return L.ABORTED;case Bt.OUT_OF_RANGE:return L.OUT_OF_RANGE;case Bt.UNIMPLEMENTED:return L.UNIMPLEMENTED;case Bt.DATA_LOSS:return L.DATA_LOSS;default:return se()}}(Le=Bt||(Bt={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Un=function(){function e(t,n){this.comparator=t,this.root=n||cs.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,cs.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,cs.BLACK,null,null))},e.prototype.get=function(t){for(var n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null},e.prototype.indexOf=function(t){for(var n=0,r=this.root;!r.isEmpty();){var i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},e.prototype.forEach=function(t){this.inorderTraversal(function(n,r){return t(n,r),!1})},e.prototype.toString=function(){var t=[];return this.inorderTraversal(function(n,r){return t.push(n+":"+r),!1}),"{"+t.join(", ")+"}"},e.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},e.prototype.getIterator=function(){return new Sv(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(t){return new Sv(this.root,t,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new Sv(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(t){return new Sv(this.root,t,this.comparator,!0)},e}(),Sv=function(){function e(t,n,r,i){this.isReverse=i,this.nodeStack=[];for(var s=1;!t.isEmpty();)if(s=n?r(t.key,n):1,i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return e.prototype.getNext=function(){var t=this.nodeStack.pop(),n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(this.nodeStack.length===0)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},e}(),cs=function(){function e(t,n,r,i,s){this.key=t,this.value=n,this.color=r??e.RED,this.left=i??e.EMPTY,this.right=s??e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,s){return new e(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(t,n,r){var i=this,s=r(t,i.key);return(i=s<0?i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},e.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},e.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw se();var t=this.left.check();if(t!==this.right.check())throw se();return t+(this.isRed()?0:1)},e}();cs.EMPTY=null,cs.RED=!0,cs.BLACK=!1,cs.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw se()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw se()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw se()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw se()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw se()},enumerable:!1,configurable:!0}),e.prototype.copy=function(t,n,r,i,s){return this},e.prototype.insert=function(t,n,r){return new cs(t,n)},e.prototype.remove=function(t,n){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(t){return!1},e.prototype.reverseTraversal=function(t){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var en=function(){function e(t){this.comparator=t,this.data=new Un(this.comparator)}return e.prototype.has=function(t){return this.data.get(t)!==null},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(t){return this.data.indexOf(t)},e.prototype.forEach=function(t){this.data.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.forEachInRange=function(t,n){for(var r=this.data.getIteratorFrom(t[0]);r.hasNext();){var i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}},e.prototype.forEachWhile=function(t,n){var r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return},e.prototype.firstAfterOrEqual=function(t){var n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null},e.prototype.getIterator=function(){return new Ix(this.data.getIterator())},e.prototype.getIteratorFrom=function(t){return new Ix(this.data.getIteratorFrom(t))},e.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},e.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(t){var n=this;return n.size<t.size&&(n=t,t=this),t.forEach(function(r){n=n.add(r)}),n},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0},e.prototype.toArray=function(){var t=[];return this.forEach(function(n){t.push(n)}),t},e.prototype.toString=function(){var t=[];return this.forEach(function(n){return t.push(n)}),"SortedSet("+t.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),Ix=function(){function e(t){this.iter=t}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),jQ=new Un(le.comparator);function ni(){return jQ}var VQ=new Un(le.comparator);function Eb(){return VQ}var BQ=new Un(le.comparator);function U4(){return BQ}var $Q=new en(le.comparator);function Ye(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=$Q,r=0,i=e;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var zQ=new en(Pe);function Ey(){return zQ}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rS=function(){function e(t,n,r,i,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,iS.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Ce.min(),r,Ey(),ni(),Ye())},e}(),iS=function(){function e(t,n,r,i,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(Xn.EMPTY_BYTE_STRING,n,Ye(),Ye(),Ye())},e}(),Jv=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},j4=function(e,t){this.targetId=e,this.V=t},V4=function(e,t,n,r){n===void 0&&(n=Xn.EMPTY_BYTE_STRING),r===void 0&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},Sx=function(){function e(){this.S=0,this.D=kx(),this.C=Xn.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"k",{get:function(){return this.S!==0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"O",{get:function(){return this.F},enumerable:!1,configurable:!0}),e.prototype.$=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},e.prototype.M=function(){var t=Ye(),n=Ye(),r=Ye();return this.D.forEach(function(i,s){switch(s){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:se()}}),new iS(this.C,this.N,t,n,r)},e.prototype.L=function(){this.F=!1,this.D=kx()},e.prototype.B=function(t,n){this.F=!0,this.D=this.D.insert(t,n)},e.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.F=!0,this.N=!0},e}(),qQ=function(){function e(t){this.W=t,this.G=new Map,this.H=ni(),this.J=Cx(),this.Y=new en(Pe)}return e.prototype.X=function(t){for(var n=0,r=t.v;n<r.length;n++){var i=r[n];t.P&&t.P.isFoundDocument()?this.Z(i,t.P):this.tt(i,t.key,t.P)}for(var s=0,a=t.removedTargetIds;s<a.length;s++)i=a[s],this.tt(i,t.key,t.P)},e.prototype.et=function(t){var n=this;this.forEachTarget(t,function(r){var i=n.nt(r);switch(t.state){case 0:n.st(r)&&i.$(t.resumeToken);break;case 1:i.K(),i.k||i.L(),i.$(t.resumeToken);break;case 2:i.K(),i.k||n.removeTarget(r);break;case 3:n.st(r)&&(i.j(),i.$(t.resumeToken));break;case 4:n.st(r)&&(n.it(r),i.$(t.resumeToken));break;default:se()}})},e.prototype.forEachTarget=function(t,n){var r=this;t.targetIds.length>0?t.targetIds.forEach(n):this.G.forEach(function(i,s){r.st(s)&&n(s)})},e.prototype.rt=function(t){var n=t.targetId,r=t.V.count,i=this.ot(n);if(i){var s=i.target;if(ng(s))if(r===0){var a=new le(s.path);this.tt(n,a,Sn.newNoDocument(a,Ce.min()))}else ve(r===1);else this.ct(n)!==r&&(this.it(n),this.Y=this.Y.add(n))}},e.prototype.ut=function(t){var n=this,r=new Map;this.G.forEach(function(a,l){var c=n.ot(l);if(c){if(a.current&&ng(c.target)){var h=new le(c.target.path);n.H.get(h)!==null||n.at(l,h)||n.tt(l,h,Sn.newNoDocument(h,t))}a.O&&(r.set(l,a.M()),a.L())}});var i=Ye();this.J.forEach(function(a,l){var c=!0;l.forEachWhile(function(h){var d=n.ot(h);return!d||d.purpose===2||(c=!1,!1)}),c&&(i=i.add(a))});var s=new rS(t,r,this.Y,this.H,i);return this.H=ni(),this.J=Cx(),this.Y=new en(Pe),s},e.prototype.Z=function(t,n){if(this.st(t)){var r=this.at(t,n.key)?2:0;this.nt(t).B(n.key,r),this.H=this.H.insert(n.key,n),this.J=this.J.insert(n.key,this.ht(n.key).add(t))}},e.prototype.tt=function(t,n,r){if(this.st(t)){var i=this.nt(t);this.at(t,n)?i.B(n,1):i.q(n),this.J=this.J.insert(n,this.ht(n).delete(t)),r&&(this.H=this.H.insert(n,r))}},e.prototype.removeTarget=function(t){this.G.delete(t)},e.prototype.ct=function(t){var n=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size},e.prototype.U=function(t){this.nt(t).U()},e.prototype.nt=function(t){var n=this.G.get(t);return n||(n=new Sx,this.G.set(t,n)),n},e.prototype.ht=function(t){var n=this.J.get(t);return n||(n=new en(Pe),this.J=this.J.insert(t,n)),n},e.prototype.st=function(t){var n=this.ot(t)!==null;return n||Q("WatchChangeAggregator","Detected inactive target",t),n},e.prototype.ot=function(t){var n=this.G.get(t);return n&&n.k?null:this.W.lt(t)},e.prototype.it=function(t){var n=this;this.G.set(t,new Sx),this.W.getRemoteKeysForTarget(t).forEach(function(r){n.tt(t,r,null)})},e.prototype.at=function(t,n){return this.W.getRemoteKeysForTarget(t).has(n)},e}();function Cx(){return new Un(le.comparator)}function kx(){return new Un(le.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var WQ={asc:"ASCENDING",desc:"DESCENDING"},HQ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},KQ=function(e,t){this.databaseId=e,this.I=t};function ad(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function B4(e,t){return e.I?t.toBase64():t.toUint8Array()}function GQ(e,t){return ad(e,t.toTimestamp())}function hn(e){return ve(!!e),Ce.fromTimestamp(function(t){var n=Vs(t);return new gr(n.seconds,n.nanos)}(e))}function oS(e,t){return function(n){return new $e(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function $4(e){var t=$e.fromString(e);return ve(Y4(t)),t}function ud(e,t){return oS(e.databaseId,t.path)}function Xi(e,t){var n=$4(t);if(n.get(1)!==e.databaseId.projectId)throw new z(L.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new z(L.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new le(q4(n))}function bb(e,t){return oS(e.databaseId,t)}function z4(e){var t=$4(e);return t.length===4?$e.emptyPath():q4(t)}function ld(e){return new $e(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function q4(e){return ve(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function Nx(e,t,n){return{name:ud(e,t),fields:n.toProto().mapValue.fields}}function W4(e,t,n){var r=Xi(e,t.name),i=hn(t.updateTime),s=new kr({mapValue:{fields:t.fields}}),a=Sn.newFoundDocument(r,i,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function og(e,t){var n;if(t instanceof Wd)n={update:Nx(e,t.key,t.value)};else if(t instanceof Hd)n={delete:ud(e,t.key)};else if(t instanceof Ys)n={update:Nx(e,t.key,t.data),updateMask:ZQ(t.fieldMask)};else{if(!(t instanceof nS))return se();n={verify:ud(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(function(r){return function(i,s){var a=s.transform;if(a instanceof sc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof cu)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof fu)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ac)return{fieldPath:s.field.canonicalString(),increment:a.A};throw se()}(0,r)})),t.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:GQ(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:se()}(e,t.precondition)),n}function Rx(e,t){var n=t.currentDocument?function(h){return h.updateTime!==void 0?xn.updateTime(hn(h.updateTime)):h.exists!==void 0?xn.exists(h.exists):xn.none()}(t.currentDocument):xn.none(),r=t.updateTransforms?t.updateTransforms.map(function(h){return function(d,v){var m=null;if("setToServerValue"in v)ve(v.setToServerValue==="REQUEST_TIME"),m=new sc;else if("appendMissingElements"in v){var y=v.appendMissingElements.values||[];m=new cu(y)}else if("removeAllFromArray"in v){var _=v.removeAllFromArray.values||[];m=new fu(_)}else"increment"in v?m=new ac(d,v.increment):se();var E=ai.fromServerFormat(v.fieldPath);return new qd(E,m)}(e,h)}):[];if(t.update){t.update.name;var i=Xi(e,t.update.name),s=new kr({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(h){var d=h.fieldPaths||[];return new nc(d.map(function(v){return ai.fromServerFormat(v)}))}(t.updateMask);return new Ys(i,s,a,n,r)}return new Wd(i,s,n,r)}if(t.delete){var l=Xi(e,t.delete);return new Hd(l,n)}if(t.verify){var c=Xi(e,t.verify);return new nS(c,n)}return se()}function H4(e,t){return{documents:[bb(e,t.path)]}}function K4(e,t){var n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=bb(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=bb(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(l){if(l.length!==0){var c=l.map(function(h){return function(d){if(d.op==="=="){if(vx(d.value))return{unaryFilter:{field:sl(d.field),op:"IS_NAN"}};if(px(d.value))return{unaryFilter:{field:sl(d.field),op:"IS_NULL"}}}else if(d.op==="!="){if(vx(d.value))return{unaryFilter:{field:sl(d.field),op:"IS_NOT_NAN"}};if(px(d.value))return{unaryFilter:{field:sl(d.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:sl(d.field),op:YQ(d.op),value:d.value}}}(h)});return c.length===1?c[0]:{compositeFilter:{op:"AND",filters:c}}}}(t.filters);i&&(n.structuredQuery.where=i);var s=function(l){if(l.length!==0)return l.map(function(c){return function(h){return{field:sl(h.field),direction:QQ(h.dir)}}(c)})}(t.orderBy);s&&(n.structuredQuery.orderBy=s);var a=function(l,c){return l.I||Iu(c)?c:{value:c}}(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=Ax(t.startAt)),t.endAt&&(n.structuredQuery.endAt=Ax(t.endAt)),n}function G4(e){var t=z4(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ve(r===1);var s=n.from[0];s.allDescendants?i=s.collectionId:t=t.child(s.collectionId)}var a=[];n.where&&(a=Q4(n.where));var l=[];n.orderBy&&(l=n.orderBy.map(function(v){return function(m){return new Fl(kl(m.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(v)}));var c=null;n.limit&&(c=function(v){var m;return Iu(m=typeof v=="object"?v.value:v)?null:m}(n.limit));var h=null;n.startAt&&(h=Px(n.startAt));var d=null;return n.endAt&&(d=Px(n.endAt)),I4(t,i,l,a,c,"F",h,d)}function Q4(e){return e?e.unaryFilter!==void 0?[JQ(e)]:e.fieldFilter!==void 0?[XQ(e)]:e.compositeFilter!==void 0?e.compositeFilter.filters.map(function(t){return Q4(t)}).reduce(function(t,n){return t.concat(n)}):se():[]}function Ax(e){return{before:e.before,values:e.position}}function Px(e){var t=!!e.before,n=e.values||[];return new sd(n,t)}function QQ(e){return WQ[e]}function YQ(e){return HQ[e]}function sl(e){return{fieldPath:e.canonicalString()}}function kl(e){return ai.fromServerFormat(e.fieldPath)}function XQ(e){return Ar.create(kl(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return se()}}(e.fieldFilter.op),e.fieldFilter.value)}function JQ(e){switch(e.unaryFilter.op){case"IS_NAN":var t=kl(e.unaryFilter.field);return Ar.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=kl(e.unaryFilter.field);return Ar.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=kl(e.unaryFilter.field);return Ar.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=kl(e.unaryFilter.field);return Ar.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return se()}}function ZQ(e){var t=[];return e.fields.forEach(function(n){return t.push(n.canonicalString())}),{fieldPaths:t}}function Y4(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pi(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=xx(t)),t=e9(e.get(n),t);return xx(t)}function e9(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var s=e.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function xx(e){return e+""}function So(e){var t=e.length;if(ve(t>=2),t===2)return ve(e.charAt(0)===""&&e.charAt(1)===""),$e.emptyPath();for(var n=t-2,r=[],i="",s=0;s<t;){var a=e.indexOf("",s);switch((a<0||a>n)&&se(),e.charAt(a+1)){case"":var l=e.substring(s,a),c=void 0;i.length===0?c=l:(c=i+=l,i=""),r.push(c);break;case"":i+=e.substring(s,a),i+="\0";break;case"":i+=e.substring(s,a+1);break;default:se()}s=a+2}return new $e(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var t9=function(e,t){this.seconds=e,this.nanoseconds=t},Sr=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};Sr.store="owner",Sr.key="owner";var Rs=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};Rs.store="mutationQueues",Rs.keyPath="userId";var at=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};at.store="mutations",at.keyPath="batchId",at.userMutationsIndex="userMutationsIndex",at.userMutationsKeyPath=["userId","batchId"];var Pn=function(){function e(){}return e.prefixForUser=function(t){return[t]},e.prefixForPath=function(t,n){return[t,Pi(n)]},e.key=function(t,n,r){return[t,Pi(n),r]},e}();Pn.store="documentMutations",Pn.PLACEHOLDER=new Pn;var n9=function(e,t){this.path=e,this.readTime=t},r9=function(e,t){this.path=e,this.version=t},Pt=function(e,t,n,r,i,s){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};Pt.store="remoteDocuments",Pt.readTimeIndex="readTimeIndex",Pt.readTimeIndexPath="readTime",Pt.collectionReadTimeIndex="collectionReadTimeIndex",Pt.collectionReadTimeIndexPath=["parentPath","readTime"];var Ki=function(e){this.byteSize=e};Ki.store="remoteDocumentGlobal",Ki.key="remoteDocumentGlobalKey";var fr=function(e,t,n,r,i,s,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=a};fr.store="targets",fr.keyPath="targetId",fr.queryTargetsIndexName="queryTargetsIndex",fr.queryTargetsKeyPath=["canonicalId","targetId"];var wn=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};wn.store="targetDocuments",wn.keyPath=["targetId","path"],wn.documentTargetsIndex="documentTargetsIndex",wn.documentTargetsKeyPath=["path","targetId"];var Cr=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Cr.key="targetGlobalKey",Cr.store="targetGlobal";var Ka=function(e,t){this.collectionId=e,this.parent=t};Ka.store="collectionParents",Ka.keyPath=["collectionId","parent"];var Ro=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};Ro.store="clientMetadata",Ro.keyPath="clientId";var uc=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};uc.store="bundles",uc.keyPath="bundleId";var lc=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};lc.store="namedQueries",lc.keyPath="name";var i9=Ne(Ne([],Ne(Ne([],Ne(Ne([],Ne(Ne([],[Rs.store,at.store,Pn.store,Pt.store,fr.store,Sr.store,Cr.store,wn.store]),[Ro.store])),[Ki.store])),[Ka.store])),[uc.store,lc.store]),X4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",J4=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},e}(),Jn=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})},H=function(){function e(t){var n=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(r){n.isDone=!0,n.result=r,n.nextCallback&&n.nextCallback(r)},function(r){n.isDone=!0,n.error=r,n.catchCallback&&n.catchCallback(r)})}return e.prototype.catch=function(t){return this.next(void 0,t)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(i,s){r.nextCallback=function(a){r.wrapSuccess(t,a).next(i,s)},r.catchCallback=function(a){r.wrapFailure(n,a).next(i,s)}})},e.prototype.toPromise=function(){var t=this;return new Promise(function(n,r){t.next(n,r)})},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(r){return e.reject(r)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)},e.resolve=function(t){return new e(function(n,r){n(t)})},e.reject=function(t){return new e(function(n,r){r(t)})},e.waitFor=function(t){return new e(function(n,r){var i=0,s=0,a=!1;t.forEach(function(l){++i,l.next(function(){++s,a&&s===i&&n()},function(c){return r(c)})}),a=!0,s===i&&n()})},e.or=function(t){for(var n=e.resolve(!1),r=function(a){n=n.next(function(l){return l?e.resolve(l):a()})},i=0,s=t;i<s.length;i++)r(s[i]);return n},e.forEach=function(t,n){var r=this,i=[];return t.forEach(function(s,a){i.push(n.call(r,s,a))}),this.waitFor(i)},e}(),Z4=function(){function e(t,n){var r=this;this.action=t,this.transaction=n,this.aborted=!1,this.ft=new Jn,this.transaction.oncomplete=function(){r.ft.resolve()},this.transaction.onabort=function(){n.error?r.ft.reject(new _h(t,n.error)):r.ft.resolve()},this.transaction.onerror=function(i){var s=sS(i.target.error);r.ft.reject(new _h(t,s))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(s){throw new _h(n,s)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(Q("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(t){var n=this.transaction.objectStore(t);return new s9(n)},e}(),cc=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,e._t(iu())===12.2&&Wt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(t){return Q("SimpleDb","Removing database:",t),xa(window.indexedDB.deleteDatabase(t)).toPromise()},e.yt=function(){if(typeof indexedDB>"u")return!1;if(e.gt())return!0;var t=iu(),n=e._t(t),r=0<n&&n<10,i=e.Et(t),s=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||s)},e.gt=function(){var t;return typeof process<"u"&&((t=process.env)===null||t===void 0?void 0:t.Tt)==="YES"},e.It=function(t,n){return t.store(n)},e._t=function(t){var n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)},e.Et=function(t){var n=t.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)},e.prototype.At=function(t){return P(this,void 0,void 0,function(){var n,r=this;return A(this,function(i){switch(i.label){case 0:return this.db?[3,2]:(Q("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(s,a){var l=indexedDB.open(r.name,r.version);l.onsuccess=function(c){var h=c.target.result;s(h)},l.onblocked=function(){a(new _h(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=function(c){var h=c.target.error;h.name==="VersionError"?a(new z(L.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a(new _h(t,h))},l.onupgradeneeded=function(c){Q("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',c.oldVersion);var h=c.target.result;r.wt.Rt(h,l.transaction,c.oldVersion,r.version).next(function(){Q("SimpleDb","Database upgrade to version "+r.version+" complete")})}})]);case 1:n.db=i.sent(),i.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(s){return r.bt(s)}),this.db)]}})})},e.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(n){return t(n)})},e.prototype.runTransaction=function(t,n,r,i){return P(this,void 0,void 0,function(){var s,a,l,c,h;return A(this,function(d){switch(d.label){case 0:s=n==="readonly",a=0,l=function(){var v,m,y,_,E;return A(this,function(S){switch(S.label){case 0:++a,S.label=1;case 1:return S.trys.push([1,4,,5]),[4,c.At(t)];case 2:return c.db=S.sent(),v=Z4.open(c.db,t,s?"readonly":"readwrite",r),m=i(v).catch(function(b){return v.abort(b),H.reject(b)}).toPromise(),y={},m.catch(function(){}),[4,v.dt];case 3:return[2,(y.value=(S.sent(),m),y)];case 4:return _=S.sent(),E=_.name!=="FirebaseError"&&a<3,Q("SimpleDb","Transaction failed with error:",_.message,"Retrying:",E),c.close(),E?[3,5]:[2,{value:Promise.reject(_)}];case 5:return[2]}})},c=this,d.label=1;case 1:return[5,l()];case 2:if(typeof(h=d.sent())=="object")return[2,h.value];d.label=3;case 3:return[3,1];case 4:return[2]}})})},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),o9=function(){function e(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(t){this.St=t},e.prototype.delete=function(){return xa(this.Pt.delete())},e}(),_h=function(e){function t(n,r){var i=this;return(i=e.call(this,L.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+r)||this).name="IndexedDbTransactionError",i}return J(t,e),t}(z);function Su(e){return e.name==="IndexedDbTransactionError"}var s9=function(){function e(t){this.store=t}return e.prototype.put=function(t,n){var r;return n!==void 0?(Q("SimpleDb","PUT",this.store.name,t,n),r=this.store.put(n,t)):(Q("SimpleDb","PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),xa(r)},e.prototype.add=function(t){return Q("SimpleDb","ADD",this.store.name,t,t),xa(this.store.add(t))},e.prototype.get=function(t){var n=this;return xa(this.store.get(t)).next(function(r){return r===void 0&&(r=null),Q("SimpleDb","GET",n.store.name,t,r),r})},e.prototype.delete=function(t){return Q("SimpleDb","DELETE",this.store.name,t),xa(this.store.delete(t))},e.prototype.count=function(){return Q("SimpleDb","COUNT",this.store.name),xa(this.store.count())},e.prototype.Nt=function(t,n){var r=this.cursor(this.options(t,n)),i=[];return this.xt(r,function(s,a){i.push(a)}).next(function(){return i})},e.prototype.Ft=function(t,n){Q("SimpleDb","DELETE ALL",this.store.name);var r=this.options(t,n);r.kt=!1;var i=this.cursor(r);return this.xt(i,function(s,a,l){return l.delete()})},e.prototype.Ot=function(t,n){var r;n?r=t:(r={},n=t);var i=this.cursor(r);return this.xt(i,n)},e.prototype.$t=function(t){var n=this.cursor({});return new H(function(r,i){n.onerror=function(s){var a=sS(s.target.error);i(a)},n.onsuccess=function(s){var a=s.target.result;a?t(a.primaryKey,a.value).next(function(l){l?a.continue():r()}):r()}})},e.prototype.xt=function(t,n){var r=[];return new H(function(i,s){t.onerror=function(a){s(a.target.error)},t.onsuccess=function(a){var l=a.target.result;if(l){var c=new o9(l),h=n(l.primaryKey,l.value,c);if(h instanceof H){var d=h.catch(function(v){return c.done(),H.reject(v)});r.push(d)}c.isDone?i():c.Dt===null?l.continue():l.continue(c.Dt)}else i()}}).next(function(){return H.waitFor(r)})},e.prototype.options=function(t,n){var r;return t!==void 0&&(typeof t=="string"?r=t:n=t),{index:r,range:n}},e.prototype.cursor=function(t){var n="next";if(t.reverse&&(n="prev"),t.index){var r=this.store.index(t.index);return t.kt?r.openKeyCursor(t.range,n):r.openCursor(t.range,n)}return this.store.openCursor(t.range,n)},e}();function xa(e){return new H(function(t,n){e.onsuccess=function(r){var i=r.target.result;t(i)},e.onerror=function(r){var i=sS(r.target.error);n(i)}})}var Ox=!1;function sS(e){var t=cc._t(iu());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new z("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Ox||(Ox=!0,setTimeout(function(){throw r},0)),r}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dx=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).Mt=n,i.currentSequenceNumber=r,i}return J(t,e),t}(J4);function wr(e,t){var n=X(e);return cc.It(n.Mt,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aS=function(){function e(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return e.prototype.applyToRemoteDocument=function(t,n){for(var r=n.mutationResults,i=0;i<this.mutations.length;i++){var s=this.mutations[i];s.key.isEqual(t.key)&&MQ(s,t,r[i])}},e.prototype.applyToLocalView=function(t){for(var n=0,r=this.baseMutations;n<r.length;n++)(a=r[n]).key.isEqual(t.key)&&wb(a,t,this.localWriteTime);for(var i=0,s=this.mutations;i<s.length;i++){var a;(a=s[i]).key.isEqual(t.key)&&wb(a,t,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(t){var n=this;this.mutations.forEach(function(r){var i=t.get(r.key),s=i;n.applyToLocalView(s),i.isValidDocument()||s.convertToNoDocument(Ce.min())})},e.prototype.keys=function(){return this.mutations.reduce(function(t,n){return t.add(n.key)},Ye())},e.prototype.isEqual=function(t){return this.batchId===t.batchId&&tc(this.mutations,t.mutations,function(n,r){return wx(n,r)})&&tc(this.baseMutations,t.baseMutations,function(n,r){return wx(n,r)})},e}(),a9=function(){function e(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return e.from=function(t,n,r){ve(t.mutations.length===r.length);for(var i=U4(),s=t.mutations,a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new e(t,n,r,i)},e}(),by=function(){function e(t,n,r,i,s,a,l){s===void 0&&(s=Ce.min()),a===void 0&&(a=Ce.min()),l===void 0&&(l=Xn.EMPTY_BYTE_STRING),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),eU=function(e){this.Lt=e};function Tb(e,t){if(t.document)return W4(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=le.fromSegments(t.noDocument.path),r=hc(t.noDocument.readTime),i=Sn.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var s=le.fromSegments(t.unknownDocument.path);return r=hc(t.unknownDocument.version),Sn.newUnknownDocument(s,r)}return se()}function Lx(e,t,n){var r=uS(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var s=function(v,m){return{name:ud(v,m.key),fields:m.data.toProto().mapValue.fields,updateTime:ad(v,m.version.toTimestamp())}}(e.Lt,t),a=t.hasCommittedMutations;return new Pt(null,null,s,a,r,i)}if(t.isNoDocument()){var l=t.key.path.toArray(),c=fc(t.version);return a=t.hasCommittedMutations,new Pt(null,new n9(l,c),null,a,r,i)}if(t.isUnknownDocument()){var h=t.key.path.toArray(),d=fc(t.version);return new Pt(new r9(h,d),null,null,!0,r,i)}return se()}function uS(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function tU(e){var t=new gr(e[0],e[1]);return Ce.fromTimestamp(t)}function fc(e){var t=e.toTimestamp();return new t9(t.seconds,t.nanoseconds)}function hc(e){var t=new gr(e.seconds,e.nanoseconds);return Ce.fromTimestamp(t)}function cl(e,t){for(var n=(t.baseMutations||[]).map(function(c){return Rx(e.Lt,c)}),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&t.mutations[r+1].transform!==void 0){var s=t.mutations[r+1];i.updateTransforms=s.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var a=t.mutations.map(function(c){return Rx(e.Lt,c)}),l=gr.fromMillis(t.localWriteTimeMs);return new aS(t.batchId,l,n,a)}function eh(e){var t,n,r=hc(e.readTime),i=e.lastLimboFreeSnapshotVersion!==void 0?hc(e.lastLimboFreeSnapshotVersion):Ce.min();return e.query.documents!==void 0?(ve((n=e.query).documents.length===1),t=ui(Lc(z4(n.documents[0])))):t=function(s){return ui(G4(s))}(e.query),new by(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Xn.fromBase64String(e.resumeToken))}function nU(e,t){var n,r=fc(t.snapshotVersion),i=fc(t.lastLimboFreeSnapshotVersion);n=ng(t.target)?H4(e.Lt,t.target):K4(e.Lt,t.target);var s=t.resumeToken.toBase64();return new fr(t.targetId,Bd(t.target),r,s,t.sequenceNumber,i,n)}function lS(e){var t=G4({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?S4(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var u9=function(){function e(){}return e.prototype.getBundleMetadata=function(t,n){return Mx(t).get(n).next(function(r){if(r)return{id:(i=r).bundleId,createTime:hc(i.createTime),version:i.version};var i})},e.prototype.saveBundleMetadata=function(t,n){return Mx(t).put({bundleId:(r=n).id,createTime:fc(hn(r.createTime)),version:r.version});var r},e.prototype.getNamedQuery=function(t,n){return Fx(t).get(n).next(function(r){if(r)return{name:(i=r).name,query:lS(i.bundledQuery),readTime:hc(i.readTime)};var i})},e.prototype.saveNamedQuery=function(t,n){return Fx(t).put(function(r){return{name:r.name,readTime:fc(hn(r.readTime)),bundledQuery:r.bundledQuery}}(n))},e}();function Mx(e){return wr(e,uc.store)}function Fx(e){return wr(e,lc.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var l9=function(){function e(){this.Bt=new cS}return e.prototype.addToCollectionParentIndex=function(t,n){return this.Bt.add(n),H.resolve()},e.prototype.getCollectionParents=function(t,n){return H.resolve(this.Bt.getEntries(n))},e}(),cS=function(){function e(){this.index={}}return e.prototype.add=function(t){var n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new en($e.comparator),s=!i.has(r);return this.index[n]=i.add(r),s},e.prototype.has=function(t){var n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)},e.prototype.getEntries=function(t){return(this.index[t]||new en($e.comparator)).toArray()},e}(),c9=function(){function e(){this.qt=new cS}return e.prototype.addToCollectionParentIndex=function(t,n){var r=this;if(!this.qt.has(n)){var i=n.lastSegment(),s=n.popLast();t.addOnCommittedListener(function(){r.qt.add(n)});var a={collectionId:i,parent:Pi(s)};return Ux(t).put(a)}return H.resolve()},e.prototype.getCollectionParents=function(t,n){var r=[],i=IDBKeyRange.bound([n,""],[g4(n),""],!1,!0);return Ux(t).Nt(i).next(function(s){for(var a=0,l=s;a<l.length;a++){var c=l[a];if(c.collectionId!==n)break;r.push(So(c.parent))}return r})},e}();function Ux(e){return wr(e,Ka.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Wi=function(){function e(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rU(e,t,n){var r=e.store(at.store),i=e.store(Pn.store),s=[],a=IDBKeyRange.only(n.batchId),l=0,c=r.Ot({range:a},function(_,E,S){return l++,S.delete()});s.push(c.next(function(){ve(l===1)}));for(var h=[],d=0,v=n.mutations;d<v.length;d++){var m=v[d],y=Pn.key(t,m.key.path,n.batchId);s.push(i.delete(y)),h.push(m.key)}return H.waitFor(s).next(function(){return h})}function sg(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw se();t=e.noDocument}return JSON.stringify(t).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wi.DEFAULT_COLLECTION_PERCENTILE=10,Wi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wi.DEFAULT=new Wi(41943040,Wi.DEFAULT_COLLECTION_PERCENTILE,Wi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wi.DISABLED=new Wi(-1,0,0);var f9=function(){function e(t,n,r,i){this.userId=t,this.R=n,this.Ut=r,this.referenceDelegate=i,this.Qt={}}return e.Kt=function(t,n,r,i){return ve(t.uid!==""),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(t){var n=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ts(t).Ot({index:at.userMutationsIndex,range:r},function(i,s,a){n=!1,a.done()}).next(function(){return n})},e.prototype.addMutationBatch=function(t,n,r,i){var s=this,a=fl(t),l=ts(t);return l.add({}).next(function(c){ve(typeof c=="number");for(var h=new aS(c,n,r,i),d=function(b,I,k){var C=k.baseMutations.map(function(O){return og(b.Lt,O)}),x=k.mutations.map(function(O){return og(b.Lt,O)});return new at(I,k.batchId,k.localWriteTime.toMillis(),C,x)}(s.R,s.userId,h),v=[],m=new en(function(b,I){return Pe(b.canonicalString(),I.canonicalString())}),y=0,_=i;y<_.length;y++){var E=_[y],S=Pn.key(s.userId,E.key.path,c);m=m.add(E.key.path.popLast()),v.push(l.put(d)),v.push(a.put(S,Pn.PLACEHOLDER))}return m.forEach(function(b){v.push(s.Ut.addToCollectionParentIndex(t,b))}),t.addOnCommittedListener(function(){s.Qt[c]=h.keys()}),H.waitFor(v).next(function(){return h})})},e.prototype.lookupMutationBatch=function(t,n){var r=this;return ts(t).get(n).next(function(i){return i?(ve(i.userId===r.userId),cl(r.R,i)):null})},e.prototype.jt=function(t,n){var r=this;return this.Qt[n]?H.resolve(this.Qt[n]):this.lookupMutationBatch(t,n).next(function(i){if(i){var s=i.keys();return r.Qt[n]=s,s}return null})},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=this,i=n+1,s=IDBKeyRange.lowerBound([this.userId,i]),a=null;return ts(t).Ot({index:at.userMutationsIndex,range:s},function(l,c,h){c.userId===r.userId&&(ve(c.batchId>=i),a=cl(r.R,c)),h.done()}).next(function(){return a})},e.prototype.getHighestUnacknowledgedBatchId=function(t){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return ts(t).Ot({index:at.userMutationsIndex,range:n,reverse:!0},function(i,s,a){r=s.batchId,a.done()}).next(function(){return r})},e.prototype.getAllMutationBatches=function(t){var n=this,r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ts(t).Nt(at.userMutationsIndex,r).next(function(i){return i.map(function(s){return cl(n.R,s)})})},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,i=Pn.prefixForPath(this.userId,n.path),s=IDBKeyRange.lowerBound(i),a=[];return fl(t).Ot({range:s},function(l,c,h){var d=l[0],v=l[1],m=l[2],y=So(v);if(d===r.userId&&n.path.isEqual(y))return ts(t).get(m).next(function(_){if(!_)throw se();ve(_.userId===r.userId),a.push(cl(r.R,_))});h.done()}).next(function(){return a})},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,i=new en(Pe),s=[];return n.forEach(function(a){var l=Pn.prefixForPath(r.userId,a.path),c=IDBKeyRange.lowerBound(l),h=fl(t).Ot({range:c},function(d,v,m){var y=d[0],_=d[1],E=d[2],S=So(_);y===r.userId&&a.path.isEqual(S)?i=i.add(E):m.done()});s.push(h)}),H.waitFor(s).next(function(){return r.Wt(t,i)})},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=this,i=n.path,s=i.length+1,a=Pn.prefixForPath(this.userId,i),l=IDBKeyRange.lowerBound(a),c=new en(Pe);return fl(t).Ot({range:l},function(h,d,v){var m=h[0],y=h[1],_=h[2],E=So(y);m===r.userId&&i.isPrefixOf(E)?E.length===s&&(c=c.add(_)):v.done()}).next(function(){return r.Wt(t,c)})},e.prototype.Wt=function(t,n){var r=this,i=[],s=[];return n.forEach(function(a){s.push(ts(t).get(a).next(function(l){if(l===null)throw se();ve(l.userId===r.userId),i.push(cl(r.R,l))}))}),H.waitFor(s).next(function(){return i})},e.prototype.removeMutationBatch=function(t,n){var r=this;return rU(t.Mt,this.userId,n).next(function(i){return t.addOnCommittedListener(function(){r.Gt(n.batchId)}),H.forEach(i,function(s){return r.referenceDelegate.markPotentiallyOrphaned(t,s)})})},e.prototype.Gt=function(t){delete this.Qt[t]},e.prototype.performConsistencyCheck=function(t){var n=this;return this.checkEmpty(t).next(function(r){if(!r)return H.resolve();var i=IDBKeyRange.lowerBound(Pn.prefixForUser(n.userId)),s=[];return fl(t).Ot({range:i},function(a,l,c){if(a[0]===n.userId){var h=So(a[1]);s.push(h)}else c.done()}).next(function(){ve(s.length===0)})})},e.prototype.containsKey=function(t,n){return iU(t,this.userId,n)},e.prototype.zt=function(t){var n=this;return oU(t).get(this.userId).next(function(r){return r||new Rs(n.userId,-1,"")})},e}();function iU(e,t,n){var r=Pn.prefixForPath(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),a=!1;return fl(e).Ot({range:s,kt:!0},function(l,c,h){var d=l[0],v=l[1];l[2],d===t&&v===i&&(a=!0),h.done()}).next(function(){return a})}function ts(e){return wr(e,at.store)}function fl(e){return wr(e,Pn.store)}function oU(e){return wr(e,Rs.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ag=function(){function e(t){this.Ht=t}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),h9=function(){function e(t,n){this.referenceDelegate=t,this.R=n}return e.prototype.allocateTargetId=function(t){var n=this;return this.Xt(t).next(function(r){var i=new ag(r.highestTargetId);return r.highestTargetId=i.next(),n.Zt(t,r).next(function(){return r.highestTargetId})})},e.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(n){return Ce.fromTimestamp(new gr(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(n){return n.highestListenSequenceNumber})},e.prototype.setTargetsMetadata=function(t,n,r){var i=this;return this.Xt(t).next(function(s){return s.highestListenSequenceNumber=n,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),i.Zt(t,s)})},e.prototype.addTargetData=function(t,n){var r=this;return this.te(t,n).next(function(){return r.Xt(t).next(function(i){return i.targetCount+=1,r.ee(n,i),r.Zt(t,i)})})},e.prototype.updateTargetData=function(t,n){return this.te(t,n)},e.prototype.removeTargetData=function(t,n){var r=this;return this.removeMatchingKeysForTargetId(t,n.targetId).next(function(){return al(t).delete(n.targetId)}).next(function(){return r.Xt(t)}).next(function(i){return ve(i.targetCount>0),i.targetCount-=1,r.Zt(t,i)})},e.prototype.removeTargets=function(t,n,r){var i=this,s=0,a=[];return al(t).Ot(function(l,c){var h=eh(c);h.sequenceNumber<=n&&r.get(h.targetId)===null&&(s++,a.push(i.removeTargetData(t,h)))}).next(function(){return H.waitFor(a)}).next(function(){return s})},e.prototype.forEachTarget=function(t,n){return al(t).Ot(function(r,i){var s=eh(i);n(s)})},e.prototype.Xt=function(t){return Vx(t).get(Cr.key).next(function(n){return ve(n!==null),n})},e.prototype.Zt=function(t,n){return Vx(t).put(Cr.key,n)},e.prototype.te=function(t,n){return al(t).put(nU(this.R,n))},e.prototype.ee=function(t,n){var r=!1;return t.targetId>n.highestTargetId&&(n.highestTargetId=t.targetId,r=!0),t.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t.sequenceNumber,r=!0),r},e.prototype.getTargetCount=function(t){return this.Xt(t).next(function(n){return n.targetCount})},e.prototype.getTargetData=function(t,n){var r=Bd(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),s=null;return al(t).Ot({range:i,index:fr.queryTargetsIndexName},function(a,l,c){var h=eh(l);yy(n,h.target)&&(s=h,c.done())}).next(function(){return s})},e.prototype.addMatchingKeys=function(t,n,r){var i=this,s=[],a=fs(t);return n.forEach(function(l){var c=Pi(l.path);s.push(a.put(new wn(r,c))),s.push(i.referenceDelegate.addReference(t,r,l))}),H.waitFor(s)},e.prototype.removeMatchingKeys=function(t,n,r){var i=this,s=fs(t);return H.forEach(n,function(a){var l=Pi(a.path);return H.waitFor([s.delete([r,l]),i.referenceDelegate.removeReference(t,r,a)])})},e.prototype.removeMatchingKeysForTargetId=function(t,n){var r=fs(t),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=IDBKeyRange.bound([n],[n+1],!1,!0),i=fs(t),s=Ye();return i.Ot({range:r,kt:!0},function(a,l,c){var h=So(a[1]),d=new le(h);s=s.add(d)}).next(function(){return s})},e.prototype.containsKey=function(t,n){var r=Pi(n.path),i=IDBKeyRange.bound([r],[g4(r)],!1,!0),s=0;return fs(t).Ot({index:wn.documentTargetsIndex,kt:!0,range:i},function(a,l,c){var h=a[0];a[1],h!==0&&(s++,c.done())}).next(function(){return s>0})},e.prototype.lt=function(t,n){return al(t).get(n).next(function(r){return r?eh(r):null})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function al(e){return wr(e,fr.store)}function Vx(e){return wr(e,Cr.store)}function fs(e){return wr(e,wn.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cu(e){return P(this,void 0,void 0,function(){return A(this,function(t){if(e.code!==L.FAILED_PRECONDITION||e.message!==X4)throw e;return Q("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bx(e,t){var n=e[0],r=e[1],i=t[0],s=t[1],a=Pe(n,i);return a===0?Pe(r,s):a}var d9=function(){function e(t){this.ne=t,this.buffer=new en(Bx),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(t){var n=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(n);else{var r=this.buffer.last();Bx(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),p9=function(){function e(t,n){this.garbageCollector=t,this.asyncQueue=n,this.oe=!1,this.ce=null}return e.prototype.start=function(t){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.ue(t)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return this.ce!==null},enumerable:!1,configurable:!0}),e.prototype.ue=function(t){var n=this,r=this.oe?3e5:6e4;Q("LruGarbageCollector","Garbage collection scheduled in "+r+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,function(){return P(n,void 0,void 0,function(){var i;return A(this,function(s){switch(s.label){case 0:this.ce=null,this.oe=!0,s.label=1;case 1:return s.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return s.sent(),[3,7];case 3:return Su(i=s.sent())?(Q("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i),[3,6]):[3,4];case 4:return[4,Cu(i)];case 5:s.sent(),s.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return s.sent(),[2]}})})})},e}(),v9=function(){function e(t,n){this.ae=t,this.params=n}return e.prototype.calculateTargetCount=function(t,n){return this.ae.he(t).next(function(r){return Math.floor(n/100*r)})},e.prototype.nthSequenceNumber=function(t,n){var r=this;if(n===0)return H.resolve(Rr.o);var i=new d9(n);return this.ae.forEachTarget(t,function(s){return i.re(s.sequenceNumber)}).next(function(){return r.ae.le(t,function(s){return i.re(s)})}).next(function(){return i.maxValue})},e.prototype.removeTargets=function(t,n,r){return this.ae.removeTargets(t,n,r)},e.prototype.removeOrphanedDocuments=function(t,n){return this.ae.removeOrphanedDocuments(t,n)},e.prototype.collect=function(t,n){var r=this;return this.params.cacheSizeCollectionThreshold===-1?(Q("LruGarbageCollector","Garbage collection skipped; disabled"),H.resolve(jx)):this.getCacheSize(t).next(function(i){return i<r.params.cacheSizeCollectionThreshold?(Q("LruGarbageCollector","Garbage collection skipped; Cache size "+i+" is lower than threshold "+r.params.cacheSizeCollectionThreshold),jx):r.fe(t,n)})},e.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},e.prototype.fe=function(t,n){var r,i,s,a,l,c,h,d=this,v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(m){return m>d.params.maximumSequenceNumbersToCollect?(Q("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+d.params.maximumSequenceNumbersToCollect+" from "+m),i=d.params.maximumSequenceNumbersToCollect):i=m,a=Date.now(),d.nthSequenceNumber(t,i)}).next(function(m){return r=m,l=Date.now(),d.removeTargets(t,r,n)}).next(function(m){return s=m,c=Date.now(),d.removeOrphanedDocuments(t,r)}).next(function(m){return h=Date.now(),vb()<=ke.DEBUG&&Q("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(a-v)+`ms
	Determined least recently used `+i+" in "+(l-a)+`ms
	Removed `+s+" targets in "+(c-l)+`ms
	Removed `+m+" documents in "+(h-c)+`ms
Total Duration: `+(h-v)+"ms"),H.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:m})})},e}(),m9=function(){function e(t,n){this.db=t,this.garbageCollector=function(r,i){return new v9(r,i)}(this,n)}return e.prototype.he=function(t){var n=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(r){return n.next(function(i){return r+i})})},e.prototype.de=function(t){var n=0;return this.le(t,function(r){n++}).next(function(){return n})},e.prototype.forEachTarget=function(t,n){return this.db.getTargetCache().forEachTarget(t,n)},e.prototype.le=function(t,n){return this.we(t,function(r,i){return n(i)})},e.prototype.addReference=function(t,n,r){return Cv(t,r)},e.prototype.removeReference=function(t,n,r){return Cv(t,r)},e.prototype.removeTargets=function(t,n,r){return this.db.getTargetCache().removeTargets(t,n,r)},e.prototype.markPotentiallyOrphaned=function(t,n){return Cv(t,n)},e.prototype._e=function(t,n){return function(r,i){var s=!1;return oU(r).$t(function(a){return iU(r,a,i).next(function(l){return l&&(s=!0),H.resolve(!l)})}).next(function(){return s})}(t,n)},e.prototype.removeOrphanedDocuments=function(t,n){var r=this,i=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[],a=0;return this.we(t,function(l,c){if(c<=n){var h=r._e(t,l).next(function(d){if(!d)return a++,i.getEntry(t,l).next(function(){return i.removeEntry(l),fs(t).delete([0,Pi(l.path)])})});s.push(h)}}).next(function(){return H.waitFor(s)}).next(function(){return i.apply(t)}).next(function(){return a})},e.prototype.removeTarget=function(t,n){var r=n.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,r)},e.prototype.updateLimboDocument=function(t,n){return Cv(t,n)},e.prototype.we=function(t,n){var r,i=fs(t),s=Rr.o;return i.Ot({index:wn.documentTargetsIndex},function(a,l){var c=a[0],h=(a[1],l.path),d=l.sequenceNumber;c===0?(s!==Rr.o&&n(new le(So(r)),s),s=d,r=h):s=Rr.o}).next(function(){s!==Rr.o&&n(new le(So(r)),s)})},e.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},e}();function Cv(e,t){return fs(e).put(function(n,r){return new wn(0,Pi(n.path),r)}(t,e.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mc=function(){function e(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return e.prototype.get=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0)for(var i=0,s=r;i<s.length;i++){var a=s[i],l=a[0],c=a[1];if(this.equalsFn(l,t))return c}},e.prototype.has=function(t){return this.get(t)!==void 0},e.prototype.set=function(t,n){var r=this.mapKeyFn(t),i=this.inner[r];if(i!==void 0){for(var s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,n]);i.push([t,n])}else this.inner[r]=[[t,n]]},e.prototype.delete=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),!0;return!1},e.prototype.forEach=function(t){Vd(this.inner,function(n,r){for(var i=0,s=r;i<s.length;i++){var a=s[i],l=a[0],c=a[1];t(l,c)}})},e.prototype.isEmpty=function(){return y4(this.inner)},e}(),sU=function(){function e(){this.changes=new Mc(function(t){return t.toString()},function(t,n){return t.isEqual(n)}),this.changesApplied=!1}return e.prototype.getReadTime=function(t){var n=this.changes.get(t);return n?n.readTime:Ce.min()},e.prototype.addEntry=function(t,n){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:n})},e.prototype.removeEntry=function(t,n){n===void 0&&(n=null),this.assertNotApplied(),this.changes.set(t,{document:Sn.newInvalidDocument(t),readTime:n})},e.prototype.getEntry=function(t,n){this.assertNotApplied();var r=this.changes.get(n);return r!==void 0?H.resolve(r.document):this.getFromCache(t,n)},e.prototype.getEntries=function(t,n){return this.getAllFromCache(t,n)},e.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},e.prototype.assertNotApplied=function(){},e}(),g9=function(){function e(t,n){this.R=t,this.Ut=n}return e.prototype.addEntry=function(t,n,r){return as(t).put(kv(n),r)},e.prototype.removeEntry=function(t,n){var r=as(t),i=kv(n);return r.delete(i)},e.prototype.updateMetadata=function(t,n){var r=this;return this.getMetadata(t).next(function(i){return i.byteSize+=n,r.me(t,i)})},e.prototype.getEntry=function(t,n){var r=this;return as(t).get(kv(n)).next(function(i){return r.ye(n,i)})},e.prototype.ge=function(t,n){var r=this;return as(t).get(kv(n)).next(function(i){return{document:r.ye(n,i),size:sg(i)}})},e.prototype.getEntries=function(t,n){var r=this,i=ni();return this.pe(t,n,function(s,a){var l=r.ye(s,a);i=i.insert(s,l)}).next(function(){return i})},e.prototype.Ee=function(t,n){var r=this,i=ni(),s=new Un(le.comparator);return this.pe(t,n,function(a,l){var c=r.ye(a,l);i=i.insert(a,c),s=s.insert(a,sg(l))}).next(function(){return{documents:i,Te:s}})},e.prototype.pe=function(t,n,r){if(n.isEmpty())return H.resolve();var i=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),s=n.getIterator(),a=s.getNext();return as(t).Ot({range:i},function(l,c,h){for(var d=le.fromSegments(l);a&&le.comparator(a,d)<0;)r(a,null),a=s.getNext();a&&a.isEqual(d)&&(r(a,c),a=s.hasNext()?s.getNext():null),a?h.Ct(a.path.toArray()):h.done()}).next(function(){for(;a;)r(a,null),a=s.hasNext()?s.getNext():null})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){var i=this,s=ni(),a=n.path.length+1,l={};if(r.isEqual(Ce.min())){var c=n.path.toArray();l.range=IDBKeyRange.lowerBound(c)}else{var h=n.path.toArray(),d=uS(r);l.range=IDBKeyRange.lowerBound([h,d],!0),l.index=Pt.collectionReadTimeIndex}return as(t).Ot(l,function(v,m,y){if(v.length===a){var _=Tb(i.R,m);n.path.isPrefixOf(_.key.path)?zd(n,_)&&(s=s.insert(_.key,_)):y.done()}}).next(function(){return s})},e.prototype.newChangeBuffer=function(t){return new y9(this,!!t&&t.trackRemovals)},e.prototype.getSize=function(t){return this.getMetadata(t).next(function(n){return n.byteSize})},e.prototype.getMetadata=function(t){return $x(t).get(Ki.key).next(function(n){return ve(!!n),n})},e.prototype.me=function(t,n){return $x(t).put(Ki.key,n)},e.prototype.ye=function(t,n){if(n){var r=Tb(this.R,n);if(!r.isNoDocument()||!r.version.isEqual(Ce.min()))return r}return Sn.newInvalidDocument(t)},e}(),y9=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).Ie=n,i.trackRemovals=r,i.Ae=new Mc(function(s){return s.toString()},function(s,a){return s.isEqual(a)}),i}return J(t,e),t.prototype.applyChanges=function(n){var r=this,i=[],s=0,a=new en(function(l,c){return Pe(l.canonicalString(),c.canonicalString())});return this.changes.forEach(function(l,c){var h=r.Ae.get(l);if(c.document.isValidDocument()){var d=Lx(r.Ie.R,c.document,r.getReadTime(l));a=a.add(l.path.popLast());var v=sg(d);s+=v-h,i.push(r.Ie.addEntry(n,l,d))}else if(s-=h,r.trackRemovals){var m=Lx(r.Ie.R,Sn.newNoDocument(l,Ce.min()),r.getReadTime(l));i.push(r.Ie.addEntry(n,l,m))}else i.push(r.Ie.removeEntry(n,l))}),a.forEach(function(l){i.push(r.Ie.Ut.addToCollectionParentIndex(n,l))}),i.push(this.Ie.updateMetadata(n,s)),H.waitFor(i)},t.prototype.getFromCache=function(n,r){var i=this;return this.Ie.ge(n,r).next(function(s){return i.Ae.set(r,s.size),s.document})},t.prototype.getAllFromCache=function(n,r){var i=this;return this.Ie.Ee(n,r).next(function(s){var a=s.documents;return s.Te.forEach(function(l,c){i.Ae.set(l,c)}),a})},t}(sU);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $x(e){return wr(e,Ki.store)}function as(e){return wr(e,Pt.store)}function kv(e){return e.path.toArray()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _9=function(){function e(t){this.R=t}return e.prototype.Rt=function(t,n,r,i){var s=this;ve(r<i&&r>=0&&i<=11);var a=new Z4("createOrUpgrade",n);r<1&&i>=1&&(function(c){c.createObjectStore(Sr.store)}(t),function(c){c.createObjectStore(Rs.store,{keyPath:Rs.keyPath}),c.createObjectStore(at.store,{keyPath:at.keyPath,autoIncrement:!0}).createIndex(at.userMutationsIndex,at.userMutationsKeyPath,{unique:!0}),c.createObjectStore(Pn.store)}(t),zx(t),function(c){c.createObjectStore(Pt.store)}(t));var l=H.resolve();return r<3&&i>=3&&(r!==0&&(function(c){c.deleteObjectStore(wn.store),c.deleteObjectStore(fr.store),c.deleteObjectStore(Cr.store)}(t),zx(t)),l=l.next(function(){return function(c){var h=c.store(Cr.store),d=new Cr(0,0,Ce.min().toTimestamp(),0);return h.put(Cr.key,d)}(a)})),r<4&&i>=4&&(r!==0&&(l=l.next(function(){return function(c,h){return h.store(at.store).Nt().next(function(d){c.deleteObjectStore(at.store),c.createObjectStore(at.store,{keyPath:at.keyPath,autoIncrement:!0}).createIndex(at.userMutationsIndex,at.userMutationsKeyPath,{unique:!0});var v=h.store(at.store),m=d.map(function(y){return v.put(y)});return H.waitFor(m)})}(t,a)})),l=l.next(function(){(function(c){c.createObjectStore(Ro.store,{keyPath:Ro.keyPath})})(t)})),r<5&&i>=5&&(l=l.next(function(){return s.Re(a)})),r<6&&i>=6&&(l=l.next(function(){return function(c){c.createObjectStore(Ki.store)}(t),s.be(a)})),r<7&&i>=7&&(l=l.next(function(){return s.ve(a)})),r<8&&i>=8&&(l=l.next(function(){return s.Pe(t,a)})),r<9&&i>=9&&(l=l.next(function(){(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(t),function(c){var h=c.objectStore(Pt.store);h.createIndex(Pt.readTimeIndex,Pt.readTimeIndexPath,{unique:!1}),h.createIndex(Pt.collectionReadTimeIndex,Pt.collectionReadTimeIndexPath,{unique:!1})}(n)})),r<10&&i>=10&&(l=l.next(function(){return s.Ve(a)})),r<11&&i>=11&&(l=l.next(function(){(function(c){c.createObjectStore(uc.store,{keyPath:uc.keyPath})})(t),function(c){c.createObjectStore(lc.store,{keyPath:lc.keyPath})}(t)})),l},e.prototype.be=function(t){var n=0;return t.store(Pt.store).Ot(function(r,i){n+=sg(i)}).next(function(){var r=new Ki(n);return t.store(Ki.store).put(Ki.key,r)})},e.prototype.Re=function(t){var n=this,r=t.store(Rs.store),i=t.store(at.store);return r.Nt().next(function(s){return H.forEach(s,function(a){var l=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return i.Nt(at.userMutationsIndex,l).next(function(c){return H.forEach(c,function(h){ve(h.userId===a.userId);var d=cl(n.R,h);return rU(t,a.userId,d).next(function(){})})})})})},e.prototype.ve=function(t){var n=t.store(wn.store),r=t.store(Pt.store);return t.store(Cr.store).get(Cr.key).next(function(i){var s=[];return r.Ot(function(a,l){var c=new $e(a),h=function(d){return[0,Pi(d)]}(c);s.push(n.get(h).next(function(d){return d?H.resolve():function(v){return n.put(new wn(0,Pi(v),i.highestListenSequenceNumber))}(c)}))}).next(function(){return H.waitFor(s)})})},e.prototype.Pe=function(t,n){t.createObjectStore(Ka.store,{keyPath:Ka.keyPath});var r=n.store(Ka.store),i=new cS,s=function(a){if(i.add(a)){var l=a.lastSegment(),c=a.popLast();return r.put({collectionId:l,parent:Pi(c)})}};return n.store(Pt.store).Ot({kt:!0},function(a,l){var c=new $e(a);return s(c.popLast())}).next(function(){return n.store(Pn.store).Ot({kt:!0},function(a,l){a[0];var c=a[1],h=(a[2],So(c));return s(h.popLast())})})},e.prototype.Ve=function(t){var n=this,r=t.store(fr.store);return r.Ot(function(i,s){var a=eh(s),l=nU(n.R,a);return r.put(l)})},e}();function zx(e){e.createObjectStore(wn.store,{keyPath:wn.keyPath}).createIndex(wn.documentTargetsIndex,wn.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(fr.store,{keyPath:fr.keyPath}).createIndex(fr.queryTargetsIndexName,fr.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Cr.store)}var dE="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",w9=function(){function e(t,n,r,i,s,a,l,c,h,d){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=s,this.window=a,this.document=l,this.De=h,this.Ce=d,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.Oe=null,this.$e=Number.NEGATIVE_INFINITY,this.Me=function(v){return Promise.resolve()},!e.yt())throw new z(L.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new m9(this,i),this.Le=n+"main",this.R=new eU(c),this.Be=new cc(this.Le,11,new _9(this.R)),this.qe=new h9(this.referenceDelegate,this.R),this.Ut=new c9,this.Ue=function(v,m){return new g9(v,m)}(this.R,this.Ut),this.Qe=new u9,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,d===!1&&Wt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new z(L.FAILED_PRECONDITION,dE);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return t.qe.getHighestSequenceNumber(n)})}).then(function(n){t.Ne=new Rr(n,t.De)}).then(function(){t.xe=!0}).catch(function(n){return t.Be&&t.Be.close(),Promise.reject(n)})},e.prototype.He=function(t){var n=this;return this.Me=function(r){return P(n,void 0,void 0,function(){return A(this,function(i){return this.started?[2,t(r)]:[2]})})},t(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(t){var n=this;this.Be.vt(function(r){return P(n,void 0,void 0,function(){return A(this,function(i){switch(i.label){case 0:return r.newVersion===null?[4,t()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})})},e.prototype.setNetworkEnabled=function(t){var n=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return P(n,void 0,void 0,function(){return A(this,function(r){switch(r.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})}))},e.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return Nv(n).put(new Ro(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(n).next(function(r){r||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(n)}).next(function(r){return t.isPrimary&&!r?t.Xe(n).next(function(){return!1}):!!r&&t.Ze(n).next(function(){return!0})})}).catch(function(n){if(Su(n))return Q("IndexedDbPersistence","Failed to extend owner lease: ",n),t.isPrimary;if(!t.allowTabSynchronization)throw n;return Q("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){t.isPrimary!==n&&t.Se.enqueueRetryable(function(){return t.Me(n)}),t.isPrimary=n})},e.prototype.Je=function(t){var n=this;return Kf(t).get(Sr.key).next(function(r){return H.resolve(n.tn(r))})},e.prototype.en=function(t){return Nv(t).delete(this.clientId)},e.prototype.nn=function(){return P(this,void 0,void 0,function(){var t,n,r,i,s=this;return A(this,function(a){switch(a.label){case 0:return!this.isPrimary||this.sn(this.$e,18e5)?[3,2]:(this.$e=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(l){var c=wr(l,Ro.store);return c.Nt().next(function(h){var d=s.rn(h,18e5),v=h.filter(function(m){return d.indexOf(m)===-1});return H.forEach(v,function(m){return c.delete(m.clientId)}).next(function(){return v})})}).catch(function(){return[]})]);case 1:if(t=a.sent(),this.Ke)for(n=0,r=t;n<r.length;n++)i=r[n],this.Ke.removeItem(this.on(i.clientId));a.label=2;case 2:return[2]}})})},e.prototype.ze=function(){var t=this;this.Oe=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},e.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},e.prototype.Ye=function(t){var n=this;return this.Ce?H.resolve(!0):Kf(t).get(Sr.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)){if(n.tn(r)&&n.networkEnabled)return!0;if(!n.tn(r)){if(!r.allowTabSynchronization)throw new z(L.FAILED_PRECONDITION,dE);return!1}}return!(!n.networkEnabled||!n.inForeground)||Nv(t).Nt().next(function(i){return n.rn(i,5e3).find(function(s){if(n.clientId!==s.clientId){var a=!n.networkEnabled&&s.networkEnabled,l=!n.inForeground&&s.inForeground,c=n.networkEnabled===s.networkEnabled;if(a||l&&c)return!0}return!1})===void 0})}).next(function(r){return n.isPrimary!==r&&Q("IndexedDbPersistence","Client "+(r?"is":"is not")+" eligible for a primary lease."),r})},e.prototype.shutdown=function(){return P(this,void 0,void 0,function(){var t=this;return A(this,function(n){switch(n.label){case 0:return this.xe=!1,this.un(),this.Oe&&(this.Oe.cancel(),this.Oe=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Sr.store,Ro.store],function(r){var i=new Dx(r,Rr.o);return t.Xe(i).next(function(){return t.en(i)})})];case 1:return n.sent(),this.Be.close(),this.ln(),[2]}})})},e.prototype.rn=function(t,n){var r=this;return t.filter(function(i){return r.sn(i.updateTimeMs,n)&&!r.cn(i.clientId)})},e.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(n){return Nv(n).Nt().next(function(r){return t.rn(r,18e5).map(function(i){return i.clientId})})})},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(t){return f9.Kt(t,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Qe},e.prototype.runTransaction=function(t,n,r){var i=this;Q("IndexedDbPersistence","Starting transaction:",t);var s,a=n==="readonly"?"readonly":"readwrite";return this.Be.runTransaction(t,a,i9,function(l){return s=new Dx(l,i.Ne?i.Ne.next():Rr.o),n==="readwrite-primary"?i.Je(s).next(function(c){return!!c||i.Ye(s)}).next(function(c){if(!c)throw Wt("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new z(L.FAILED_PRECONDITION,X4);return r(s)}).next(function(c){return i.Ze(s).next(function(){return c})}):i.dn(s).next(function(){return r(s)})}).then(function(l){return s.raiseOnCommittedEvent(),l})},e.prototype.dn=function(t){var n=this;return Kf(t).get(Sr.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)&&!n.tn(r)&&!(n.Ce||n.allowTabSynchronization&&r.allowTabSynchronization))throw new z(L.FAILED_PRECONDITION,dE)})},e.prototype.Ze=function(t){var n=new Sr(this.clientId,this.allowTabSynchronization,Date.now());return Kf(t).put(Sr.key,n)},e.yt=function(){return cc.yt()},e.prototype.Xe=function(t){var n=this,r=Kf(t);return r.get(Sr.key).next(function(i){return n.tn(i)?(Q("IndexedDbPersistence","Releasing primary lease."),r.delete(Sr.key)):H.resolve()})},e.prototype.sn=function(t,n){var r=Date.now();return!(t<r-n||t>r&&(Wt("Detected an update time that is in the future: "+t+" > "+r),1))},e.prototype.We=function(){var t=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.ke=function(){t.Se.enqueueAndForget(function(){return t.inForeground=t.document.visibilityState==="visible",t.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground=this.document.visibilityState==="visible")},e.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},e.prototype.Ge=function(){var t,n=this;typeof((t=this.window)===null||t===void 0?void 0:t.addEventListener)=="function"&&(this.Fe=function(){n.un(),n.Se.enqueueAndForget(function(){return n.shutdown()})},this.window.addEventListener("unload",this.Fe))},e.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("unload",this.Fe),this.Fe=null)},e.prototype.cn=function(t){var n;try{var r=((n=this.Ke)===null||n===void 0?void 0:n.getItem(this.on(t)))!==null;return Q("IndexedDbPersistence","Client '"+t+"' "+(r?"is":"is not")+" zombied in LocalStorage"),r}catch(i){return Wt("IndexedDbPersistence","Failed to get zombied client id.",i),!1}},e.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Wt("Failed to set zombie client id.",t)}},e.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch{}},e.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},e}();function Kf(e){return wr(e,Sr.store)}function Nv(e){return wr(e,Ro.store)}function fS(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var E9=function(e,t){this.progress=e,this.wn=t},aU=function(){function e(t,n,r){this.Ue=t,this._n=n,this.Ut=r}return e.prototype.mn=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,n).next(function(i){return r.yn(t,n,i)})},e.prototype.yn=function(t,n,r){return this.Ue.getEntry(t,n).next(function(i){for(var s=0,a=r;s<a.length;s++)a[s].applyToLocalView(i);return i})},e.prototype.gn=function(t,n){t.forEach(function(r,i){for(var s=0,a=n;s<a.length;s++)a[s].applyToLocalView(i)})},e.prototype.pn=function(t,n){var r=this;return this.Ue.getEntries(t,n).next(function(i){return r.En(t,i).next(function(){return i})})},e.prototype.En=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,n).next(function(i){return r.gn(n,i)})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){return function(i){return le.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.Tn(t,n.path):tS(n)?this.In(t,n,r):this.An(t,n,r)},e.prototype.Tn=function(t,n){return this.mn(t,new le(n)).next(function(r){var i=Eb();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})},e.prototype.In=function(t,n,r){var i=this,s=n.collectionGroup,a=Eb();return this.Ut.getCollectionParents(t,s).next(function(l){return H.forEach(l,function(c){var h=function(d,v){return new Bo(v,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,c.child(s));return i.An(t,h,r).next(function(d){d.forEach(function(v,m){a=a.insert(v,m)})})}).next(function(){return a})})},e.prototype.An=function(t,n,r){var i,s,a=this;return this.Ue.getDocumentsMatchingQuery(t,n,r).next(function(l){return i=l,a._n.getAllMutationBatchesAffectingQuery(t,n)}).next(function(l){return s=l,a.Rn(t,s,i).next(function(c){i=c;for(var h=0,d=s;h<d.length;h++)for(var v=d[h],m=0,y=v.mutations;m<y.length;m++){var _=y[m],E=_.key,S=i.get(E);S==null&&(S=Sn.newInvalidDocument(E),i=i.insert(E,S)),wb(_,S,v.localWriteTime),S.isFoundDocument()||(i=i.remove(E))}})}).next(function(){return i.forEach(function(l,c){zd(n,c)||(i=i.remove(l))}),i})},e.prototype.Rn=function(t,n,r){for(var i=Ye(),s=0,a=n;s<a.length;s++)for(var l=0,c=a[s].mutations;l<c.length;l++){var h=c[l];h instanceof Ys&&r.get(h.key)===null&&(i=i.add(h.key))}var d=r;return this.Ue.getEntries(t,i).next(function(v){return v.forEach(function(m,y){y.isFoundDocument()&&(d=d.insert(m,y))}),d})},e}(),b9=function(){function e(t,n,r,i){this.targetId=t,this.fromCache=n,this.bn=r,this.vn=i}return e.Pn=function(t,n){for(var r=Ye(),i=Ye(),s=0,a=n.docChanges;s<a.length;s++){var l=a[s];switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:i=i.add(l.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),uU=function(){function e(){}return e.prototype.Vn=function(t){this.Sn=t},e.prototype.getDocumentsMatchingQuery=function(t,n,r,i){var s=this;return function(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}(n)||r.isEqual(Ce.min())?this.Dn(t,n):this.Sn.pn(t,i).next(function(a){var l=s.Cn(n,a);return(Yv(n)||ig(n))&&s.Nn(n.limitType,l,i,r)?s.Dn(t,n):(vb()<=ke.DEBUG&&Q("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),_b(n)),s.Sn.getDocumentsMatchingQuery(t,n,r).next(function(c){return l.forEach(function(h){c=c.insert(h.key,h)}),c}))})},e.prototype.Cn=function(t,n){var r=new en(k4(t));return n.forEach(function(i,s){zd(t,s)&&(r=r.add(s))}),r},e.prototype.Nn=function(t,n,r,i){if(r.size!==n.size)return!0;var s=t==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)},e.prototype.Dn=function(t,n){return vb()<=ke.DEBUG&&Q("QueryEngine","Using full collection scan to execute query:",_b(n)),this.Sn.getDocumentsMatchingQuery(t,n,Ce.min())},e}(),T9=function(){function e(t,n,r,i){this.persistence=t,this.xn=n,this.R=i,this.Fn=new Un(Pe),this.kn=new Mc(function(s){return Bd(s)},yy),this.On=Ce.min(),this._n=t.getMutationQueue(r),this.$n=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new aU(this.$n,this._n,this.persistence.getIndexManager()),this.Qe=t.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(t){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(r){return t.collect(r,n.Fn)})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lU(e,t,n,r){return new T9(e,t,n,r)}function cU(e,t){return P(this,void 0,void 0,function(){var n,r,i,s;return A(this,function(a){switch(a.label){case 0:return n=X(e),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(l){var c;return n._n.getAllMutationBatches(l).next(function(h){return c=h,r=n.persistence.getMutationQueue(t),i=new aU(n.$n,r,n.persistence.getIndexManager()),r.getAllMutationBatches(l)}).next(function(h){for(var d=[],v=[],m=Ye(),y=0,_=c;y<_.length;y++){var E=_[y];d.push(E.batchId);for(var S=0,b=E.mutations;S<b.length;S++){var I=b[S];m=m.add(I.key)}}for(var k=0,C=h;k<C.length;k++){var x=C[k];v.push(x.batchId);for(var O=0,V=x.mutations;O<V.length;O++){var M=V[O];m=m.add(M.key)}}return i.pn(l,m).next(function(te){return{Ln:te,removedBatchIds:d,addedBatchIds:v}})})})];case 1:return s=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),s)]}})})}function I9(e,t){var n=X(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(r){var i=t.batch.keys(),s=n.$n.newChangeBuffer({trackRemovals:!0});return function(a,l,c,h){var d=c.batch,v=d.keys(),m=H.resolve();return v.forEach(function(y){m=m.next(function(){return h.getEntry(l,y)}).next(function(_){var E=c.docVersions.get(y);ve(E!==null),_.version.compareTo(E)<0&&(d.applyToRemoteDocument(_,c),_.isValidDocument()&&h.addEntry(_,c.commitVersion))})}),m.next(function(){return a._n.removeMutationBatch(l,d)})}(n,r,t,s).next(function(){return s.apply(r)}).next(function(){return n._n.performConsistencyCheck(r)}).next(function(){return n.Mn.pn(r,i)})})}function fU(e){var t=X(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return t.qe.getLastRemoteSnapshotVersion(n)})}function S9(e,t){var n=X(e),r=t.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(s){var a=n.$n.newChangeBuffer({trackRemovals:!0});i=n.Fn;var l=[];t.targetChanges.forEach(function(d,v){var m=i.get(v);if(m){l.push(n.qe.removeMatchingKeys(s,d.removedDocuments,v).next(function(){return n.qe.addMatchingKeys(s,d.addedDocuments,v)}));var y=d.resumeToken;if(y.approximateByteSize()>0){var _=m.withResumeToken(y,r).withSequenceNumber(s.currentSequenceNumber);i=i.insert(v,_),function(E,S,b){return ve(S.resumeToken.approximateByteSize()>0),E.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=3e8||b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(m,_,d)&&l.push(n.qe.updateTargetData(s,_))}}});var c=ni();if(t.documentUpdates.forEach(function(d,v){t.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),l.push(hU(s,a,t.documentUpdates,r,void 0).next(function(d){c=d})),!r.isEqual(Ce.min())){var h=n.qe.getLastRemoteSnapshotVersion(s).next(function(d){return n.qe.setTargetsMetadata(s,s.currentSequenceNumber,r)});l.push(h)}return H.waitFor(l).next(function(){return a.apply(s)}).next(function(){return n.Mn.En(s,c)}).next(function(){return c})}).then(function(s){return n.Fn=i,s})}function hU(e,t,n,r,i){var s=Ye();return n.forEach(function(a){return s=s.add(a)}),t.getEntries(e,s).next(function(a){var l=ni();return n.forEach(function(c,h){var d=a.get(c),v=(i==null?void 0:i.get(c))||r;h.isNoDocument()&&h.version.isEqual(Ce.min())?(t.removeEntry(c,v),l=l.insert(c,h)):!d.isValidDocument()||h.version.compareTo(d.version)>0||h.version.compareTo(d.version)===0&&d.hasPendingWrites?(t.addEntry(h,v),l=l.insert(c,h)):Q("LocalStore","Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",h.version)}),l})}function C9(e,t){var n=X(e);return n.persistence.runTransaction("Get next mutation batch","readonly",function(r){return t===void 0&&(t=-1),n._n.getNextMutationBatchAfterBatchId(r,t)})}function dc(e,t){var n=X(e);return n.persistence.runTransaction("Allocate target","readwrite",function(r){var i;return n.qe.getTargetData(r,t).next(function(s){return s?(i=s,H.resolve(i)):n.qe.allocateTargetId(r).next(function(a){return i=new by(t,a,0,r.currentSequenceNumber),n.qe.addTargetData(r,i).next(function(){return i})})})}).then(function(r){var i=n.Fn.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(r.targetId,r),n.kn.set(t,r.targetId)),r})}function pc(e,t,n){return P(this,void 0,void 0,function(){var r,i,s,a;return A(this,function(l){switch(l.label){case 0:r=X(e),i=r.Fn.get(t),s=n?"readwrite":"readwrite-primary",l.label=1;case 1:return l.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(c){return r.persistence.referenceDelegate.removeTarget(c,i)})];case 2:l.sent(),l.label=3;case 3:return[3,5];case 4:if(!Su(a=l.sent()))throw a;return Q("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return r.Fn=r.Fn.remove(t),r.kn.delete(i.target),[2]}})})}function ug(e,t,n){var r=X(e),i=Ce.min(),s=Ye();return r.persistence.runTransaction("Execute query","readonly",function(a){return function(l,c,h){var d=X(l),v=d.kn.get(h);return v!==void 0?H.resolve(d.Fn.get(v)):d.qe.getTargetData(c,h)}(r,a,ui(t)).next(function(l){if(l)return i=l.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(a,l.targetId).next(function(c){s=c})}).next(function(){return r.xn.getDocumentsMatchingQuery(a,t,n?i:Ce.min(),n?s:Ye())}).next(function(l){return{documents:l,Bn:s}})})}function dU(e,t){var n=X(e),r=X(n.qe),i=n.Fn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(s){return r.lt(s,t).next(function(a){return a?a.target:null})})}function pU(e){var t=X(e);return t.persistence.runTransaction("Get new document changes","readonly",function(n){return function(r,i,s){var a=X(r),l=ni(),c=uS(s),h=as(i),d=IDBKeyRange.lowerBound(c,!0);return h.Ot({index:Pt.readTimeIndex,range:d},function(v,m){var y=Tb(a.R,m);l=l.insert(y.key,y),c=m.readTime}).next(function(){return{wn:l,readTime:tU(c)}})}(t.$n,n,t.On)}).then(function(n){var r=n.wn,i=n.readTime;return t.On=i,r})}function k9(e){return P(this,void 0,void 0,function(){var t;return A(this,function(n){return[2,(t=X(e)).persistence.runTransaction("Synchronize last document change read time","readonly",function(r){return function(i){var s=as(i),a=Ce.min();return s.Ot({index:Pt.readTimeIndex,reverse:!0},function(l,c,h){c.readTime&&(a=tU(c.readTime)),h.done()}).next(function(){return a})}(r)}).then(function(r){t.On=r})]})})}function N9(e,t,n,r){return P(this,void 0,void 0,function(){var i,s,a,l,c,h,d,v,m,y;return A(this,function(_){switch(_.label){case 0:for(i=X(e),s=Ye(),a=ni(),l=U4(),c=0,h=n;c<h.length;c++)d=h[c],v=t.qn(d.metadata.name),d.document&&(s=s.add(v)),a=a.insert(v,t.Un(d)),l=l.insert(v,t.Qn(d.metadata.readTime));return m=i.$n.newChangeBuffer({trackRemovals:!0}),[4,dc(i,function(E){return ui(Lc($e.fromString("__bundle__/docs/"+E)))}(r))];case 1:return y=_.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(E){return hU(E,m,a,Ce.min(),l).next(function(S){return m.apply(E),S}).next(function(S){return i.qe.removeMatchingKeysForTargetId(E,y.targetId).next(function(){return i.qe.addMatchingKeys(E,s,y.targetId)}).next(function(){return i.Mn.En(E,S)}).next(function(){return S})})})]}})})}function R9(e,t,n){return n===void 0&&(n=Ye()),P(this,void 0,void 0,function(){var r,i;return A(this,function(s){switch(s.label){case 0:return[4,dc(e,ui(lS(t.bundledQuery)))];case 1:return r=s.sent(),[2,(i=X(e)).persistence.runTransaction("Save named query","readwrite",function(a){var l=hn(t.readTime);if(r.snapshotVersion.compareTo(l)>=0)return i.Qe.saveNamedQuery(a,t);var c=r.withResumeToken(Xn.EMPTY_BYTE_STRING,l);return i.Fn=i.Fn.insert(c.targetId,c),i.qe.updateTargetData(a,c).next(function(){return i.qe.removeMatchingKeysForTargetId(a,r.targetId)}).next(function(){return i.qe.addMatchingKeys(a,n,r.targetId)}).next(function(){return i.Qe.saveNamedQuery(a,t)})})]}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var A9=function(){function e(t){this.R=t,this.Kn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(t,n){return H.resolve(this.Kn.get(n))},e.prototype.saveBundleMetadata=function(t,n){var r;return this.Kn.set(n.id,{id:(r=n).id,version:r.version,createTime:hn(r.createTime)}),H.resolve()},e.prototype.getNamedQuery=function(t,n){return H.resolve(this.jn.get(n))},e.prototype.saveNamedQuery=function(t,n){return this.jn.set(n.name,function(r){return{name:r.name,query:lS(r.bundledQuery),readTime:hn(r.readTime)}}(n)),H.resolve()},e}(),hS=function(){function e(){this.Wn=new en(an.Gn),this.zn=new en(an.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(t,n){var r=new an(t,n);this.Wn=this.Wn.add(r),this.zn=this.zn.add(r)},e.prototype.Jn=function(t,n){var r=this;t.forEach(function(i){return r.addReference(i,n)})},e.prototype.removeReference=function(t,n){this.Yn(new an(t,n))},e.prototype.Xn=function(t,n){var r=this;t.forEach(function(i){return r.removeReference(i,n)})},e.prototype.Zn=function(t){var n=this,r=new le(new $e([])),i=new an(r,t),s=new an(r,t+1),a=[];return this.zn.forEachInRange([i,s],function(l){n.Yn(l),a.push(l.key)}),a},e.prototype.ts=function(){var t=this;this.Wn.forEach(function(n){return t.Yn(n)})},e.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},e.prototype.es=function(t){var n=new le(new $e([])),r=new an(n,t),i=new an(n,t+1),s=Ye();return this.zn.forEachInRange([r,i],function(a){s=s.add(a.key)}),s},e.prototype.containsKey=function(t){var n=new an(t,0),r=this.Wn.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)},e}(),an=function(){function e(t,n){this.key=t,this.ns=n}return e.Gn=function(t,n){return le.comparator(t.key,n.key)||Pe(t.ns,n.ns)},e.Hn=function(t,n){return Pe(t.ns,n.ns)||le.comparator(t.key,n.key)},e}(),P9=function(){function e(t,n){this.Ut=t,this.referenceDelegate=n,this._n=[],this.ss=1,this.rs=new en(an.Gn)}return e.prototype.checkEmpty=function(t){return H.resolve(this._n.length===0)},e.prototype.addMutationBatch=function(t,n,r,i){var s=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var a=new aS(s,n,r,i);this._n.push(a);for(var l=0,c=i;l<c.length;l++){var h=c[l];this.rs=this.rs.add(new an(h.key,s)),this.Ut.addToCollectionParentIndex(t,h.key.path.popLast())}return H.resolve(a)},e.prototype.lookupMutationBatch=function(t,n){return H.resolve(this.os(n))},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=n+1,i=this.cs(r),s=i<0?0:i;return H.resolve(this._n.length>s?this._n[s]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return H.resolve(this._n.length===0?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(t){return H.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,i=new an(n,0),s=new an(n,Number.POSITIVE_INFINITY),a=[];return this.rs.forEachInRange([i,s],function(l){var c=r.os(l.ns);a.push(c)}),H.resolve(a)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,i=new en(Pe);return n.forEach(function(s){var a=new an(s,0),l=new an(s,Number.POSITIVE_INFINITY);r.rs.forEachInRange([a,l],function(c){i=i.add(c.ns)})}),H.resolve(this.us(i))},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=n.path,i=r.length+1,s=r;le.isDocumentKey(s)||(s=s.child(""));var a=new an(new le(s),0),l=new en(Pe);return this.rs.forEachWhile(function(c){var h=c.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(l=l.add(c.ns)),!0)},a),H.resolve(this.us(l))},e.prototype.us=function(t){var n=this,r=[];return t.forEach(function(i){var s=n.os(i);s!==null&&r.push(s)}),r},e.prototype.removeMutationBatch=function(t,n){var r=this;ve(this.hs(n.batchId,"removed")===0),this._n.shift();var i=this.rs;return H.forEach(n.mutations,function(s){var a=new an(s.key,n.batchId);return i=i.delete(a),r.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(function(){r.rs=i})},e.prototype.Gt=function(t){},e.prototype.containsKey=function(t,n){var r=new an(n,0),i=this.rs.firstAfterOrEqual(r);return H.resolve(n.isEqual(i&&i.key))},e.prototype.performConsistencyCheck=function(t){return this._n.length,H.resolve()},e.prototype.hs=function(t,n){return this.cs(t)},e.prototype.cs=function(t){return this._n.length===0?0:t-this._n[0].batchId},e.prototype.os=function(t){var n=this.cs(t);return n<0||n>=this._n.length?null:this._n[n]},e}(),x9=function(){function e(t,n){this.Ut=t,this.ls=n,this.docs=new Un(le.comparator),this.size=0}return e.prototype.addEntry=function(t,n,r){var i=n.key,s=this.docs.get(i),a=s?s.size:0,l=this.ls(n);return this.docs=this.docs.insert(i,{document:n.clone(),size:l,readTime:r}),this.size+=l-a,this.Ut.addToCollectionParentIndex(t,i.path.popLast())},e.prototype.removeEntry=function(t){var n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)},e.prototype.getEntry=function(t,n){var r=this.docs.get(n);return H.resolve(r?r.document.clone():Sn.newInvalidDocument(n))},e.prototype.getEntries=function(t,n){var r=this,i=ni();return n.forEach(function(s){var a=r.docs.get(s);i=i.insert(s,a?a.document.clone():Sn.newInvalidDocument(s))}),H.resolve(i)},e.prototype.getDocumentsMatchingQuery=function(t,n,r){for(var i=ni(),s=new le(n.path.child("")),a=this.docs.getIteratorFrom(s);a.hasNext();){var l=a.getNext(),c=l.key,h=l.value,d=h.document,v=h.readTime;if(!n.path.isPrefixOf(c.path))break;v.compareTo(r)<=0||zd(n,d)&&(i=i.insert(d.key,d.clone()))}return H.resolve(i)},e.prototype.fs=function(t,n){return H.forEach(this.docs,function(r){return n(r)})},e.prototype.newChangeBuffer=function(t){return new O9(this)},e.prototype.getSize=function(t){return H.resolve(this.size)},e}(),O9=function(e){function t(n){var r=this;return(r=e.call(this)||this).Ie=n,r}return J(t,e),t.prototype.applyChanges=function(n){var r=this,i=[];return this.changes.forEach(function(s,a){a.document.isValidDocument()?i.push(r.Ie.addEntry(n,a.document,r.getReadTime(s))):r.Ie.removeEntry(s)}),H.waitFor(i)},t.prototype.getFromCache=function(n,r){return this.Ie.getEntry(n,r)},t.prototype.getAllFromCache=function(n,r){return this.Ie.getEntries(n,r)},t}(sU),D9=function(){function e(t){this.persistence=t,this.ds=new Mc(function(n){return Bd(n)},yy),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.ws=0,this._s=new hS,this.targetCount=0,this.ys=ag.Jt()}return e.prototype.forEachTarget=function(t,n){return this.ds.forEach(function(r,i){return n(i)}),H.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(t){return H.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(t){return H.resolve(this.ws)},e.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),H.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ws&&(this.ws=n),H.resolve()},e.prototype.te=function(t){this.ds.set(t.target,t);var n=t.targetId;n>this.highestTargetId&&(this.ys=new ag(n),this.highestTargetId=n),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},e.prototype.addTargetData=function(t,n){return this.te(n),this.targetCount+=1,H.resolve()},e.prototype.updateTargetData=function(t,n){return this.te(n),H.resolve()},e.prototype.removeTargetData=function(t,n){return this.ds.delete(n.target),this._s.Zn(n.targetId),this.targetCount-=1,H.resolve()},e.prototype.removeTargets=function(t,n,r){var i=this,s=0,a=[];return this.ds.forEach(function(l,c){c.sequenceNumber<=n&&r.get(c.targetId)===null&&(i.ds.delete(l),a.push(i.removeMatchingKeysForTargetId(t,c.targetId)),s++)}),H.waitFor(a).next(function(){return s})},e.prototype.getTargetCount=function(t){return H.resolve(this.targetCount)},e.prototype.getTargetData=function(t,n){var r=this.ds.get(n)||null;return H.resolve(r)},e.prototype.addMatchingKeys=function(t,n,r){return this._s.Jn(n,r),H.resolve()},e.prototype.removeMatchingKeys=function(t,n,r){this._s.Xn(n,r);var i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(function(a){s.push(i.markPotentiallyOrphaned(t,a))}),H.waitFor(s)},e.prototype.removeMatchingKeysForTargetId=function(t,n){return this._s.Zn(n),H.resolve()},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=this._s.es(n);return H.resolve(r)},e.prototype.containsKey=function(t,n){return H.resolve(this._s.containsKey(n))},e}(),L9=function(){function e(t,n){var r=this;this.gs={},this.Ne=new Rr(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new D9(this),this.Ut=new l9,this.Ue=function(i,s){return new x9(i,function(a){return r.referenceDelegate.ps(a)})}(this.Ut),this.R=new eU(n),this.Qe=new A9(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(t){var n=this.gs[t.toKey()];return n||(n=new P9(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=n),n},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Qe},e.prototype.runTransaction=function(t,n,r){var i=this;Q("MemoryPersistence","Starting transaction:",t);var s=new M9(this.Ne.next());return this.referenceDelegate.Es(),r(s).next(function(a){return i.referenceDelegate.Ts(s).next(function(){return a})}).toPromise().then(function(a){return s.raiseOnCommittedEvent(),a})},e.prototype.Is=function(t,n){return H.or(Object.values(this.gs).map(function(r){return function(){return r.containsKey(t,n)}}))},e}(),M9=function(e){function t(n){var r=this;return(r=e.call(this)||this).currentSequenceNumber=n,r}return J(t,e),t}(J4),F9=function(){function e(t){this.persistence=t,this.As=new hS,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw se()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(t,n,r){return this.As.addReference(r,n),this.vs.delete(r.toString()),H.resolve()},e.prototype.removeReference=function(t,n,r){return this.As.removeReference(r,n),this.vs.add(r.toString()),H.resolve()},e.prototype.markPotentiallyOrphaned=function(t,n){return this.vs.add(n.toString()),H.resolve()},e.prototype.removeTarget=function(t,n){var r=this;this.As.Zn(n.targetId).forEach(function(s){return r.vs.add(s.toString())});var i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(function(s){s.forEach(function(a){return r.vs.add(a.toString())})}).next(function(){return i.removeTargetData(t,n)})},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(t){var n=this,r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.vs,function(i){var s=le.fromPath(i);return n.Ps(t,s).next(function(a){a||r.removeEntry(s)})}).next(function(){return n.Rs=null,r.apply(t)})},e.prototype.updateLimboDocument=function(t,n){var r=this;return this.Ps(t,n).next(function(i){i?r.vs.delete(n.toString()):r.vs.add(n.toString())})},e.prototype.ps=function(t){return 0},e.prototype.Ps=function(t,n){var r=this;return H.or([function(){return H.resolve(r.As.containsKey(n))},function(){return r.persistence.getTargetCache().containsKey(t,n)},function(){return r.persistence.Is(t,n)}])},e}(),ur=function(){function e(t){this.uid=t}return e.prototype.isAuthenticated=function(){return this.uid!=null},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(t){return t.uid===this.uid},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qx(e,t){return"firestore_clients_"+e+"_"+t}function Wx(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function pE(e,t){return"firestore_targets_"+e+"_"+t}ur.UNAUTHENTICATED=new ur(null),ur.GOOGLE_CREDENTIALS=new ur("google-credentials-uid"),ur.FIRST_PARTY=new ur("first-party-uid");var Hx=function(){function e(t,n,r,i){this.user=t,this.batchId=n,this.state=r,this.error=i}return e.Vs=function(t,n,r){var i,s=JSON.parse(r),a=typeof s=="object"&&["pending","acknowledged","rejected"].indexOf(s.state)!==-1&&(s.error===void 0||typeof s.error=="object");return a&&s.error&&(a=typeof s.error.message=="string"&&typeof s.error.code=="string")&&(i=new z(s.error.code,s.error.message)),a?new e(t,n,s.state,i):(Wt("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),vE=function(){function e(t,n,r){this.targetId=t,this.state=n,this.error=r}return e.Vs=function(t,n){var r,i=JSON.parse(n),s=typeof i=="object"&&["not-current","current","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return s&&i.error&&(s=typeof i.error.message=="string"&&typeof i.error.code=="string")&&(r=new z(i.error.code,i.error.message)),s?new e(t,i.state,r):(Wt("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),Kx=function(){function e(t,n){this.clientId=t,this.activeTargetIds=n}return e.Vs=function(t,n){for(var r=JSON.parse(n),i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=Ey(),a=0;i&&a<r.activeTargetIds.length;++a)i=E4(r.activeTargetIds[a]),s=s.add(r.activeTargetIds[a]);return i?new e(t,s):(Wt("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),U9=function(){function e(t,n){this.clientId=t,this.onlineState=n}return e.Vs=function(t){var n=JSON.parse(t);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new e(n.clientId,n.onlineState):(Wt("SharedClientState","Failed to parse online state: "+t),null)},e}(),Ib=function(){function e(){this.activeTargetIds=Ey()}return e.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},e.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},e.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},e}(),mE=function(){function e(t,n,r,i,s){this.window=t,this.Se=n,this.persistenceKey=r,this.Ns=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new Un(Pe),this.started=!1,this.Os=[];var a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.$s=qx(this.persistenceKey,this.Ns),this.Ms=function(l){return"firestore_sequence_number_"+l}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new Ib),this.Ls=new RegExp("^firestore_clients_"+a+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+a+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+a+"_(\\d+)$"),this.Us=function(l){return"firestore_online_state_"+l}(this.persistenceKey),this.Qs=function(l){return"firestore_bundle_loaded_"+l}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(t){return!(!t||!t.localStorage)},e.prototype.start=function(){return P(this,void 0,void 0,function(){var t,n,r,i,s,a,l,c,h,d,v,m=this;return A(this,function(y){switch(y.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=y.sent(),n=0,r=t;n<r.length;n++)(i=r[n])!==this.Ns&&(s=this.getItem(qx(this.persistenceKey,i)))&&(a=Kx.Vs(i,s))&&(this.ks=this.ks.insert(a.clientId,a));for(this.Ks(),(l=this.storage.getItem(this.Us))&&(c=this.js(l))&&this.Ws(c),h=0,d=this.Os;h<d.length;h++)v=d[h],this.Fs(v);return this.Os=[],this.window.addEventListener("unload",function(){return m.shutdown()}),this.started=!0,[2]}})})},e.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},e.prototype.isActiveQueryTarget=function(t){var n=!1;return this.ks.forEach(function(r,i){i.activeTargetIds.has(t)&&(n=!0)}),n},e.prototype.addPendingMutation=function(t){this.zs(t,"pending")},e.prototype.updateMutationState=function(t,n,r){this.zs(t,n,r),this.Hs(t)},e.prototype.addLocalQueryTarget=function(t){var n="not-current";if(this.isActiveQueryTarget(t)){var r=this.storage.getItem(pE(this.persistenceKey,t));if(r){var i=vE.Vs(t,r);i&&(n=i.state)}}return this.Js.Ds(t),this.Ks(),n},e.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Ks()},e.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){this.removeItem(pE(this.persistenceKey,t))},e.prototype.updateQueryState=function(t,n,r){this.Ys(t,n,r)},e.prototype.handleUserChange=function(t,n,r){var i=this;n.forEach(function(s){i.Hs(s)}),this.currentUser=t,r.forEach(function(s){i.addPendingMutation(s)})},e.prototype.setOnlineState=function(t){this.Xs(t)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.$s),this.started=!1)},e.prototype.getItem=function(t){var n=this.storage.getItem(t);return Q("SharedClientState","READ",t,n),n},e.prototype.setItem=function(t,n){Q("SharedClientState","SET",t,n),this.storage.setItem(t,n)},e.prototype.removeItem=function(t){Q("SharedClientState","REMOVE",t),this.storage.removeItem(t)},e.prototype.Fs=function(t){var n=this,r=t;if(r.storageArea===this.storage){if(Q("SharedClientState","EVENT",r.key,r.newValue),r.key===this.$s)return void Wt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return P(n,void 0,void 0,function(){var i,s,a,l,c,h;return A(this,function(d){if(this.started){if(r.key!==null){if(this.Ls.test(r.key)){if(r.newValue==null)return i=this.ti(r.key),[2,this.ei(i,null)];if(s=this.ni(r.key,r.newValue))return[2,this.ei(s.clientId,s)]}else if(this.Bs.test(r.key)){if(r.newValue!==null&&(a=this.si(r.key,r.newValue)))return[2,this.ii(a)]}else if(this.qs.test(r.key)){if(r.newValue!==null&&(l=this.ri(r.key,r.newValue)))return[2,this.oi(l)]}else if(r.key===this.Us){if(r.newValue!==null&&(c=this.js(r.newValue)))return[2,this.Ws(c)]}else if(r.key===this.Ms)(h=function(v){var m=Rr.o;if(v!=null)try{var y=JSON.parse(v);ve(typeof y=="number"),m=y}catch(_){Wt("SharedClientState","Failed to read sequence number from WebStorage",_)}return m}(r.newValue))!==Rr.o&&this.sequenceNumberHandler(h);else if(r.key===this.Qs)return[2,this.syncEngine.ci()]}}else this.Os.push(r);return[2]})})})}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Ks=function(){this.setItem(this.$s,this.Js.Ss())},e.prototype.zs=function(t,n,r){var i=new Hx(this.currentUser,t,n,r),s=Wx(this.persistenceKey,this.currentUser,t);this.setItem(s,i.Ss())},e.prototype.Hs=function(t){var n=Wx(this.persistenceKey,this.currentUser,t);this.removeItem(n)},e.prototype.Xs=function(t){var n={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(n))},e.prototype.Ys=function(t,n,r){var i=pE(this.persistenceKey,t),s=new vE(t,n,r);this.setItem(i,s.Ss())},e.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},e.prototype.ti=function(t){var n=this.Ls.exec(t);return n?n[1]:null},e.prototype.ni=function(t,n){var r=this.ti(t);return Kx.Vs(r,n)},e.prototype.si=function(t,n){var r=this.Bs.exec(t),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return Hx.Vs(new ur(s),i,n)},e.prototype.ri=function(t,n){var r=this.qs.exec(t),i=Number(r[1]);return vE.Vs(i,n)},e.prototype.js=function(t){return U9.Vs(t)},e.prototype.ii=function(t){return P(this,void 0,void 0,function(){return A(this,function(n){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(Q("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},e.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},e.prototype.ei=function(t,n){var r=this,i=n?this.ks.insert(t,n):this.ks.remove(t),s=this.Gs(this.ks),a=this.Gs(i),l=[],c=[];return a.forEach(function(h){s.has(h)||l.push(h)}),s.forEach(function(h){a.has(h)||c.push(h)}),this.syncEngine.hi(l,c).then(function(){r.ks=i})},e.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},e.prototype.Gs=function(t){var n=Ey();return t.forEach(function(r,i){n=n.unionWith(i.activeTargetIds)}),n},e}(),vU=function(){function e(){this.li=new Ib,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(t){},e.prototype.updateMutationState=function(t,n,r){},e.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},e.prototype.updateQueryState=function(t,n,r){this.fi[t]=n},e.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},e.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){delete this.fi[t]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.start=function(){return this.li=new Ib,Promise.resolve()},e.prototype.handleUserChange=function(t,n,r){},e.prototype.setOnlineState=function(t){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(t){},e.prototype.notifyBundleLoaded=function(){},e}(),j9=function(){function e(){}return e.prototype.di=function(t){},e.prototype.shutdown=function(){},e}(),Gx=function(){function e(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return e.prototype.di=function(t){this.gi.push(t)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){Q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(0)},e.prototype.yi=function(){Q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(1)},e.yt=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},e}(),V9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},B9=function(){function e(t){this.Ei=t.Ei,this.Ti=t.Ti}return e.prototype.Ii=function(t){this.Ai=t},e.prototype.Ri=function(t){this.bi=t},e.prototype.onMessage=function(t){this.vi=t},e.prototype.close=function(){this.Ti()},e.prototype.send=function(t){this.Ei(t)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(t){this.bi(t)},e.prototype.Si=function(t){this.vi(t)},e}(),$9=function(e){function t(n){var r=this;return(r=e.call(this,n)||this).forceLongPolling=n.forceLongPolling,r.autoDetectLongPolling=n.autoDetectLongPolling,r}return J(t,e),t.prototype.ki=function(n,r,i,s){return new Promise(function(a,l){var c=new _Q;c.listenOnce(gQ.COMPLETE,function(){try{switch(c.getLastErrorCode()){case hE.NO_ERROR:var d=c.getResponseJson();Q("Connection","XHR received:",JSON.stringify(d)),a(d);break;case hE.TIMEOUT:Q("Connection",'RPC "'+n+'" timed out'),l(new z(L.DEADLINE_EXCEEDED,"Request time out"));break;case hE.HTTP_ERROR:var v=c.getStatus();if(Q("Connection",'RPC "'+n+'" failed with status:',v,"response text:",c.getResponseText()),v>0){var m=c.getResponseJson().error;if(m&&m.status&&m.message){var y=function(_){var E=_.toLowerCase().replace(/_/g,"-");return Object.values(L).indexOf(E)>=0?E:L.UNKNOWN}(m.status);l(new z(y,m.message))}else l(new z(L.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new z(L.UNAVAILABLE,"Connection failed."));break;default:se()}}finally{Q("Connection",'RPC "'+n+'" completed.')}});var h=JSON.stringify(s);c.send(r,"POST",h,i,15)})},t.prototype.$i=function(n,r){var i=[this.Di,"/","google.firestore.v1.Firestore","/",n,"/channel"],s=vQ(),a=mQ(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Fi(l.initMessageHeaders,r),FT()||A2()||aW()||uW()||lW()||UT()||(l.httpHeadersOverwriteParam="$httpHeaders");var c=i.join("");Q("Connection","Creating WebChannel: "+c,l);var h=s.createWebChannel(c,l),d=!1,v=!1,m=new B9({Ei:function(_){v?Q("Connection","Not sending because WebChannel is closed:",_):(d||(Q("Connection","Opening WebChannel transport."),h.open(),d=!0),Q("Connection","WebChannel sending:",_),h.send(_))},Ti:function(){return h.close()}}),y=function(_,E,S){_.listen(E,function(b){try{S(b)}catch(I){setTimeout(function(){throw I},0)}})};return y(h,Iv.EventType.OPEN,function(){v||Q("Connection","WebChannel transport opened.")}),y(h,Iv.EventType.CLOSE,function(){v||(v=!0,Q("Connection","WebChannel transport closed"),m.Vi())}),y(h,Iv.EventType.ERROR,function(_){v||(v=!0,Zm("Connection","WebChannel transport errored:",_),m.Vi(new z(L.UNAVAILABLE,"The operation could not be completed")))}),y(h,Iv.EventType.MESSAGE,function(_){var E;if(!v){var S=_.data[0];ve(!!S);var b=S,I=b.error||((E=b[0])===null||E===void 0?void 0:E.error);if(I){Q("Connection","WebChannel received error:",I);var k=I.status,C=function(O){var V=Bt[O];if(V!==void 0)return F4(V)}(k),x=I.message;C===void 0&&(C=L.INTERNAL,x="Unknown error status: "+k+" with message "+I.message),v=!0,m.Vi(new z(C,x)),h.close()}else Q("Connection","WebChannel received:",S),m.Si(S)}}),y(a,yQ.STAT_EVENT,function(_){_.stat===fx.PROXY?Q("Connection","Detected buffering proxy"):_.stat===fx.NOPROXY&&Q("Connection","Detected no buffering proxy")}),setTimeout(function(){m.Pi()},0),m},t}(function(){function e(t){this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Di=n+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(t,n,r,i){var s=this.xi(t,n);Q("RestConnection","Sending: ",s,r);var a={};return this.Fi(a,i),this.ki(t,s,a,r).then(function(l){return Q("RestConnection","Received: ",l),l},function(l){throw Zm("RestConnection",t+" failed with error: ",l,"url: ",s,"request:",r),l})},e.prototype.Oi=function(t,n,r,i){return this.Ni(t,n,r,i)},e.prototype.Fi=function(t,n){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.5.0",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(var r in n.authHeaders)n.authHeaders.hasOwnProperty(r)&&(t[r]=n.authHeaders[r])},e.prototype.xi=function(t,n){var r=V9[t];return this.Di+"/v1/"+n+":"+r},e}());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mU(){return typeof window<"u"?window:null}function Zv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kd(e){return new KQ(e,!0)}var dS=function(){function e(t,n,r,i,s){r===void 0&&(r=1e3),i===void 0&&(i=1.5),s===void 0&&(s=6e4),this.Se=t,this.timerId=n,this.Mi=r,this.Li=i,this.Bi=s,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Ki=function(){this.qi=this.Bi},e.prototype.ji=function(t){var n=this;this.cancel();var r=Math.floor(this.qi+this.Wi()),i=Math.max(0,Date.now()-this.Qi),s=Math.max(0,r-i);s>0&&Q("ExponentialBackoff","Backing off for "+s+" ms (base delay: "+this.qi+" ms, delay with jitter: "+r+" ms, last attempt: "+i+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,s,function(){return n.Qi=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){this.Ui!==null&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){this.Ui!==null&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),gU=function(){function e(t,n,r,i,s,a){this.Se=t,this.zi=r,this.Hi=i,this.Ji=s,this.listener=a,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new dS(t,n)}return e.prototype.tr=function(){return this.state===1||this.state===2||this.state===4},e.prototype.er=function(){return this.state===2},e.prototype.start=function(){this.state!==3?this.auth():this.nr()},e.prototype.stop=function(){return P(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var t=this;this.er()&&this.Xi===null&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},e.prototype.cr=function(t){this.ur(),this.stream.send(t)},e.prototype.rr=function(){return P(this,void 0,void 0,function(){return A(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(t,n){return P(this,void 0,void 0,function(){return A(this,function(r){switch(r.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,t!==3?this.Zi.reset():n&&n.code===L.RESOURCE_EXHAUSTED?(Wt(n.toString()),Wt("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):n&&n.code===L.UNAUTHENTICATED&&this.Ji.invalidateToken(),this.stream!==null&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(n)];case 1:return r.sent(),[2]}})})},e.prototype.ar=function(){},e.prototype.auth=function(){var t=this;this.state=1;var n=this.hr(this.Yi),r=this.Yi;this.Ji.getToken().then(function(i){t.Yi===r&&t.lr(i)},function(i){n(function(){var s=new z(L.UNKNOWN,"Fetching auth token failed: "+i.message);return t.dr(s)})})},e.prototype.lr=function(t){var n=this,r=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){r(function(){return n.state=2,n.listener.Ii()})}),this.stream.Ri(function(i){r(function(){return n.dr(i)})}),this.stream.onMessage(function(i){r(function(){return n.onMessage(i)})})},e.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return P(t,void 0,void 0,function(){return A(this,function(n){return this.state=0,this.start(),[2]})})})},e.prototype.dr=function(t){return Q("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},e.prototype.hr=function(t){var n=this;return function(r){n.Se.enqueueAndForget(function(){return n.Yi===t?r():(Q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),z9=function(e){function t(n,r,i,s,a){var l=this;return(l=e.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",r,i,a)||this).R=s,l}return J(t,e),t.prototype.wr=function(n){return this.Hi.$i("Listen",n)},t.prototype.onMessage=function(n){this.Zi.reset();var r=function(s,a){var l;if("targetChange"in a){a.targetChange;var c=function(S){return S==="NO_CHANGE"?0:S==="ADD"?1:S==="REMOVE"?2:S==="CURRENT"?3:S==="RESET"?4:se()}(a.targetChange.targetChangeType||"NO_CHANGE"),h=a.targetChange.targetIds||[],d=function(S,b){return S.I?(ve(b===void 0||typeof b=="string"),Xn.fromBase64String(b||"")):(ve(b===void 0||b instanceof Uint8Array),Xn.fromUint8Array(b||new Uint8Array))}(s,a.targetChange.resumeToken),v=(m=a.targetChange.cause)&&function(S){var b=S.code===void 0?L.UNKNOWN:F4(S.code);return new z(b,S.message||"")}(m);l=new V4(c,h,d,v||null)}else if("documentChange"in a){a.documentChange,(c=a.documentChange).document,c.document.name,c.document.updateTime,h=Xi(s,c.document.name),d=hn(c.document.updateTime);var m=new kr({mapValue:{fields:c.document.fields}}),y=(v=Sn.newFoundDocument(h,d,m),c.targetIds||[]),_=c.removedTargetIds||[];l=new Jv(y,_,v.key,v)}else if("documentDelete"in a)a.documentDelete,(c=a.documentDelete).document,h=Xi(s,c.document),d=c.readTime?hn(c.readTime):Ce.min(),m=Sn.newNoDocument(h,d),v=c.removedTargetIds||[],l=new Jv([],v,m.key,m);else if("documentRemove"in a)a.documentRemove,(c=a.documentRemove).document,h=Xi(s,c.document),d=c.removedTargetIds||[],l=new Jv([],d,h,null);else{if(!("filter"in a))return se();a.filter;var E=a.filter;E.targetId,c=E.count||0,h=new UQ(c),d=E.targetId,l=new j4(d,h)}return l}(this.R,n),i=function(s){if(!("targetChange"in s))return Ce.min();var a=s.targetChange;return a.targetIds&&a.targetIds.length?Ce.min():a.readTime?hn(a.readTime):Ce.min()}(n);return this.listener._r(r,i)},t.prototype.mr=function(n){var r={};r.database=ld(this.R),r.addTarget=function(s,a){var l,c=a.target;return(l=ng(c)?{documents:H4(s,c)}:{query:K4(s,c)}).targetId=a.targetId,a.resumeToken.approximateByteSize()>0?l.resumeToken=B4(s,a.resumeToken):a.snapshotVersion.compareTo(Ce.min())>0&&(l.readTime=ad(s,a.snapshotVersion.toTimestamp())),l}(this.R,n);var i=function(s,a){var l=function(c,h){switch(h){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return se()}}(0,a.purpose);return l==null?null:{"goog-listen-tags":l}}(this.R,n);i&&(r.labels=i),this.cr(r)},t.prototype.yr=function(n){var r={};r.database=ld(this.R),r.removeTarget=n,this.cr(r)},t}(gU),q9=function(e){function t(n,r,i,s,a){var l=this;return(l=e.call(this,n,"write_stream_connection_backoff","write_stream_idle",r,i,a)||this).R=s,l.gr=!1,l}return J(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(n){return this.Hi.$i("Write",n)},t.prototype.onMessage=function(n){if(ve(!!n.streamToken),this.lastStreamToken=n.streamToken,this.gr){this.Zi.reset();var r=function(s,a){return s&&s.length>0?(ve(a!==void 0),s.map(function(l){return function(c,h){var d=c.updateTime?hn(c.updateTime):hn(h);return d.isEqual(Ce.min())&&(d=hn(h)),new LQ(d,c.transformResults||[])}(l,a)})):[]}(n.writeResults,n.commitTime),i=hn(n.commitTime);return this.listener.Tr(i,r)}return ve(!n.writeResults||n.writeResults.length===0),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var n={};n.database=ld(this.R),this.cr(n)},t.prototype.Er=function(n){var r=this,i={streamToken:this.lastStreamToken,writes:n.map(function(s){return og(r.R,s)})};this.cr(i)},t}(gU),W9=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).credentials=n,s.Hi=r,s.R=i,s.Rr=!1,s}return J(t,e),t.prototype.br=function(){if(this.Rr)throw new z(L.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(n,r,i){var s=this;return this.br(),this.credentials.getToken().then(function(a){return s.Hi.Ni(n,r,i,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===L.UNAUTHENTICATED&&s.credentials.invalidateToken(),a):new z(L.UNKNOWN,a.toString())})},t.prototype.Oi=function(n,r,i){var s=this;return this.br(),this.credentials.getToken().then(function(a){return s.Hi.Oi(n,r,i,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===L.UNAUTHENTICATED&&s.credentials.invalidateToken(),a):new z(L.UNKNOWN,a.toString())})},t.prototype.terminate=function(){this.Rr=!0},t}(function(){}),H9=function(){function e(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var t=this;this.vr===0&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},e.prototype.Nr=function(t){this.state==="Online"?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},e.prototype.set=function(t){this.Fr(),this.vr=0,t==="Online"&&(this.Vr=!1),this.Dr(t)},e.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},e.prototype.Cr=function(t){var n="Could not reach Cloud Firestore backend. "+t+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?(Wt(n),this.Vr=!1):Q("OnlineStateTracker",n)},e.prototype.Fr=function(){this.Pr!==null&&(this.Pr.cancel(),this.Pr=null)},e}(),K9=function(e,t,n,r,i){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.Or=new Map,this.$r=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(a){n.enqueueAndForget(function(){return P(s,void 0,void 0,function(){return A(this,function(l){switch(l.label){case 0:return Xs(this)?(Q("RemoteStore","Restarting streams for network reachability change."),[4,function(c){return P(this,void 0,void 0,function(){var h;return A(this,function(d){switch(d.label){case 0:return(h=X(c)).$r.add(4),[4,Fc(h)];case 1:return d.sent(),h.Br.set("Unknown"),h.$r.delete(4),[4,Gd(h)];case 2:return d.sent(),[2]}})})}(this)]):[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})})}),this.Br=new H9(n,r)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gd(e){return P(this,void 0,void 0,function(){var t,n;return A(this,function(r){switch(r.label){case 0:if(!Xs(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Fc(e){return P(this,void 0,void 0,function(){var t,n;return A(this,function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Ty(e,t){var n=X(e);n.Or.has(t.targetId)||(n.Or.set(t.targetId,t),mS(n)?vS(n):jc(n).er()&&pS(n,t))}function cd(e,t){var n=X(e),r=jc(n);n.Or.delete(t),r.er()&&yU(n,t),n.Or.size===0&&(r.er()?r.ir():Xs(n)&&n.Br.set("Unknown"))}function pS(e,t){e.qr.U(t.targetId),jc(e).mr(t)}function yU(e,t){e.qr.U(t),jc(e).yr(t)}function vS(e){e.qr=new qQ({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.Or.get(t)||null}}),jc(e).start(),e.Br.Sr()}function mS(e){return Xs(e)&&!jc(e).tr()&&e.Or.size>0}function Xs(e){return X(e).$r.size===0}function _U(e){e.qr=void 0}function G9(e){return P(this,void 0,void 0,function(){return A(this,function(t){return e.Or.forEach(function(n,r){pS(e,n)}),[2]})})}function Q9(e,t){return P(this,void 0,void 0,function(){return A(this,function(n){return _U(e),mS(e)?(e.Br.Nr(t),vS(e)):e.Br.set("Unknown"),[2]})})}function Y9(e,t,n){return P(this,void 0,void 0,function(){var r,i,s;return A(this,function(a){switch(a.label){case 0:if(e.Br.set("Online"),!(t instanceof V4&&t.state===2&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(l,c){return P(this,void 0,void 0,function(){var h,d,v,m;return A(this,function(y){switch(y.label){case 0:h=c.cause,d=0,v=c.targetIds,y.label=1;case 1:return d<v.length?(m=v[d],l.Or.has(m)?[4,l.remoteSyncer.rejectListen(m,h)]:[3,3]):[3,5];case 2:y.sent(),l.Or.delete(m),l.qr.removeTarget(m),y.label=3;case 3:y.label=4;case 4:return d++,[3,1];case 5:return[2]}})})}(e,t)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),Q("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,lg(e,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof Jv?e.qr.X(t):t instanceof j4?e.qr.rt(t):e.qr.et(t),n.isEqual(Ce.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,fU(e.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(l,c){var h=l.qr.ut(c);return h.targetChanges.forEach(function(d,v){if(d.resumeToken.approximateByteSize()>0){var m=l.Or.get(v);m&&l.Or.set(v,m.withResumeToken(d.resumeToken,c))}}),h.targetMismatches.forEach(function(d){var v=l.Or.get(d);if(v){l.Or.set(d,v.withResumeToken(Xn.EMPTY_BYTE_STRING,v.snapshotVersion)),yU(l,d);var m=new by(v.target,d,1,v.sequenceNumber);pS(l,m)}}),l.remoteSyncer.applyRemoteEvent(h)}(e,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return Q("RemoteStore","Failed to raise snapshot:",s=a.sent()),[4,lg(e,s)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function lg(e,t,n){return P(this,void 0,void 0,function(){var r=this;return A(this,function(i){switch(i.label){case 0:if(!Su(t))throw t;return e.$r.add(1),[4,Fc(e)];case 1:return i.sent(),e.Br.set("Offline"),n||(n=function(){return fU(e.localStore)}),e.asyncQueue.enqueueRetryable(function(){return P(r,void 0,void 0,function(){return A(this,function(s){switch(s.label){case 0:return Q("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return s.sent(),e.$r.delete(1),[4,Gd(e)];case 2:return s.sent(),[2]}})})}),[2]}})})}function wU(e,t){return t().catch(function(n){return lg(e,n,t)})}function Uc(e){return P(this,void 0,void 0,function(){var t,n,r,i,s;return A(this,function(a){switch(a.label){case 0:t=X(e),n=$s(t),r=t.kr.length>0?t.kr[t.kr.length-1].batchId:-1,a.label=1;case 1:if(!function(l){return Xs(l)&&l.kr.length<10}(t))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,C9(t.localStore,r)];case 3:return(i=a.sent())===null?(t.kr.length===0&&n.ir(),[3,7]):(r=i.batchId,function(l,c){l.kr.push(c);var h=$s(l);h.er()&&h.pr&&h.Er(c.mutations)}(t,i),[3,6]);case 4:return s=a.sent(),[4,lg(t,s)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return EU(t)&&bU(t),[2]}})})}function EU(e){return Xs(e)&&!$s(e).tr()&&e.kr.length>0}function bU(e){$s(e).start()}function X9(e){return P(this,void 0,void 0,function(){return A(this,function(t){return $s(e).Ar(),[2]})})}function J9(e){return P(this,void 0,void 0,function(){var t,n,r,i;return A(this,function(s){for(t=$s(e),n=0,r=e.kr;n<r.length;n++)i=r[n],t.Er(i.mutations);return[2]})})}function Z9(e,t,n){return P(this,void 0,void 0,function(){var r,i;return A(this,function(s){switch(s.label){case 0:return r=e.kr.shift(),i=a9.from(r,t,n),[4,wU(e,function(){return e.remoteSyncer.applySuccessfulWrite(i)})];case 1:return s.sent(),[4,Uc(e)];case 2:return s.sent(),[2]}})})}function eY(e,t){return P(this,void 0,void 0,function(){return A(this,function(n){switch(n.label){case 0:return t&&$s(e).pr?[4,function(r,i){return P(this,void 0,void 0,function(){var s,a;return A(this,function(l){switch(l.label){case 0:return M4(a=i.code)&&a!==L.ABORTED?(s=r.kr.shift(),$s(r).sr(),[4,wU(r,function(){return r.remoteSyncer.rejectFailedWrite(s.batchId,i)})]):[3,3];case 1:return l.sent(),[4,Uc(r)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return EU(e)&&bU(e),[2]}})})}function Sb(e,t){return P(this,void 0,void 0,function(){var n;return A(this,function(r){switch(r.label){case 0:return n=X(e),t?(n.$r.delete(2),[4,Gd(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.$r.add(2),[4,Fc(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function jc(e){var t=this;return e.Ur||(e.Ur=function(n,r,i){var s=X(n);return s.br(),new z9(r,s.Hi,s.credentials,s.R,i)}(e.datastore,e.asyncQueue,{Ii:G9.bind(null,e),Ri:Q9.bind(null,e),_r:Y9.bind(null,e)}),e.Mr.push(function(n){return P(t,void 0,void 0,function(){return A(this,function(r){switch(r.label){case 0:return n?(e.Ur.sr(),mS(e)?vS(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:r.sent(),_U(e),r.label=3;case 3:return[2]}})})})),e.Ur}function $s(e){var t=this;return e.Qr||(e.Qr=function(n,r,i){var s=X(n);return s.br(),new q9(r,s.Hi,s.credentials,s.R,i)}(e.datastore,e.asyncQueue,{Ii:X9.bind(null,e),Ri:eY.bind(null,e),Ir:J9.bind(null,e),Tr:Z9.bind(null,e)}),e.Mr.push(function(n){return P(t,void 0,void 0,function(){return A(this,function(r){switch(r.label){case 0:return n?(e.Qr.sr(),[4,Uc(e)]):[3,2];case 1:return r.sent(),[3,4];case 2:return[4,e.Qr.stop()];case 3:r.sent(),e.kr.length>0&&(Q("RemoteStore","Stopping write stream with "+e.kr.length+" pending writes"),e.kr=[]),r.label=4;case 4:return[2]}})})})),e.Qr}var tY=function(){function e(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Jn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(a){})}return e.createAndSchedule=function(t,n,r,i,s){var a=new e(t,n,Date.now()+r,i,s);return a.start(r),a},e.prototype.start=function(t){var n=this;this.timerHandle=setTimeout(function(){return n.handleDelayElapsed()},t)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new z(L.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},e.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return t.timerHandle!==null?(t.clearTimeout(),t.op().then(function(n){return t.deferred.resolve(n)})):Promise.resolve()})},e.prototype.clearTimeout=function(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function Vc(e,t){if(Wt("AsyncQueue",t+": "+e),Su(e))return new z(L.UNAVAILABLE,t+": "+e);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var TU=function(){function e(t){this.comparator=t?function(n,r){return t(n,r)||le.comparator(n.key,r.key)}:function(n,r){return le.comparator(n.key,r.key)},this.keyedMap=Eb(),this.sortedSet=new Un(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(t){return this.keyedMap.get(t)!=null},e.prototype.get=function(t){return this.keyedMap.get(t)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(t){var n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.add=function(t){var n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))},e.prototype.delete=function(t){var n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0},e.prototype.toString=function(){var t=[];return this.forEach(function(n){t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),Qx=function(){function e(){this.Kr=new Un(le.comparator)}return e.prototype.track=function(t){var n=t.doc.key,r=this.Kr.get(n);r?t.type!==0&&r.type===3?this.Kr=this.Kr.insert(n,t):t.type===3&&r.type!==1?this.Kr=this.Kr.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Kr=this.Kr.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Kr=this.Kr.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Kr=this.Kr.remove(n):t.type===1&&r.type===2?this.Kr=this.Kr.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Kr=this.Kr.insert(n,{type:2,doc:t.doc}):se():this.Kr=this.Kr.insert(n,t)},e.prototype.jr=function(){var t=[];return this.Kr.inorderTraversal(function(n,r){t.push(r)}),t},e}(),cg=function(){function e(t,n,r,i,s,a,l,c){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=c}return e.fromInitialDocuments=function(t,n,r,i){var s=[];return n.forEach(function(a){s.push({type:0,doc:a})}),new e(t,n,TU.emptySet(n),s,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&$d(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0},e}(),nY=function(){this.Wr=void 0,this.listeners=[]},rY=function(){this.queries=new Mc(function(e){return C4(e)},$d),this.onlineState="Unknown",this.Gr=new Set};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gS(e,t){return P(this,void 0,void 0,function(){var n,r,i,s,a,l,c;return A(this,function(h){switch(h.label){case 0:if(n=X(e),r=t.query,i=!1,(s=n.queries.get(r))||(i=!0,s=new nY),!i)return[3,4];h.label=1;case 1:return h.trys.push([1,3,,4]),a=s,[4,n.onListen(r)];case 2:return a.Wr=h.sent(),[3,4];case 3:return l=h.sent(),c=Vc(l,"Initialization of query '"+_b(t.query)+"' failed"),[2,void t.onError(c)];case 4:return n.queries.set(r,s),s.listeners.push(t),t.zr(n.onlineState),s.Wr&&t.Hr(s.Wr)&&_S(n),[2]}})})}function yS(e,t){return P(this,void 0,void 0,function(){var n,r,i,s,a;return A(this,function(l){return n=X(e),r=t.query,i=!1,(s=n.queries.get(r))&&(a=s.listeners.indexOf(t))>=0&&(s.listeners.splice(a,1),i=s.listeners.length===0),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function iY(e,t){for(var n=X(e),r=!1,i=0,s=t;i<s.length;i++){var a=s[i],l=a.query,c=n.queries.get(l);if(c){for(var h=0,d=c.listeners;h<d.length;h++)d[h].Hr(a)&&(r=!0);c.Wr=a}}r&&_S(n)}function oY(e,t,n){var r=X(e),i=r.queries.get(t);if(i)for(var s=0,a=i.listeners;s<a.length;s++)a[s].onError(n);r.queries.delete(t)}function _S(e){e.Gr.forEach(function(t){t.next()})}var wS=function(){function e(t,n,r){this.query=t,this.Jr=n,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=r||{}}return e.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var n=[],r=0,i=t.docChanges;r<i.length;r++){var s=i[r];s.type!==3&&n.push(s)}t=new cg(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var a=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),a=!0):this.eo(t,this.onlineState)&&(this.no(t),a=!0),this.Xr=t,a},e.prototype.onError=function(t){this.Jr.error(t)},e.prototype.zr=function(t){this.onlineState=t;var n=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),n=!0),n},e.prototype.eo=function(t,n){if(!t.fromCache)return!0;var r=n!=="Offline";return!(this.options.so&&r||t.docs.isEmpty()&&n!=="Offline")},e.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var n=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0},e.prototype.no=function(t){t=cg.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},e}(),sY=function(){function e(t,n){this.payload=t,this.byteLength=n}return e.prototype.io=function(){return"metadata"in this.payload},e}(),Yx=function(){function e(t){this.R=t}return e.prototype.qn=function(t){return Xi(this.R,t)},e.prototype.Un=function(t){return t.metadata.exists?W4(this.R,t.document,!1):Sn.newNoDocument(this.qn(t.metadata.name),this.Qn(t.metadata.readTime))},e.prototype.Qn=function(t){return hn(t)},e}(),aY=function(){function e(t,n,r){this.ro=t,this.localStore=n,this.R=r,this.queries=[],this.documents=[],this.progress=IU(t)}return e.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var n=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++n):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++n),n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null},e.prototype.co=function(t){for(var n=new Map,r=new Yx(this.R),i=0,s=t;i<s.length;i++){var a=s[i];if(a.metadata.queries)for(var l=r.qn(a.metadata.name),c=0,h=a.metadata.queries;c<h.length;c++){var d=h[c],v=(n.get(d)||Ye()).add(l);n.set(d,v)}}return n},e.prototype.complete=function(){return P(this,void 0,void 0,function(){var t,n,r,i,s;return A(this,function(a){switch(a.label){case 0:return[4,N9(this.localStore,new Yx(this.R),this.documents,this.ro.id)];case 1:t=a.sent(),n=this.co(this.documents),r=0,i=this.queries,a.label=2;case 2:return r<i.length?(s=i[r],[4,R9(this.localStore,s,n.get(s.name))]):[3,5];case 3:a.sent(),a.label=4;case 4:return r++,[3,2];case 5:return[2,(this.progress.taskState="Success",new E9(Object.assign({},this.progress),t))]}})})},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IU(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var SU=function(e){this.key=e},CU=function(e){this.key=e},kU=function(){function e(t,n){this.query=t,this.uo=n,this.ao=null,this.current=!1,this.ho=Ye(),this.mutatedKeys=Ye(),this.lo=k4(t),this.fo=new TU(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(t,n){var r=this,i=n?n.mo:new Qx,s=n?n.fo:this.fo,a=n?n.mutatedKeys:this.mutatedKeys,l=s,c=!1,h=Yv(this.query)&&s.size===this.query.limit?s.last():null,d=ig(this.query)&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal(function(m,y){var _=s.get(m),E=zd(r.query,y)?y:null,S=!!_&&r.mutatedKeys.has(_.key),b=!!E&&(E.hasLocalMutations||r.mutatedKeys.has(E.key)&&E.hasCommittedMutations),I=!1;_&&E?_.data.isEqual(E.data)?S!==b&&(i.track({type:3,doc:E}),I=!0):r.yo(_,E)||(i.track({type:2,doc:E}),I=!0,(h&&r.lo(E,h)>0||d&&r.lo(E,d)<0)&&(c=!0)):!_&&E?(i.track({type:0,doc:E}),I=!0):_&&!E&&(i.track({type:1,doc:_}),I=!0,(h||d)&&(c=!0)),I&&(E?(l=l.add(E),a=b?a.add(m):a.delete(m)):(l=l.delete(m),a=a.delete(m)))}),Yv(this.query)||ig(this.query))for(;l.size>this.query.limit;){var v=Yv(this.query)?l.last():l.first();l=l.delete(v.key),a=a.delete(v.key),i.track({type:1,doc:v})}return{fo:l,mo:i,Nn:c,mutatedKeys:a}},e.prototype.yo=function(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations},e.prototype.applyChanges=function(t,n,r){var i=this,s=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var a=t.mo.jr();a.sort(function(d,v){return function(m,y){var _=function(E){switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return se()}};return _(m)-_(y)}(d.type,v.type)||i.lo(d.doc,v.doc)}),this.po(r);var l=n?this.Eo():[],c=this.ho.size===0&&this.current?1:0,h=c!==this.ao;return this.ao=c,a.length!==0||h?{snapshot:new cg(this.query,t.fo,s,a,t.mutatedKeys,c===0,h,!1),To:l}:{To:l}},e.prototype.zr=function(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Qx,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},e.prototype.po=function(t){var n=this;t&&(t.addedDocuments.forEach(function(r){return n.uo=n.uo.add(r)}),t.modifiedDocuments.forEach(function(r){}),t.removedDocuments.forEach(function(r){return n.uo=n.uo.delete(r)}),this.current=t.current)},e.prototype.Eo=function(){var t=this;if(!this.current)return[];var n=this.ho;this.ho=Ye(),this.fo.forEach(function(i){t.Io(i.key)&&(t.ho=t.ho.add(i.key))});var r=[];return n.forEach(function(i){t.ho.has(i)||r.push(new CU(i))}),this.ho.forEach(function(i){n.has(i)||r.push(new SU(i))}),r},e.prototype.Ao=function(t){this.uo=t.Bn,this.ho=Ye();var n=this._o(t.documents);return this.applyChanges(n,!0)},e.prototype.Ro=function(){return cg.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,this.ao===0)},e}(),uY=function(e,t,n){this.query=e,this.targetId=t,this.view=n},lY=function(e){this.key=e,this.bo=!1},cY=function(){function e(t,n,r,i,s,a){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.vo={},this.Po=new Mc(function(l){return C4(l)},$d),this.Vo=new Map,this.So=new Set,this.Do=new Un(le.comparator),this.Co=new Map,this.No=new hS,this.xo={},this.Fo=new Map,this.ko=ag.Yt(),this.onlineState="Unknown",this.Oo=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return this.Oo===!0},enumerable:!1,configurable:!0}),e}();function fY(e,t){return P(this,void 0,void 0,function(){var n,r,i,s,a,l;return A(this,function(c){switch(c.label){case 0:return n=SS(e),(s=n.Po.get(t))?(r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Ro(),[3,4]):[3,1];case 1:return[4,dc(n.localStore,ui(t))];case 2:return a=c.sent(),l=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,ES(n,t,r,l==="current")];case 3:i=c.sent(),n.isPrimaryClient&&Ty(n.remoteStore,a),c.label=4;case 4:return[2,i]}})})}function ES(e,t,n,r){return P(this,void 0,void 0,function(){var i,s,a,l,c,h;return A(this,function(d){switch(d.label){case 0:return e.$o=function(v,m,y){return function(_,E,S,b){return P(this,void 0,void 0,function(){var I,k,C;return A(this,function(x){switch(x.label){case 0:return I=E.view._o(S),I.Nn?[4,ug(_.localStore,E.query,!1).then(function(O){var V=O.documents;return E.view._o(V,I)})]:[3,2];case 1:I=x.sent(),x.label=2;case 2:return k=b&&b.targetChanges.get(E.targetId),C=E.view.applyChanges(I,_.isPrimaryClient,k),[2,(Cb(_,E.targetId,C.To),C.snapshot)]}})})}(e,v,m,y)},[4,ug(e.localStore,t,!0)];case 1:return i=d.sent(),s=new kU(t,i.Bn),a=s._o(i.documents),l=iS.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline"),c=s.applyChanges(a,e.isPrimaryClient,l),Cb(e,n,c.To),h=new uY(t,n,s),[2,(e.Po.set(t,h),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),c.snapshot)]}})})}function hY(e,t){return P(this,void 0,void 0,function(){var n,r,i;return A(this,function(s){switch(s.label){case 0:return n=X(e),r=n.Po.get(t),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(a){return!$d(a,t)})),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,pc(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),cd(n.remoteStore,r.targetId),vc(n,r.targetId)}).catch(Cu)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return vc(n,r.targetId),[4,pc(n.localStore,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function dY(e,t,n){return P(this,void 0,void 0,function(){var r,i,s,a;return A(this,function(l){switch(l.label){case 0:r=CS(e),l.label=1;case 1:return l.trys.push([1,5,,6]),[4,function(c,h){var d,v=X(c),m=gr.now(),y=h.reduce(function(_,E){return _.add(E.key)},Ye());return v.persistence.runTransaction("Locally write mutations","readwrite",function(_){return v.Mn.pn(_,y).next(function(E){d=E;for(var S=[],b=0,I=h;b<I.length;b++){var k=I[b],C=FQ(k,d.get(k.key));C!=null&&S.push(new Ys(k.key,C,b4(C.toProto().mapValue),xn.exists(!0)))}return v._n.addMutationBatch(_,m,S,h)})}).then(function(_){return _.applyToLocalDocumentSet(d),{batchId:_.batchId,changes:d}})}(r.localStore,t)];case 2:return i=l.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(c,h,d){var v=c.xo[c.currentUser.toKey()];v||(v=new Un(Pe)),v=v.insert(h,d),c.xo[c.currentUser.toKey()]=v}(r,i.batchId,n),[4,$o(r,i.changes)];case 3:return l.sent(),[4,Uc(r.remoteStore)];case 4:return l.sent(),[3,6];case 5:return s=l.sent(),a=Vc(s,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}function NU(e,t){return P(this,void 0,void 0,function(){var n,r;return A(this,function(i){switch(i.label){case 0:n=X(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,S9(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach(function(s,a){var l=n.Co.get(a);l&&(ve(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.bo=!0:s.modifiedDocuments.size>0?ve(l.bo):s.removedDocuments.size>0&&(ve(l.bo),l.bo=!1))}),[4,$o(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,Cu(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function Xx(e,t,n){var r=X(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){var i=[];r.Po.forEach(function(s,a){var l=a.view.zr(t);l.snapshot&&i.push(l.snapshot)}),function(s,a){var l=X(s);l.onlineState=a;var c=!1;l.queries.forEach(function(h,d){for(var v=0,m=d.listeners;v<m.length;v++)m[v].zr(a)&&(c=!0)}),c&&_S(l)}(r.eventManager,t),i.length&&r.vo._r(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function pY(e,t,n){return P(this,void 0,void 0,function(){var r,i,s,a,l,c;return A(this,function(h){switch(h.label){case 0:return(r=X(e)).sharedClientState.updateQueryState(t,"rejected",n),i=r.Co.get(t),(s=i&&i.key)?(a=(a=new Un(le.comparator)).insert(s,Sn.newNoDocument(s,Ce.min())),l=Ye().add(s),c=new rS(Ce.min(),new Map,new en(Pe),a,l),[4,NU(r,c)]):[3,2];case 1:return h.sent(),r.Do=r.Do.remove(s),r.Co.delete(t),IS(r),[3,4];case 2:return[4,pc(r.localStore,t,!1).then(function(){return vc(r,t,n)}).catch(Cu)];case 3:h.sent(),h.label=4;case 4:return[2]}})})}function vY(e,t){return P(this,void 0,void 0,function(){var n,r,i;return A(this,function(s){switch(s.label){case 0:n=X(e),r=t.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,I9(n.localStore,t)];case 2:return i=s.sent(),TS(n,r,null),bS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,$o(n,i)];case 3:return s.sent(),[3,6];case 4:return[4,Cu(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function mY(e,t,n){return P(this,void 0,void 0,function(){var r,i;return A(this,function(s){switch(s.label){case 0:r=X(e),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(a,l){var c=X(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",function(h){var d;return c._n.lookupMutationBatch(h,l).next(function(v){return ve(v!==null),d=v.keys(),c._n.removeMutationBatch(h,v)}).next(function(){return c._n.performConsistencyCheck(h)}).next(function(){return c.Mn.pn(h,d)})})}(r.localStore,t)];case 2:return i=s.sent(),TS(r,t,n),bS(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,$o(r,i)];case 3:return s.sent(),[3,6];case 4:return[4,Cu(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function gY(e,t){return P(this,void 0,void 0,function(){var n,r,i,s,a;return A(this,function(l){switch(l.label){case 0:Xs((n=X(e)).remoteStore)||Q("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,function(c){var h=X(c);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(d){return h._n.getHighestUnacknowledgedBatchId(d)})}(n.localStore)];case 2:return(r=l.sent())===-1?[2,void t.resolve()]:((i=n.Fo.get(r)||[]).push(t),n.Fo.set(r,i),[3,4]);case 3:return s=l.sent(),a=Vc(s,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}})})}function bS(e,t){(e.Fo.get(t)||[]).forEach(function(n){n.resolve()}),e.Fo.delete(t)}function TS(e,t,n){var r=X(e),i=r.xo[r.currentUser.toKey()];if(i){var s=i.get(t);s&&(n?s.reject(n):s.resolve(),i=i.remove(t)),r.xo[r.currentUser.toKey()]=i}}function vc(e,t,n){n===void 0&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var s=i[r];e.Po.delete(s),n&&e.vo.Mo(s,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach(function(a){e.No.containsKey(a)||RU(e,a)})}function RU(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);n!==null&&(cd(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),IS(e))}function Cb(e,t,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof SU?(e.No.addReference(s.key,t),yY(e,s)):s instanceof CU?(Q("SyncEngine","Document no longer in limbo: "+s.key),e.No.removeReference(s.key,t),e.No.containsKey(s.key)||RU(e,s.key)):se()}}function yY(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(Q("SyncEngine","New document in limbo: "+n),e.So.add(r),IS(e))}function IS(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new le($e.fromString(t)),r=e.ko.next();e.Co.set(r,new lY(n)),e.Do=e.Do.insert(n,r),Ty(e.remoteStore,new by(ui(Lc(n.path)),r,2,Rr.o))}}function $o(e,t,n){return P(this,void 0,void 0,function(){var r,i,s,a;return A(this,function(l){switch(l.label){case 0:return r=X(e),i=[],s=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(c,h){a.push(r.$o(h,t,n).then(function(d){if(d){r.isPrimaryClient&&r.sharedClientState.updateQueryState(h.targetId,d.fromCache?"not-current":"current"),i.push(d);var v=b9.Pn(h.targetId,d);s.push(v)}}))}),[4,Promise.all(a)]);case 1:return l.sent(),r.vo._r(i),[4,function(c,h){return P(this,void 0,void 0,function(){var d,v,m,y,_,E,S,b,I;return A(this,function(k){switch(k.label){case 0:d=X(c),k.label=1;case 1:return k.trys.push([1,3,,4]),[4,d.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(C){return H.forEach(h,function(x){return H.forEach(x.bn,function(O){return d.persistence.referenceDelegate.addReference(C,x.targetId,O)}).next(function(){return H.forEach(x.vn,function(O){return d.persistence.referenceDelegate.removeReference(C,x.targetId,O)})})})})];case 2:return k.sent(),[3,4];case 3:if(!Su(v=k.sent()))throw v;return Q("LocalStore","Failed to update sequence numbers: "+v),[3,4];case 4:for(m=0,y=h;m<y.length;m++)_=y[m],E=_.targetId,_.fromCache||(S=d.Fn.get(E),b=S.snapshotVersion,I=S.withLastLimboFreeSnapshotVersion(b),d.Fn=d.Fn.insert(E,I));return[2]}})})}(r.localStore,s)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function _Y(e,t){return P(this,void 0,void 0,function(){var n,r;return A(this,function(i){switch(i.label){case 0:return(n=X(e)).currentUser.isEqual(t)?[3,3]:(Q("SyncEngine","User change. New user:",t.toKey()),[4,cU(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,function(s,a){s.Fo.forEach(function(l){l.forEach(function(c){c.reject(new z(L.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.Fo.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,$o(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function wY(e,t){var n=X(e),r=n.Co.get(t);if(r&&r.bo)return Ye().add(r.key);var i=Ye(),s=n.Vo.get(t);if(!s)return i;for(var a=0,l=s;a<l.length;a++){var c=l[a],h=n.Po.get(c);i=i.unionWith(h.view.wo)}return i}function EY(e,t){return P(this,void 0,void 0,function(){var n,r,i;return A(this,function(s){switch(s.label){case 0:return[4,ug((n=X(e)).localStore,t.query,!0)];case 1:return r=s.sent(),i=t.view.Ao(r),[2,(n.isPrimaryClient&&Cb(n,t.targetId,i.To),i)]}})})}function bY(e){return P(this,void 0,void 0,function(){var t;return A(this,function(n){return[2,pU((t=X(e)).localStore).then(function(r){return $o(t,r)})]})})}function TY(e,t,n,r){return P(this,void 0,void 0,function(){var i,s;return A(this,function(a){switch(a.label){case 0:return[4,function(l,c){var h=X(l),d=X(h._n);return h.persistence.runTransaction("Lookup mutation documents","readonly",function(v){return d.jt(v,c).next(function(m){return m?h.Mn.pn(v,m):H.resolve(null)})})}((i=X(e)).localStore,t)];case 1:return(s=a.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,Uc(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(TS(i,t,r||null),bS(i,t),function(l,c){X(X(l)._n).Gt(c)}(i.localStore,t)):se(),a.label=4;case 4:return[4,$o(i,s)];case 5:return a.sent(),[3,7];case 6:Q("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}})})}function IY(e,t){return P(this,void 0,void 0,function(){var n,r,i,s,a,l,c,h;return A(this,function(d){switch(d.label){case 0:return SS(n=X(e)),CS(n),t!==!0||n.Oo===!0?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Jx(n,r.toArray())]);case 1:return i=d.sent(),n.Oo=!0,[4,Sb(n.remoteStore,!0)];case 2:for(d.sent(),s=0,a=i;s<a.length;s++)l=a[s],Ty(n.remoteStore,l);return[3,7];case 3:return t!==!1||n.Oo===!1?[3,7]:(c=[],h=Promise.resolve(),n.Vo.forEach(function(v,m){n.sharedClientState.isLocalQueryTarget(m)?c.push(m):h=h.then(function(){return vc(n,m),pc(n.localStore,m,!0)}),cd(n.remoteStore,m)}),[4,h]);case 4:return d.sent(),[4,Jx(n,c)];case 5:return d.sent(),function(v){var m=X(v);m.Co.forEach(function(y,_){cd(m.remoteStore,_)}),m.No.ts(),m.Co=new Map,m.Do=new Un(le.comparator)}(n),n.Oo=!1,[4,Sb(n.remoteStore,!1)];case 6:d.sent(),d.label=7;case 7:return[2]}})})}function Jx(e,t,n){return P(this,void 0,void 0,function(){var r,i,s,a,l,c,h,d,v,m,y,_,E,S;return A(this,function(b){switch(b.label){case 0:r=X(e),i=[],s=[],a=0,l=t,b.label=1;case 1:return a<l.length?(c=l[a],h=void 0,(d=r.Vo.get(c))&&d.length!==0?[4,dc(r.localStore,ui(d[0]))]:[3,7]):[3,13];case 2:h=b.sent(),v=0,m=d,b.label=3;case 3:return v<m.length?(y=m[v],_=r.Po.get(y),[4,EY(r,_)]):[3,6];case 4:(E=b.sent()).snapshot&&s.push(E.snapshot),b.label=5;case 5:return v++,[3,3];case 6:return[3,11];case 7:return[4,dU(r.localStore,c)];case 8:return S=b.sent(),[4,dc(r.localStore,S)];case 9:return h=b.sent(),[4,ES(r,AU(S),c,!1)];case 10:b.sent(),b.label=11;case 11:i.push(h),b.label=12;case 12:return a++,[3,1];case 13:return[2,(r.vo._r(s),i)]}})})}function AU(e){return I4(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function SY(e){var t=X(e);return X(X(t.localStore).persistence).fn()}function CY(e,t,n,r){return P(this,void 0,void 0,function(){var i,s,a;return A(this,function(l){switch(l.label){case 0:return(i=X(e)).Oo?(Q("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,pU(i.localStore)];case 3:return s=l.sent(),a=rS.createSynthesizedRemoteEventForCurrentChange(t,n==="current"),[4,$o(i,s,a)];case 4:return l.sent(),[3,8];case 5:return[4,pc(i.localStore,t,!0)];case 6:return l.sent(),vc(i,t,r),[3,8];case 7:se(),l.label=8;case 8:return[2]}})})}function kY(e,t,n){return P(this,void 0,void 0,function(){var r,i,s,a,l,c,h,d,v,m;return A(this,function(y){switch(y.label){case 0:if(!(r=SS(e)).Oo)return[3,10];i=0,s=t,y.label=1;case 1:return i<s.length?(a=s[i],r.Vo.has(a)?(Q("SyncEngine","Adding an already active target "+a),[3,5]):[4,dU(r.localStore,a)]):[3,6];case 2:return l=y.sent(),[4,dc(r.localStore,l)];case 3:return c=y.sent(),[4,ES(r,AU(l),c.targetId,!1)];case 4:y.sent(),Ty(r.remoteStore,c),y.label=5;case 5:return i++,[3,1];case 6:h=function(_){return A(this,function(E){switch(E.label){case 0:return r.Vo.has(_)?[4,pc(r.localStore,_,!1).then(function(){cd(r.remoteStore,_),vc(r,_)}).catch(Cu)]:[3,2];case 1:E.sent(),E.label=2;case 2:return[2]}})},d=0,v=n,y.label=7;case 7:return d<v.length?(m=v[d],[5,h(m)]):[3,10];case 8:y.sent(),y.label=9;case 9:return d++,[3,7];case 10:return[2]}})})}function SS(e){var t=X(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=NU.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=wY.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=pY.bind(null,t),t.vo._r=iY.bind(null,t.eventManager),t.vo.Mo=oY.bind(null,t.eventManager),t}function CS(e){var t=X(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=vY.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=mY.bind(null,t),t}function NY(e,t,n){var r=X(e);(function(i,s,a){return P(this,void 0,void 0,function(){var l,c,h,d,v,m;return A(this,function(y){switch(y.label){case 0:return y.trys.push([0,14,,15]),[4,s.getMetadata()];case 1:return l=y.sent(),[4,function(_,E){var S=X(_),b=hn(E.createTime);return S.persistence.runTransaction("hasNewerBundle","readonly",function(I){return S.Qe.getBundleMetadata(I,E.id)}).then(function(I){return!!I&&I.createTime.compareTo(b)>=0})}(i.localStore,l)];case 2:return y.sent()?[4,s.close()]:[3,4];case 3:return[2,(y.sent(),void a._completeWith(function(_){return{taskState:"Success",documentsLoaded:_.totalDocuments,bytesLoaded:_.totalBytes,totalDocuments:_.totalDocuments,totalBytes:_.totalBytes}}(l)))];case 4:return a._updateProgress(IU(l)),c=new aY(l,i.localStore,s.R),[4,s.Lo()];case 5:h=y.sent(),y.label=6;case 6:return h?[4,c.oo(h)]:[3,10];case 7:return(d=y.sent())&&a._updateProgress(d),[4,s.Lo()];case 8:h=y.sent(),y.label=9;case 9:return[3,6];case 10:return[4,c.complete()];case 11:return v=y.sent(),[4,$o(i,v.wn,void 0)];case 12:return y.sent(),[4,function(_,E){var S=X(_);return S.persistence.runTransaction("Save bundle","readwrite",function(b){return S.Qe.saveBundleMetadata(b,E)})}(i.localStore,l)];case 13:return y.sent(),a._completeWith(v.progress),[3,15];case 14:return Zm("SyncEngine","Loading bundle failed with "+(m=y.sent())),a._failWith(m),[3,15];case 15:return[2]}})})})(r,t,n).then(function(){r.sharedClientState.notifyBundleLoaded()})}var PU=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(t){return P(this,void 0,void 0,function(){return A(this,function(n){switch(n.label){case 0:return this.R=Kd(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return n.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Qo(t),[2]}})})},e.prototype.Uo=function(t){return null},e.prototype.Qo=function(t){return lU(this.persistence,new uU,t.initialUser,this.R)},e.prototype.qo=function(t){return new L9(F9.bs,this.R)},e.prototype.Bo=function(t){return new vU},e.prototype.terminate=function(){return P(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},e}(),xU=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).Ko=n,s.cacheSizeBytes=r,s.forceOwnership=i,s.synchronizeTabs=!1,s}return J(t,e),t.prototype.initialize=function(n){return P(this,void 0,void 0,function(){return A(this,function(r){switch(r.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return r.sent(),[4,k9(this.localStore)];case 2:return r.sent(),[4,this.Ko.initialize(this,n)];case 3:return r.sent(),[4,CS(this.Ko.syncEngine)];case 4:return r.sent(),[4,Uc(this.Ko.remoteStore)];case 5:return r.sent(),[2]}})})},t.prototype.Qo=function(n){return lU(this.persistence,new uU,n.initialUser,this.R)},t.prototype.Uo=function(n){var r=this.persistence.referenceDelegate.garbageCollector;return new p9(r,n.asyncQueue)},t.prototype.qo=function(n){var r=fS(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?Wi.withCacheSize(this.cacheSizeBytes):Wi.DEFAULT;return new w9(this.synchronizeTabs,r,n.clientId,i,n.asyncQueue,mU(),Zv(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(n){return new vU},t}(PU),RY=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r,!1)||this).Ko=n,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return J(t,e),t.prototype.initialize=function(n){return P(this,void 0,void 0,function(){var r,i=this;return A(this,function(s){switch(s.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return s.sent(),r=this.Ko.syncEngine,this.sharedClientState instanceof mE?(this.sharedClientState.syncEngine={ui:TY.bind(null,r),ai:CY.bind(null,r),hi:kY.bind(null,r),fn:SY.bind(null,r),ci:bY.bind(null,r)},[4,this.sharedClientState.start()]):[3,3];case 2:s.sent(),s.label=3;case 3:return[4,this.persistence.He(function(a){return P(i,void 0,void 0,function(){return A(this,function(l){switch(l.label){case 0:return[4,IY(this.Ko.syncEngine,a)];case 1:return l.sent(),this.gcScheduler&&(a&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):a||this.gcScheduler.stop()),[2]}})})})];case 4:return s.sent(),[2]}})})},t.prototype.Bo=function(n){var r=mU();if(!mE.yt(r))throw new z(L.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var i=fS(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new mE(r,n.asyncQueue,i,n.clientId,n.initialUser)},t}(xU),kb=function(){function e(){}return e.prototype.initialize=function(t,n){return P(this,void 0,void 0,function(){var r=this;return A(this,function(i){switch(i.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(s){return Xx(r.syncEngine,s,1)},this.remoteStore.remoteSyncer.handleCredentialChange=_Y.bind(null,this.syncEngine),[4,Sb(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.createEventManager=function(t){return new rY},e.prototype.createDatastore=function(t){var n,r=Kd(t.databaseInfo.databaseId),i=(n=t.databaseInfo,new $9(n));return function(s,a,l){return new W9(s,a,l)}(t.credentials,i,r)},e.prototype.createRemoteStore=function(t){var n,r,i,s,a,l=this;return n=this.localStore,r=this.datastore,i=t.asyncQueue,s=function(c){return Xx(l.syncEngine,c,0)},a=Gx.yt()?new Gx:new j9,new K9(n,r,i,s,a)},e.prototype.createSyncEngine=function(t,n){return function(r,i,s,a,l,c,h){var d=new cY(r,i,s,a,l,c);return h&&(d.Oo=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)},e.prototype.terminate=function(){return function(t){return P(this,void 0,void 0,function(){var n;return A(this,function(r){switch(r.label){case 0:return n=X(t),Q("RemoteStore","RemoteStore shutting down."),n.$r.add(5),[4,Fc(n)];case 1:return r.sent(),n.Lr.shutdown(),n.Br.set("Unknown"),[2]}})})}(this.remoteStore)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zx(e,t){t===void 0&&(t=10240);var n=0;return{read:function(){return P(this,void 0,void 0,function(){var r;return A(this,function(i){return n<e.byteLength?(r={value:e.slice(n,n+t),done:!1},[2,(n+=t,r)]):[2,{done:!0}]})})},cancel:function(){return P(this,void 0,void 0,function(){return A(this,function(r){return[2]})})},releaseLock:function(){},closed:Promise.reject("unimplemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Iy=function(){function e(t){this.observer=t,this.muted=!1}return e.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},e.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(t,n){var r=this;this.muted||setTimeout(function(){r.muted||t(n)},0)},e}(),AY=function(){function e(t,n){var r=this;this.Go=t,this.R=n,this.metadata=new Jn,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(i){i&&i.io()?r.metadata.resolve(i.payload.metadata):r.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             `+JSON.stringify(i==null?void 0:i.payload)))},function(i){return r.metadata.reject(i)})}return e.prototype.close=function(){return this.Go.cancel()},e.prototype.getMetadata=function(){return P(this,void 0,void 0,function(){return A(this,function(t){return[2,this.metadata.promise]})})},e.prototype.Lo=function(){return P(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},e.prototype.Ho=function(){return P(this,void 0,void 0,function(){var t,n,r,i;return A(this,function(s){switch(s.label){case 0:return[4,this.Jo()];case 1:return(t=s.sent())===null?[2,null]:(n=this.zo.decode(t),r=Number(n),isNaN(r)&&this.Yo("length string ("+n+") is not valid number"),[4,this.Xo(r)]);case 2:return i=s.sent(),[2,new sY(JSON.parse(i),t.length+r)]}})})},e.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},e.prototype.Jo=function(){return P(this,void 0,void 0,function(){var t,n;return A(this,function(r){switch(r.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(r.sent())return[3,3];r.label=2;case 2:return[3,0];case 3:return this.buffer.length===0?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),n)])}})})},e.prototype.Xo=function(t){return P(this,void 0,void 0,function(){var n;return A(this,function(r){switch(r.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:r.sent()&&this.Yo("Reached the end of bundle when more is expected."),r.label=2;case 2:return[3,0];case 3:return n=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),n)]}})})},e.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},e.prototype.tc=function(){return P(this,void 0,void 0,function(){var t,n;return A(this,function(r){switch(r.label){case 0:return[4,this.Go.read()];case 1:return(t=r.sent()).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),[2,t.done]}})})},e}(),PY=function(){function e(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(t){return P(this,void 0,void 0,function(){var n,r=this;return A(this,function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new z(L.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(s,a){return P(this,void 0,void 0,function(){var l,c,h,d,v,m;return A(this,function(y){switch(y.label){case 0:return l=X(s),c=ld(l.R)+"/documents",h={documents:a.map(function(_){return ud(l.R,_)})},[4,l.Oi("BatchGetDocuments",c,h)];case 1:return d=y.sent(),v=new Map,d.forEach(function(_){var E=function(S,b){return"found"in b?function(I,k){ve(!!k.found),k.found.name,k.found.updateTime;var C=Xi(I,k.found.name),x=hn(k.found.updateTime),O=new kr({mapValue:{fields:k.found.fields}});return Sn.newFoundDocument(C,x,O)}(S,b):"missing"in b?function(I,k){ve(!!k.missing),ve(!!k.readTime);var C=Xi(I,k.missing),x=hn(k.readTime);return Sn.newNoDocument(C,x)}(S,b):se()}(l.R,_);v.set(E.key.toString(),E)}),m=[],[2,(a.forEach(function(_){var E=v.get(_.toString());ve(!!E),m.push(E)}),m)]}})})}(this.datastore,t)];case 1:return[2,((n=i.sent()).forEach(function(s){return r.recordVersion(s)}),n)]}})})},e.prototype.set=function(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.update=function(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(t.toString())},e.prototype.delete=function(t){this.write(new Hd(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.commit=function(){return P(this,void 0,void 0,function(){var t,n=this;return A(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(i){t.delete(i.key.toString())}),t.forEach(function(i,s){var a=le.fromPath(s);n.mutations.push(new nS(a,n.precondition(a)))}),[4,function(i,s){return P(this,void 0,void 0,function(){var a,l,c;return A(this,function(h){switch(h.label){case 0:return a=X(i),l=ld(a.R)+"/documents",c={writes:s.map(function(d){return og(a.R,d)})},[4,a.Ni("Commit",l,c)];case 1:return h.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return r.sent(),this.committed=!0,[2]}})})},e.prototype.recordVersion=function(t){var n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw se();n=Ce.min()}var r=this.readVersions.get(t.key.toString());if(r){if(!n.isEqual(r))throw new z(L.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)},e.prototype.precondition=function(t){var n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?xn.updateTime(n):xn.none()},e.prototype.preconditionForUpdate=function(t){var n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(Ce.min()))throw new z(L.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return xn.updateTime(n)}return xn.exists(!0)},e.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},e.prototype.ensureCommitNotCalled=function(){},e}(),xY=function(){function e(t,n,r,i){this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.ec=5,this.Zi=new dS(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.nc()},e.prototype.nc=function(){var t=this;this.Zi.ji(function(){return P(t,void 0,void 0,function(){var n,r,i=this;return A(this,function(s){return n=new PY(this.datastore),(r=this.sc(n))&&r.then(function(a){i.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){i.deferred.resolve(a)}).catch(function(l){i.ic(l)})})}).catch(function(a){i.ic(a)}),[2]})})})},e.prototype.sc=function(t){try{var n=this.updateFunction(t);return!Iu(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}},e.prototype.ic=function(t){var n=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return n.nc(),Promise.resolve()})):this.deferred.reject(t)},e.prototype.rc=function(t){if(t.name==="FirebaseError"){var n=t.code;return n==="aborted"||n==="failed-precondition"||!M4(n)}return!1},e}(),OY=function(){function e(t,n,r){var i=this;this.credentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=ur.UNAUTHENTICATED,this.clientId=m4.u(),this.credentialListener=function(){},this.receivedInitialUser=new Jn,this.credentials.setChangeListener(function(s){Q("FirestoreClient","Received user=",s.uid),i.user=s,i.credentialListener(s),i.receivedInitialUser.resolve()})}return e.prototype.getConfiguration=function(){return P(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(t.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}})})},e.prototype.setCredentialChangeListener=function(t){var n=this;this.credentialListener=t,this.receivedInitialUser.promise.then(function(){return n.credentialListener(n.user)})},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new z(L.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var n=new Jn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return P(t,void 0,void 0,function(){var r,i;return A(this,function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:s.sent(),s.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:s.sent(),s.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return r=s.sent(),i=Vc(r,"Failed to shutdown persistence"),n.reject(i),[3,6];case 6:return[2]}})})}),n.promise},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OU(e,t){return P(this,void 0,void 0,function(){var n,r,i=this;return A(this,function(s){switch(s.label){case 0:return e.asyncQueue.verifyOperationInProgress(),Q("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=s.sent(),[4,t.initialize(n)];case 2:return s.sent(),r=n.initialUser,e.setCredentialChangeListener(function(a){r.isEqual(a)||(r=a,e.asyncQueue.enqueueRetryable(function(){return P(i,void 0,void 0,function(){return A(this,function(l){switch(l.label){case 0:return[4,cU(t.localStore,a)];case 1:return l.sent(),[2]}})})}))}),t.persistence.setDatabaseDeletedListener(function(){return e.terminate()}),e.offlineComponents=t,[2]}})})}function DU(e,t){return P(this,void 0,void 0,function(){var n,r;return A(this,function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,kS(e)];case 1:return n=i.sent(),Q("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.setCredentialChangeListener(function(s){return e.asyncQueue.enqueueRetryable(function(){return function(a,l){return P(this,void 0,void 0,function(){var c,h;return A(this,function(d){switch(d.label){case 0:return(c=X(a)).asyncQueue.verifyOperationInProgress(),Q("RemoteStore","RemoteStore received new credentials"),h=Xs(c),c.$r.add(3),[4,Fc(c)];case 1:return d.sent(),h&&c.Br.set("Unknown"),[4,c.remoteSyncer.handleCredentialChange(l)];case 2:return d.sent(),c.$r.delete(3),[4,Gd(c)];case 3:return d.sent(),[2]}})})}(t.remoteStore,s)})}),e.onlineComponents=t,[2]}})})}function kS(e){return P(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(Q("FirestoreClient","Using default OfflineComponentProvider"),[4,OU(e,new PU)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}})})}function Sy(e){return P(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(Q("FirestoreClient","Using default OnlineComponentProvider"),[4,DU(e,new kb)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}})})}function eO(e){return kS(e).then(function(t){return t.persistence})}function NS(e){return kS(e).then(function(t){return t.localStore})}function tO(e){return Sy(e).then(function(t){return t.remoteStore})}function RS(e){return Sy(e).then(function(t){return t.syncEngine})}function mc(e){return P(this,void 0,void 0,function(){var t,n;return A(this,function(r){switch(r.label){case 0:return[4,Sy(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=fY.bind(null,t.syncEngine),n.onUnlisten=hY.bind(null,t.syncEngine),n)]}})})}function nO(e,t,n){var r=this;n===void 0&&(n={});var i=new Jn;return e.asyncQueue.enqueueAndForget(function(){return P(r,void 0,void 0,function(){var s;return A(this,function(a){switch(a.label){case 0:return s=function(l,c,h,d,v){var m=new Iy({next:function(_){c.enqueueAndForget(function(){return yS(l,y)});var E=_.docs.has(h);!E&&_.fromCache?v.reject(new z(L.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&_.fromCache&&d&&d.source==="server"?v.reject(new z(L.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(_)},error:function(_){return v.reject(_)}}),y=new wS(Lc(h.path),m,{includeMetadataChanges:!0,so:!0});return gS(l,y)},[4,mc(e)];case 1:return[2,s.apply(void 0,[a.sent(),e.asyncQueue,t,n,i])]}})})}),i.promise}function rO(e,t,n){var r=this;n===void 0&&(n={});var i=new Jn;return e.asyncQueue.enqueueAndForget(function(){return P(r,void 0,void 0,function(){var s;return A(this,function(a){switch(a.label){case 0:return s=function(l,c,h,d,v){var m=new Iy({next:function(_){c.enqueueAndForget(function(){return yS(l,y)}),_.fromCache&&d.source==="server"?v.reject(new z(L.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(_)},error:function(_){return v.reject(_)}}),y=new wS(h,m,{includeMetadataChanges:!0,so:!0});return gS(l,y)},[4,mc(e)];case 1:return[2,s.apply(void 0,[a.sent(),e.asyncQueue,t,n,i])]}})})}),i.promise}var DY=function(e,t,n,r,i,s,a){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a},fg=function(){function e(t,n){this.projectId=t,this.database=n||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),iO=new Map,LU=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},oO=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t){this.changeListener=t,t(ur.UNAUTHENTICATED)},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),LY=function(){function e(t){this.token=t,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t){this.changeListener=t,t(this.token.user)},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),MY=function(){function e(t){var n=this;this.oc=null,this.currentUser=ur.UNAUTHENTICATED,this.receivedInitialUser=!1,this.cc=0,this.changeListener=null,this.forceRefresh=!1,this.oc=function(){n.cc++,n.currentUser=n.uc(),n.receivedInitialUser=!0,n.changeListener&&n.changeListener(n.currentUser)},this.cc=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.oc):(this.oc(null),t.get().then(function(r){n.auth=r,n.oc&&n.auth.addAuthTokenListener(n.oc)},function(){}))}return e.prototype.getToken=function(){var t=this,n=this.cc,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(function(i){return t.cc!==n?(Q("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):i?(ve(typeof i.accessToken=="string"),new LU(i.accessToken,t.currentUser)):null}):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(t){this.changeListener=t,this.receivedInitialUser&&t(this.currentUser)},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.oc),this.oc=null,this.changeListener=null},e.prototype.uc=function(){var t=this.auth&&this.auth.getUid();return ve(t===null||typeof t=="string"),new ur(t)},e}(),FY=function(){function e(t,n,r){this.ac=t,this.hc=n,this.lc=r,this.type="FirstParty",this.user=ur.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.hc},n=this.ac.auth.getAuthHeaderValueForFirstParty([]);return n&&(t.Authorization=n),this.lc&&(t["X-Goog-Iam-Authorization-Token"]=this.lc),t},enumerable:!1,configurable:!0}),e}(),UY=function(){function e(t,n,r){this.ac=t,this.hc=n,this.lc=r}return e.prototype.getToken=function(){return Promise.resolve(new FY(this.ac,this.hc,this.lc))},e.prototype.setChangeListener=function(t){t(ur.FIRST_PARTY)},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AS(e,t,n){if(!n)throw new z(L.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function PS(e,t){if(t===void 0)return{merge:!1};if(t.mergeFields!==void 0&&t.merge!==void 0)throw new z(L.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function MU(e,t,n,r){if(t===!0&&r===!0)throw new z(L.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function sO(e){if(!le.isDocumentKey(e))throw new z(L.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function aO(e){if(le.isDocumentKey(e))throw new z(L.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function Cy(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";var t=function(n){if(n.constructor){var r=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(r&&r.length>1)return r[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return typeof e=="function"?"a function":se()}function Ve(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new z(L.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Cy(e);throw new z(L.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function uO(e,t){if(t<=0)throw new z(L.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lO=function(){function e(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new z(L.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new z(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,MU("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},e}(),fd=function(){function e(t,n){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lO({}),this._settingsFrozen=!1,t instanceof fg?(this._databaseId=t,this._credentials=new oO):(this._app=t,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new z(L.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fg(r.options.projectId)}(t),this._credentials=new MY(n))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new z(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return this._terminateTask!==void 0},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(t){if(this._settingsFrozen)throw new z(L.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lO(t),t.credentials!==void 0&&(this._credentials=function(n){if(!n)return new oO;switch(n.type){case"gapi":var r=n.client;return ve(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new UY(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new z(L.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return t=this,(n=iO.get(t))&&(Q("ComponentProvider","Removing Datastore"),iO.delete(t),n.terminate()),Promise.resolve();var t,n},e}(),Tt=function(){function e(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new As(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),yr=function(){function e(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),As=function(e){function t(n,r,i){var s=this;return(s=e.call(this,n,r,Lc(i))||this)._path=i,s.type="collection",s}return J(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._path.popLast();return n.isEmpty()?null:new Tt(this.firestore,null,new le(n))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(n){return new t(this.firestore,n,this._path)},t}(yr);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FU(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=Te(e),AS("collection","path",t),e instanceof fd)return aO(n=$e.fromString.apply($e,Ne([t],r))),new As(e,null,n);if(!(e instanceof Tt||e instanceof As))throw new z(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return aO(n=$e.fromString.apply($e,Ne([e.path],r)).child($e.fromString(t))),new As(e.firestore,null,n)}function em(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=Te(e),arguments.length===1&&(t=m4.u()),AS("doc","path",t),e instanceof fd)return sO(n=$e.fromString.apply($e,Ne([t],r))),new Tt(e,null,new le(n));if(!(e instanceof Tt||e instanceof As))throw new z(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return sO(n=e._path.child($e.fromString.apply($e,Ne([t],r)))),new Tt(e.firestore,e instanceof As?e.converter:null,new le(n))}function UU(e,t){return e=Te(e),t=Te(t),(e instanceof Tt||e instanceof As)&&(t instanceof Tt||t instanceof As)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function jU(e,t){return e=Te(e),t=Te(t),e instanceof yr&&t instanceof yr&&e.firestore===t.firestore&&$d(e._query,t._query)&&e.converter===t.converter}var jY=function(){function e(){var t=this;this.fc=Promise.resolve(),this.dc=[],this.wc=!1,this._c=[],this.mc=null,this.yc=!1,this.gc=[],this.Zi=new dS(this,"async_queue_retry"),this.Ec=function(){var r=Zv();r&&Q("AsyncQueue","Visibility state changed to "+r.visibilityState),t.Zi.Gi()};var n=Zv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Ec)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this.wc},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(t){this.enqueue(t)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Tc(),this.Ic(t)},e.prototype.enterRestrictedMode=function(){if(!this.wc){this.wc=!0;var t=Zv();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Ec)}},e.prototype.enqueue=function(t){return this.Tc(),this.wc?new Promise(function(n){}):this.Ic(t)},e.prototype.enqueueRetryable=function(t){var n=this;this.enqueueAndForget(function(){return n.dc.push(t),n.Ac()})},e.prototype.Ac=function(){return P(this,void 0,void 0,function(){var t,n=this;return A(this,function(r){switch(r.label){case 0:if(this.dc.length===0)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.dc[0]()];case 2:return r.sent(),this.dc.shift(),this.Zi.reset(),[3,4];case 3:if(!Su(t=r.sent()))throw t;return Q("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.dc.length>0&&this.Zi.ji(function(){return n.Ac()}),r.label=5;case 5:return[2]}})})},e.prototype.Ic=function(t){var n=this,r=this.fc.then(function(){return n.yc=!0,t().catch(function(i){throw n.mc=i,n.yc=!1,Wt("INTERNAL UNHANDLED ERROR: ",function(s){var a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(i)),i}).then(function(i){return n.yc=!1,i})});return this.fc=r,r},e.prototype.enqueueAfterDelay=function(t,n,r){var i=this;this.Tc(),this.gc.indexOf(t)>-1&&(n=0);var s=tY.createAndSchedule(this,t,n,r,function(a){return i.Rc(a)});return this._c.push(s),s},e.prototype.Tc=function(){this.mc&&se()},e.prototype.verifyOperationInProgress=function(){},e.prototype.bc=function(){return P(this,void 0,void 0,function(){var t;return A(this,function(n){switch(n.label){case 0:return[4,t=this.fc];case 1:n.sent(),n.label=2;case 2:if(t!==this.fc)return[3,0];n.label=3;case 3:return[2]}})})},e.prototype.vc=function(t){for(var n=0,r=this._c;n<r.length;n++)if(r[n].timerId===t)return!0;return!1},e.prototype.Pc=function(t){var n=this;return this.bc().then(function(){n._c.sort(function(a,l){return a.targetTimeMs-l.targetTimeMs});for(var r=0,i=n._c;r<i.length;r++){var s=i[r];if(s.skipDelay(),t!=="all"&&s.timerId===t)break}return n.bc()})},e.prototype.Vc=function(t){this.gc.push(t)},e.prototype.Rc=function(t){var n=this._c.indexOf(t);this._c.splice(n,1)},e}();function gc(e){return function(t,n){if(typeof t!="object"||t===null)return!1;for(var r=t,i=0,s=["next","error","complete"];i<s.length;i++){var a=s[i];if(a in r&&typeof r[a]=="function")return!0}return!1}(e)}var VY=function(){function e(){this._progressObserver={},this._taskCompletionResolver=new Jn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return e.prototype.onProgress=function(t,n,r){this._progressObserver={next:t,error:n,complete:r}},e.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},e.prototype.then=function(t,n){return this._taskCompletionResolver.promise.then(t,n)},e.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},e.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},e.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)},e}(),BY=-1,Ft=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this).type="firestore",i._queue=new jY,i._persistenceKey="name"in n?n.name:"[DEFAULT]",i}return J(t,e),t.prototype._terminate=function(){return this._firestoreClient||VU(this),this._firestoreClient.terminate()},t}(fd);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(e){return e._firestoreClient||VU(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function VU(e){var t,n=e._freezeSettings(),r=function(i,s,a,l){return new DY(i,s,a,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new OY(e._credentials,e._queue,r)}function cO(e,t,n){var r=this,i=new Jn;return e.asyncQueue.enqueue(function(){return P(r,void 0,void 0,function(){var s;return A(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),[4,OU(e,n)];case 1:return a.sent(),[4,DU(e,t)];case 2:return a.sent(),i.resolve(),[3,4];case 3:if(!function(l){return l.name==="FirebaseError"?l.code===L.FAILED_PRECONDITION||l.code===L.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(s=a.sent()))throw s;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),i.reject(s),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function fO(e){if(e._initialized||e._terminated)throw new z(L.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ji=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=0;r<t.length;++r)if(t[r].length===0)throw new z(L.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ai(t)}return e.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},e}(),hu=function(){function e(t){this._byteString=t}return e.fromBase64String=function(t){try{return new e(Xn.fromBase64String(t))}catch(n){throw new z(L.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},e.fromUint8Array=function(t){return new e(Xn.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},e}(),ku=function(e){this._methodName=e},ky=function(){function e(t,n){if(!isFinite(t)||t<-90||t>90)throw new z(L.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new z(L.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(t){return Pe(this._lat,t._lat)||Pe(this._long,t._long)},e}(),$Y=/^__.*__$/,zY=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return this.fieldMask!==null?new Ys(t,this.data,this.fieldMask,n,this.fieldTransforms):new Wd(t,this.data,n,this.fieldTransforms)},e}(),BU=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return new Ys(t,this.data,this.fieldMask,n,this.fieldTransforms)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $U(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw se()}}var zU=function(){function e(t,n,r,i,s,a){this.settings=t,this.databaseId=n,this.R=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Sc(),this.fieldTransforms=s||[],this.fieldMask=a||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dc",{get:function(){return this.settings.Dc},enumerable:!1,configurable:!0}),e.prototype.Cc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.Nc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Cc({path:r,xc:!1});return i.Fc(t),i},e.prototype.kc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.Cc({path:r,xc:!1});return i.Sc(),i},e.prototype.Oc=function(t){return this.Cc({path:void 0,xc:!0})},e.prototype.$c=function(t){return hg(t,this.settings.methodName,this.settings.Mc||!1,this.path,this.settings.Lc)},e.prototype.contains=function(t){return this.fieldMask.find(function(n){return t.isPrefixOf(n)})!==void 0||this.fieldTransforms.find(function(n){return t.isPrefixOf(n.field)})!==void 0},e.prototype.Sc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Fc(this.path.get(t))},e.prototype.Fc=function(t){if(t.length===0)throw this.$c("Document fields must not be empty");if($U(this.Dc)&&$Y.test(t))throw this.$c('Document fields cannot begin and end with "__"')},e}(),qY=function(){function e(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.R=r||Kd(t)}return e.prototype.Bc=function(t,n,r,i){return i===void 0&&(i=!1),new zU({Dc:t,methodName:n,Lc:r,path:ai.emptyPath(),xc:!1,Mc:i},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function Nu(e){var t=e._freezeSettings(),n=Kd(e._databaseId);return new qY(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Ny(e,t,n,r,i,s){s===void 0&&(s={});var a=e.Bc(s.merge||s.mergeFields?2:0,t,n,i);LS("Data must be an object, but it was:",a,r);var l,c,h=HU(r,a);if(s.merge)l=new nc(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){for(var d=[],v=0,m=s.mergeFields;v<m.length;v++){var y=Nb(t,m[v],n);if(!a.contains(y))throw new z(L.INVALID_ARGUMENT,"Field '"+y+"' is specified in your field mask but missing from your input data.");GU(d,y)||d.push(y)}l=new nc(d),c=a.fieldTransforms.filter(function(_){return l.covers(_.field)})}else l=null,c=a.fieldTransforms;return new zY(new kr(h),l,c)}var xS=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return J(t,e),t.prototype._toFieldTransform=function(n){if(n.Dc!==2)throw n.Dc===1?n.$c(this._methodName+"() can only appear at the top level of your update data"):n.$c(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.fieldMask.push(n.path),null},t.prototype.isEqual=function(n){return n instanceof t},t}(ku);function qU(e,t,n){return new zU({Dc:3,Lc:t.settings.Lc,methodName:e._methodName,xc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var WY=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return J(t,e),t.prototype._toFieldTransform=function(n){return new qd(n.path,new sc)},t.prototype.isEqual=function(n){return n instanceof t},t}(ku),HY=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).qc=r,i}return J(t,e),t.prototype._toFieldTransform=function(n){var r=qU(this,n,!0),i=this.qc.map(function(a){return Ru(a,r)}),s=new cu(i);return new qd(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(ku),KY=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).qc=r,i}return J(t,e),t.prototype._toFieldTransform=function(n){var r=qU(this,n,!0),i=this.qc.map(function(a){return Ru(a,r)}),s=new fu(i);return new qd(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(ku),GY=function(e){function t(n,r){var i=this;return(i=e.call(this,n)||this).Uc=r,i}return J(t,e),t.prototype._toFieldTransform=function(n){var r=new ac(n.R,A4(n.R,this.Uc));return new qd(n.path,r)},t.prototype.isEqual=function(n){return this===n},t}(ku);function OS(e,t,n,r){var i=e.Bc(1,t,n);LS("Data must be an object, but it was:",i,r);var s=[],a=kr.empty();Vd(r,function(c,h){var d=MS(t,c,n);h=Te(h);var v=i.kc(d);if(h instanceof xS)s.push(d);else{var m=Ru(h,v);m!=null&&(s.push(d),a.set(d,m))}});var l=new nc(s);return new BU(a,l,i.fieldTransforms)}function DS(e,t,n,r,i,s){var a=e.Bc(1,t,n),l=[Nb(t,r,n)],c=[i];if(s.length%2!=0)throw new z(L.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var h=0;h<s.length;h+=2)l.push(Nb(t,s[h])),c.push(s[h+1]);for(var d=[],v=kr.empty(),m=l.length-1;m>=0;--m)if(!GU(d,l[m])){var y=l[m],_=c[m];_=Te(_);var E=a.kc(y);if(_ instanceof xS)d.push(y);else{var S=Ru(_,E);S!=null&&(d.push(y),v.set(y,S))}}var b=new nc(d);return new BU(v,b,a.fieldTransforms)}function WU(e,t,n,r){return r===void 0&&(r=!1),Ru(n,e.Bc(r?4:3,t))}function Ru(e,t){if(KU(e=Te(e)))return LS("Unsupported field value:",t,e),HU(e,t);if(e instanceof ku)return function(n,r){if(!$U(r.Dc))throw r.$c(n._methodName+"() can only be used with update() and set()");if(!r.path)throw r.$c(n._methodName+"() is not currently supported inside arrays");var i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xc&&t.Dc!==4)throw t.$c("Nested arrays are not supported");return function(n,r){for(var i=[],s=0,a=0,l=n;a<l.length;a++){var c=Ru(l[a],r.Oc(s));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),s++}return{arrayValue:{values:i}}}(e,t)}return function(n,r){if((n=Te(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return A4(r.R,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var i=gr.fromDate(n);return{timestampValue:ad(r.R,i)}}if(n instanceof gr)return i=new gr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:ad(r.R,i)};if(n instanceof ky)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof hu)return{bytesValue:B4(r.R,n._byteString)};if(n instanceof Tt){i=r.databaseId;var s=n.firestore._databaseId;if(!s.isEqual(i))throw r.$c("Document reference is for database "+s.projectId+"/"+s.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:oS(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.$c("Unsupported field value: "+Cy(n))}(e,t)}function HU(e,t){var n={};return y4(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Vd(e,function(r,i){var s=Ru(i,t.Nc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function KU(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof gr||e instanceof ky||e instanceof hu||e instanceof Tt||e instanceof ku)}function LS(e,t,n){if(!KU(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){var r=Cy(n);throw r==="an object"?t.$c(e+" a custom object"):t.$c(e+" "+r)}}function Nb(e,t,n){if((t=Te(t))instanceof Ji)return t._internalPath;if(typeof t=="string")return MS(e,t);throw hg("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var QY=new RegExp("[~\\*/\\[\\]]");function MS(e,t,n){if(t.search(QY)>=0)throw hg("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return new(Ji.bind.apply(Ji,Ne([void 0],t.split("."))))()._internalPath}catch{throw hg("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function hg(e,t,n,r,i){var s=r&&!r.isEmpty(),a=i!==void 0,l="Function "+t+"() called with invalid data";n&&(l+=" (via `toFirestore()`)");var c="";return(s||a)&&(c+=" (found",s&&(c+=" in field "+r),a&&(c+=" in document "+i),c+=")"),new z(L.INVALID_ARGUMENT,(l+=". ")+e+c)}function GU(e,t){return e.some(function(n){return n.isEqual(t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hd=function(){function e(t,n,r,i,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Tt(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return this._document!==null},e.prototype.data=function(){if(this._document){if(this._converter){var t=new YY(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.toProto())}},e.prototype.get=function(t){if(this._document){var n=this._document.data.field(dg("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}},e}(),YY=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return J(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(hd);function dg(e,t){return typeof t=="string"?MS(e,t):t instanceof Ji?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Va=function(){function e(t,n){this.hasPendingWrites=t,this.fromCache=n}return e.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},e}(),Ao=function(e){function t(n,r,i,s,a,l){var c=this;return(c=e.call(this,n,r,i,s,l)||this)._firestore=n,c._firestoreImpl=n,c.metadata=a,c}return J(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(n){if(n===void 0&&(n={}),this._document){if(this._converter){var r=new wh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,n)}return this._userDataWriter.convertValue(this._document.data.toProto(),n.serverTimestamps)}},t.prototype.get=function(n,r){if(r===void 0&&(r={}),this._document){var i=this._document.data.field(dg("DocumentSnapshot.get",n));if(i!==null)return this._userDataWriter.convertValue(i,r.serverTimestamps)}},t}(hd),wh=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return J(t,e),t.prototype.data=function(n){return n===void 0&&(n={}),e.prototype.data.call(this,n)},t}(Ao),hs=function(){function e(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Va(i.hasPendingWrites,i.fromCache),this.query=r}return Object.defineProperty(e.prototype,"docs",{get:function(){var t=[];return this.forEach(function(n){return t.push(n)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t,n){var r=this;this._snapshot.docs.forEach(function(i){t.call(n,new wh(r._firestore,r._userDataWriter,i.key,i,new Va(r._snapshot.mutatedKeys.has(i.key),r._snapshot.fromCache),r.query.converter))})},e.prototype.docChanges=function(t){t===void 0&&(t={});var n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new z(L.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){var s=0;return r._snapshot.docChanges.map(function(l){var c=new wh(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Va(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}var a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(function(l){return i||l.type!==3}).map(function(l){var c=new wh(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Va(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),h=-1,d=-1;return l.type!==0&&(h=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(d=(a=a.add(l.doc)).indexOf(l.doc.key)),{type:XY(l.type),doc:c,oldIndex:h,newIndex:d}})}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},e}();function XY(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return se()}}function QU(e,t){return e instanceof Ao&&t instanceof Ao?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(e._document===null?t._document===null:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof hs&&t instanceof hs&&e._firestore===t._firestore&&jU(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YU(e){if(ig(e)&&e.explicitOrderBy.length===0)throw new z(L.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Qd=function(){};function ns(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var s=i[r];e=s._apply(e)}return e}var JY=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).Qc=n,s.Kc=r,s.jc=i,s.type="where",s}return J(t,e),t.prototype._apply=function(n){var r=Nu(n.firestore),i=function(s,a,l,c,h,d,v){var m;if(h.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new z(L.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+d+"' queries on FieldPath.documentId().");if(d==="in"||d==="not-in"){mO(v,d);for(var y=[],_=0,E=v;_<E.length;_++){var S=E[_];y.push(vO(c,s,S))}m={arrayValue:{values:y}}}else m=vO(c,s,v)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||mO(v,d),m=WU(l,"where",v,d==="in"||d==="not-in");var b=Ar.create(h,d,m);return function(I,k){if(k.g()){var C=eS(I);if(C!==null&&!C.isEqual(k.field))throw new z(L.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+C.toString()+"' and '"+k.field.toString()+"'");var x=ZI(I);x!==null&&JU(I,k.field,x)}var O=function(V,M){for(var te=0,R=V.filters;te<R.length;te++){var ze=R[te];if(M.indexOf(ze.op)>=0)return ze.op}return null}(I,function(V){switch(V){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(k.op));if(O!==null)throw O===k.op?new z(L.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+k.op.toString()+"' filter."):new z(L.INVALID_ARGUMENT,"Invalid query. You cannot use '"+k.op.toString()+"' filters with '"+O.toString()+"' filters.")}(s,b),b}(n._query,0,r,n.firestore._databaseId,this.Qc,this.Kc,this.jc);return new yr(n.firestore,n.converter,function(s,a){var l=s.filters.concat([a]);return new Bo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),l,s.limit,s.limitType,s.startAt,s.endAt)}(n._query,i))},t}(Qd),ZY=function(e){function t(n,r){var i=this;return(i=e.call(this)||this).Qc=n,i.Wc=r,i.type="orderBy",i}return J(t,e),t.prototype._apply=function(n){var r=function(i,s,a){if(i.startAt!==null)throw new z(L.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new z(L.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var l=new Fl(s,a);return function(c,h){if(ZI(c)===null){var d=eS(c);d!==null&&JU(c,d,h.field)}}(i,l),l}(n._query,this.Qc,this.Wc);return new yr(n.firestore,n.converter,function(i,s){var a=i.explicitOrderBy.concat([s]);return new Bo(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(n._query,r))},t}(Qd),hO=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).type=n,s.Gc=r,s.zc=i,s}return J(t,e),t.prototype._apply=function(n){return new yr(n.firestore,n.converter,S4(n._query,this.Gc,this.zc))},t}(Qd),dO=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).type=n,s.Hc=r,s.Jc=i,s}return J(t,e),t.prototype._apply=function(n){var r=XU(n,this.type,this.Hc,this.Jc);return new yr(n.firestore,n.converter,function(i,s){return new Bo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(n._query,r))},t}(Qd),pO=function(e){function t(n,r,i){var s=this;return(s=e.call(this)||this).type=n,s.Hc=r,s.Jc=i,s}return J(t,e),t.prototype._apply=function(n){var r=XU(n,this.type,this.Hc,this.Jc);return new yr(n.firestore,n.converter,function(i,s){return new Bo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)}(n._query,r))},t}(Qd);function XU(e,t,n,r){if(n[0]=Te(n[0]),n[0]instanceof hd)return function(s,a,l,c,h){if(!c)throw new z(L.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+l+"().");for(var d=[],v=0,m=oc(s);v<m.length;v++){var y=m[v];if(y.field.isKeyField())d.push(tg(a,c.key));else{var _=c.data.field(y.field);if(YI(_))throw new z(L.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+y.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(_===null){var E=y.field.canonicalString();throw new z(L.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+E+"' (used as the orderBy) does not exist.")}d.push(_)}}return new sd(d,h)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=Nu(e.firestore);return function(s,a,l,c,h,d){var v=s.explicitOrderBy;if(h.length>v.length)throw new z(L.INVALID_ARGUMENT,"Too many arguments provided to "+c+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var m=[],y=0;y<h.length;y++){var _=h[y];if(v[y].field.isKeyField()){if(typeof _!="string")throw new z(L.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+c+"(), but got a "+typeof _);if(!tS(s)&&_.indexOf("/")!==-1)throw new z(L.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+c+"() must be a plain document ID, but '"+_+"' contains a slash.");var E=s.path.child($e.fromString(_));if(!le.isDocumentKey(E))throw new z(L.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+c+"() must result in a valid document path, but '"+E+"' is not because it contains an odd number of segments.");var S=new le(E);m.push(tg(a,S))}else{var b=WU(l,c,_);m.push(b)}}return new sd(m,d)}(e._query,e.firestore._databaseId,i,t,n,r)}function vO(e,t,n){if(typeof(n=Te(n))=="string"){if(n==="")throw new z(L.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!tS(t)&&n.indexOf("/")!==-1)throw new z(L.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child($e.fromString(n));if(!le.isDocumentKey(r))throw new z(L.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return tg(e,new le(r))}if(n instanceof Tt)return tg(e,n._key);throw new z(L.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Cy(n)+".")}function mO(e,t){if(!Array.isArray(e)||e.length===0)throw new z(L.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new z(L.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function JU(e,t,n){if(!n.isEqual(t))throw new z(L.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var FS=function(){function e(){}return e.prototype.convertValue=function(t,n){switch(n===void 0&&(n="none"),Bs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return zt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(rc(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw se()}},e.prototype.convertObject=function(t,n){var r=this,i={};return Vd(t.fields||{},function(s,a){i[s]=r.convertValue(a,n)}),i},e.prototype.convertGeoPoint=function(t){return new ky(zt(t.latitude),zt(t.longitude))},e.prototype.convertArray=function(t,n){var r=this;return(t.values||[]).map(function(i){return r.convertValue(i,n)})},e.prototype.convertServerTimestamp=function(t,n){switch(n){case"previous":var r=w4(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(id(t));default:return null}},e.prototype.convertTimestamp=function(t){var n=Vs(t);return new gr(n.seconds,n.nanos)},e.prototype.convertDocumentKey=function(t,n){var r=$e.fromString(t);ve(Y4(r));var i=new fg(r.get(1),r.get(3)),s=new le(r.popFirst(5));return i.isEqual(n)||Wt("Document "+s+" contains a document reference within a different database ("+i.projectId+"/"+i.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),s},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ry(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var eX=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return J(t,e),t.prototype.convertBytes=function(n){return new hu(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new Tt(this.firestore,null,r)},t}(FS),tX=function(){function e(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Nu(t)}return e.prototype.set=function(t,n,r){this._verifyNotCommitted();var i=ds(t,this._firestore),s=Ry(i.converter,n,r),a=Ny(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(a.toMutation(i._key,xn.none())),this},e.prototype.update=function(t,n,r){for(var i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];this._verifyNotCommitted();var a,l=ds(t,this._firestore);return a=typeof(n=Te(n))=="string"||n instanceof Ji?DS(this._dataReader,"WriteBatch.update",l._key,n,r,i):OS(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(a.toMutation(l._key,xn.exists(!0))),this},e.prototype.delete=function(t){this._verifyNotCommitted();var n=ds(t,this._firestore);return this._mutations=this._mutations.concat(new Hd(n._key,xn.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new z(L.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ds(e,t){if((e=Te(e)).firestore!==t)throw new z(L.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ga=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return J(t,e),t.prototype.convertBytes=function(n){return new hu(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new Tt(this.firestore,null,r)},t}(FS);function gO(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=Ve(e,Tt);var s=Ve(e.firestore,Ft),a=Nu(s);return dd(s,[(typeof(t=Te(t))=="string"||t instanceof Ji?DS(a,"updateDoc",e._key,t,n,r):OS(a,"updateDoc",e._key,t)).toMutation(e._key,xn.exists(!0))])}function ZU(e){for(var t,n,r,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];e=Te(e);var a={includeMetadataChanges:!1},l=0;typeof i[l]!="object"||gc(i[l])||(a=i[l],l++);var c,h,d,v={includeMetadataChanges:a.includeMetadataChanges};if(gc(i[l])){var m=i[l];i[l]=(t=m.next)===null||t===void 0?void 0:t.bind(m),i[l+1]=(n=m.error)===null||n===void 0?void 0:n.bind(m),i[l+2]=(r=m.complete)===null||r===void 0?void 0:r.bind(m)}if(e instanceof Tt)h=Ve(e.firestore,Ft),d=Lc(e._key.path),c={next:function(E){i[l]&&i[l](Rb(h,e,E))},error:i[l+1],complete:i[l+2]};else{var y=Ve(e,yr);h=Ve(y.firestore,Ft),d=y._query;var _=new Ga(h);c={next:function(E){i[l]&&i[l](new hs(h,_,y,E))},error:i[l+1],complete:i[l+2]},YU(e._query)}return function(E,S,b,I){var k=this,C=new Iy(I),x=new wS(S,C,b);return E.asyncQueue.enqueueAndForget(function(){return P(k,void 0,void 0,function(){var O;return A(this,function(V){switch(V.label){case 0:return O=gS,[4,mc(E)];case 1:return[2,O.apply(void 0,[V.sent(),x])]}})})}),function(){C.Wo(),E.asyncQueue.enqueueAndForget(function(){return P(k,void 0,void 0,function(){var O;return A(this,function(V){switch(V.label){case 0:return O=yS,[4,mc(E)];case 1:return[2,O.apply(void 0,[V.sent(),x])]}})})})}}(fn(h),d,v,c)}function dd(e,t){return function(n,r){var i=this,s=new Jn;return n.asyncQueue.enqueueAndForget(function(){return P(i,void 0,void 0,function(){var a;return A(this,function(l){switch(l.label){case 0:return a=dY,[4,RS(n)];case 1:return[2,a.apply(void 0,[l.sent(),r,s])]}})})}),s.promise}(fn(e),t)}function Rb(e,t,n){var r=n.docs.get(t._key),i=new Ga(e);return new Ao(e,i,t._key,r,new Va(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nX=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this)._firestore=n,i}return J(t,e),t.prototype.get=function(n){var r=this,i=ds(n,this._firestore),s=new Ga(this._firestore);return e.prototype.get.call(this,n).then(function(a){return new Ao(r._firestore,s,i._key,a._document,new Va(!1,!1),i.converter)})},t}(function(){function e(t,n){this._firestore=t,this._transaction=n,this._dataReader=Nu(t)}return e.prototype.get=function(t){var n=this,r=ds(t,this._firestore),i=new eX(this._firestore);return this._transaction.lookup([r._key]).then(function(s){if(!s||s.length!==1)return se();var a=s[0];if(a.isFoundDocument())return new hd(n._firestore,i,a.key,a,r.converter);if(a.isNoDocument())return new hd(n._firestore,i,r._key,null,r.converter);throw se()})},e.prototype.set=function(t,n,r){var i=ds(t,this._firestore),s=Ry(i.converter,n,r),a=Ny(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,r);return this._transaction.set(i._key,a),this},e.prototype.update=function(t,n,r){for(var i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var a,l=ds(t,this._firestore);return a=typeof(n=Te(n))=="string"||n instanceof Ji?DS(this._dataReader,"Transaction.update",l._key,n,r,i):OS(this._dataReader,"Transaction.update",l._key,n),this._transaction.update(l._key,a),this},e.prototype.delete=function(t){var n=ds(t,this._firestore);return this._transaction.delete(n._key),this},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yO(){if(typeof Uint8Array>"u")throw new z(L.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function _O(){if(typeof atob>"u")throw new z(L.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var e3=function(){function e(t){this._delegate=t}return e.fromBase64String=function(t){return _O(),new e(hu.fromBase64String(t))},e.fromUint8Array=function(t){return yO(),new e(hu.fromUint8Array(t))},e.prototype.toBase64=function(){return _O(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return yO(),this._delegate.toUint8Array()},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),rX=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(t,n){return function(r,i){fO(r=Ve(r,Ft));var s=fn(r),a=r._freezeSettings(),l=new kb;return cO(s,l,new xU(l,a.cacheSizeBytes,i==null?void 0:i.forceOwnership))}(t._delegate,{forceOwnership:n})},e.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(n){fO(n=Ve(n,Ft));var r=fn(n),i=n._freezeSettings(),s=new kb;return cO(r,s,new RY(s,i.cacheSizeBytes))}(t._delegate)},e.prototype.clearIndexedDbPersistence=function(t){return function(n){var r=this;if(n._initialized&&!n._terminated)throw new z(L.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var i=new Jn;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return P(r,void 0,void 0,function(){var s;return A(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,function(l){return P(this,void 0,void 0,function(){var c;return A(this,function(h){switch(h.label){case 0:return cc.yt()?(c=l+"main",[4,cc.delete(c)]):[2,Promise.resolve()];case 1:return h.sent(),[2]}})})}(fS(n._databaseId,n._persistenceKey))];case 1:return a.sent(),i.resolve(),[3,3];case 2:return s=a.sent(),i.reject(s),[3,3];case 3:return[2]}})})}),i.promise}(t._delegate)},e}(),US=function(){function e(t,n,r){var i=this;this._delegate=n,this.Yc=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof fg||(this.Xc=t)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._delegate._getSettings()),t)).merge,this._delegate._setSettings(t)},e.prototype.useEmulator=function(t,n,r){r===void 0&&(r={}),function(i,s,a,l){l===void 0&&(l={});var c=(i=Ve(i,fd))._getSettings();if(c.host!=="firestore.googleapis.com"&&c.host!==s&&Zm("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},c),{host:s+":"+a,ssl:!1})),l.mockUserToken){var h=R2(l.mockUserToken),d=l.mockUserToken.sub||l.mockUserToken.user_id;if(!d)throw new z(L.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");i._credentials=new LY(new LU(h,new ur(d)))}}(this._delegate,t,n,r)},e.prototype.enableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return P(n,void 0,void 0,function(){var r,i;return A(this,function(s){switch(s.label){case 0:return[4,eO(t)];case 1:return r=s.sent(),[4,tO(t)];case 2:return i=s.sent(),[2,(r.setNetworkEnabled(!0),function(a){var l=X(a);return l.$r.delete(0),Gd(l)}(i))]}})})})}(fn(Ve(this._delegate,Ft)))},e.prototype.disableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return P(n,void 0,void 0,function(){var r,i;return A(this,function(s){switch(s.label){case 0:return[4,eO(t)];case 1:return r=s.sent(),[4,tO(t)];case 2:return i=s.sent(),[2,(r.setNetworkEnabled(!1),function(a){return P(this,void 0,void 0,function(){var l;return A(this,function(c){switch(c.label){case 0:return(l=X(a)).$r.add(0),[4,Fc(l)];case 1:return c.sent(),l.Br.set("Offline"),[2]}})})}(i))]}})})})}(fn(Ve(this._delegate,Ft)))},e.prototype.enablePersistence=function(t){var n=!1,r=!1;return t&&MU("synchronizeTabs",n=!!t.synchronizeTabs,"experimentalForceOwningTab",r=!!t.experimentalForceOwningTab),n?this.Yc.enableMultiTabIndexedDbPersistence(this):this.Yc.enableIndexedDbPersistence(this,r)},e.prototype.clearPersistence=function(){return this.Yc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.Xc&&(this.Xc._removeServiceInstance("firestore"),this.Xc._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var n=this,r=new Jn;return t.asyncQueue.enqueueAndForget(function(){return P(n,void 0,void 0,function(){var i;return A(this,function(s){switch(s.label){case 0:return i=gY,[4,RS(t)];case 1:return[2,i.apply(void 0,[s.sent(),r])]}})})}),r.promise}(fn(Ve(this._delegate,Ft)))},e.prototype.onSnapshotsInSync=function(t){return function(n,r){return function(i,s){var a=this,l=new Iy(s);return i.asyncQueue.enqueueAndForget(function(){return P(a,void 0,void 0,function(){var c;return A(this,function(h){switch(h.label){case 0:return c=function(d,v){X(d).Gr.add(v),v.next()},[4,mc(i)];case 1:return[2,c.apply(void 0,[h.sent(),l])]}})})}),function(){l.Wo(),i.asyncQueue.enqueueAndForget(function(){return P(a,void 0,void 0,function(){var c;return A(this,function(h){switch(h.label){case 0:return c=function(d,v){X(d).Gr.delete(v)},[4,mc(i)];case 1:return[2,c.apply(void 0,[h.sent(),l])]}})})})}}(fn(n=Ve(n,Ft)),gc(r)?r:{next:r})}(this._delegate,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.Xc)throw new z(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Xc},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new pg(this,FU(this._delegate,t))}catch(n){throw qn(n,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new Qa(this,em(this._delegate,t))}catch(n){throw qn(n,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new Yd(this,function(n,r){if(n=Ve(n,fd),AS("collectionGroup","collection id",r),r.indexOf("/")>=0)throw new z(L.INVALID_ARGUMENT,"Invalid collection ID '"+r+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new yr(n,null,function(i){return new Bo($e.emptyPath(),i)}(r))}(this._delegate,t))}catch(n){throw qn(n,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var n=this;return function(r,i){return function(s,a){var l=this,c=new Jn;return s.asyncQueue.enqueueAndForget(function(){return P(l,void 0,void 0,function(){var h;return A(this,function(d){switch(d.label){case 0:return[4,function(v){return Sy(v).then(function(m){return m.datastore})}(s)];case 1:return h=d.sent(),new xY(s.asyncQueue,h,a,c).run(),[2]}})})}),c.promise}(fn(r),function(s){return i(new nX(r,s))})}(this._delegate,function(r){return t(new t3(n,r))})},e.prototype.batch=function(){var t=this;return fn(this._delegate),new n3(new tX(this._delegate,function(n){return dd(t._delegate,n)}))},e.prototype.loadBundle=function(t){throw new z(L.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new z(L.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),Ay=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return J(t,e),t.prototype.convertBytes=function(n){return new e3(new hu(n))},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return Qa.Zc(r,this.firestore,null)},t}(FS);function iX(e){var t;t=e,Ai.setLogLevel(t)}var t3=function(){function e(t,n){this._firestore=t,this._delegate=n,this._userDataWriter=new Ay(t)}return e.prototype.get=function(t){var n=this,r=Ba(t);return this._delegate.get(r).then(function(i){return new pd(n._firestore,new Ao(n._firestore._delegate,n._userDataWriter,i._key,i._document,i.metadata,r.converter))})},e.prototype.set=function(t,n,r){var i=Ba(t);return r?(PS("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this},e.prototype.update=function(t,n,r){for(var i,s=[],a=3;a<arguments.length;a++)s[a-3]=arguments[a];var l=Ba(t);return arguments.length===2?this._delegate.update(l,n):(i=this._delegate).update.apply(i,Ne([l,n,r],s)),this},e.prototype.delete=function(t){var n=Ba(t);return this._delegate.delete(n),this},e}(),n3=function(){function e(t){this._delegate=t}return e.prototype.set=function(t,n,r){var i=Ba(t);return r?(PS("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this},e.prototype.update=function(t,n,r){for(var i,s=[],a=3;a<arguments.length;a++)s[a-3]=arguments[a];var l=Ba(t);return arguments.length===2?this._delegate.update(l,n):(i=this._delegate).update.apply(i,Ne([l,n,r],s)),this},e.prototype.delete=function(t){var n=Ba(t);return this._delegate.delete(n),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),Py=function(){function e(t,n,r){this._firestore=t,this._userDataWriter=n,this._delegate=r}return e.prototype.fromFirestore=function(t,n){var r=new wh(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new vd(this._firestore,r),n??{})},e.prototype.toFirestore=function(t,n){return n?this._delegate.toFirestore(t,n):this._delegate.toFirestore(t)},e.tu=function(t,n){var r=e.eu,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var s=i.get(n);return s||(s=new e(t,new Ay(t),n),i.set(n,s)),s},e}();Py.eu=new WeakMap;var Qa=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new Ay(t)}return e.nu=function(t,n,r){if(t.length%2!=0)throw new z(L.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new Tt(n._delegate,r,new le(t)))},e.Zc=function(t,n,r){return new e(n,new Tt(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new pg(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new pg(this.firestore,FU(this._delegate,t))}catch(n){throw qn(n,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return(t=Te(t))instanceof Tt&&UU(this._delegate,t)},e.prototype.set=function(t,n){n=PS("DocumentReference.set",n);try{return function(r,i,s){r=Ve(r,Tt);var a=Ve(r.firestore,Ft),l=Ry(r.converter,i,s);return dd(a,[Ny(Nu(a),"setDoc",r._key,l,r.converter!==null,s).toMutation(r._key,xn.none())])}(this._delegate,t,n)}catch(r){throw qn(r,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];try{return arguments.length===1?gO(this._delegate,t):gO.apply(void 0,Ne([this._delegate,t,n],r))}catch(s){throw qn(s,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return dd(Ve((t=this._delegate).firestore,Ft),[new Hd(t._key,xn.none())]);var t},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=r3(n),s=i3(n,function(a){return new pd(t.firestore,new Ao(t.firestore._delegate,t._userDataWriter,a._key,a._document,a.metadata,t._delegate.converter))});return ZU(this._delegate,i,s)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(r){r=Ve(r,Tt);var i=Ve(r.firestore,Ft),s=fn(i),a=new Ga(i);return function(l,c){var h=this,d=new Jn;return l.asyncQueue.enqueueAndForget(function(){return P(h,void 0,void 0,function(){var v;return A(this,function(m){switch(m.label){case 0:return v=function(y,_,E){return P(this,void 0,void 0,function(){var S,b;return A(this,function(I){switch(I.label){case 0:return I.trys.push([0,2,,3]),[4,function(k,C){var x=X(k);return x.persistence.runTransaction("read document","readonly",function(O){return x.Mn.mn(O,C)})}(y,_)];case 1:return(b=I.sent()).isFoundDocument()?E.resolve(b):b.isNoDocument()?E.resolve(null):E.reject(new z(L.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return S=I.sent(),b=Vc(S,"Failed to get document '"+_+" from cache"),E.reject(b),[3,3];case 3:return[2]}})})},[4,NS(l)];case 1:return[2,v.apply(void 0,[m.sent(),c,d])]}})})}),d.promise}(s,r._key).then(function(l){return new Ao(i,a,r._key,l,new Va(l!==null&&l.hasLocalMutations,!0),r.converter)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(r){r=Ve(r,Tt);var i=Ve(r.firestore,Ft);return nO(fn(i),r._key,{source:"server"}).then(function(s){return Rb(i,r,s)})}(this._delegate):function(r){r=Ve(r,Tt);var i=Ve(r.firestore,Ft);return nO(fn(i),r._key).then(function(s){return Rb(i,r,s)})}(this._delegate)).then(function(r){return new pd(n.firestore,new Ao(n.firestore._delegate,n._userDataWriter,r._key,r._document,r.metadata,n._delegate.converter))})},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Py.tu(this.firestore,t)):this._delegate.withConverter(null))},e}();function qn(e,t,n){return e.message=e.message.replace(t,n),e}function r3(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if(typeof r=="object"&&!gc(r))return r}return{}}function i3(e,t){var n,r,i;return{next:function(s){i.next&&i.next(t(s))},error:(n=(i=gc(e[0])?e[0]:gc(e[1])?e[1]:typeof e[0]=="function"?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}var pd=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"ref",{get:function(){return new Qa(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._delegate.data(t)},e.prototype.get=function(t,n){return this._delegate.get(t,n)},e.prototype.isEqual=function(t){return QU(this._delegate,t._delegate)},e}(),vd=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return J(t,e),t.prototype.data=function(n){return this._delegate.data(n)},t}(pd),Yd=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new Ay(t)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,ns(this._delegate,function(i,s,a){var l=s,c=dg("where",i);return new JY(c,l,a)}(t,n,r)))}catch(i){throw qn(i,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,ns(this._delegate,function(r,i){i===void 0&&(i="asc");var s=i,a=dg("orderBy",r);return new ZY(a,s)}(t,n)))}catch(r){throw qn(r,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,ns(this._delegate,function(n){return uO("limit",n),new hO("limit",n,"F")}(t)))}catch(n){throw qn(n,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,ns(this._delegate,function(n){return uO("limitToLast",n),new hO("limitToLast",n,"L")}(t)))}catch(n){throw qn(n,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,ns(this._delegate,(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new dO("startAt",r,!0)}).apply(void 0,t)))}catch(r){throw qn(r,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,ns(this._delegate,(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new dO("startAfter",r,!1)}).apply(void 0,t)))}catch(r){throw qn(r,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,ns(this._delegate,(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new pO("endBefore",r,!0)}).apply(void 0,t)))}catch(r){throw qn(r,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,ns(this._delegate,(function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return new pO("endAt",r,!1)}).apply(void 0,t)))}catch(r){throw qn(r,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return jU(this._delegate,t._delegate)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(r){r=Ve(r,yr);var i=Ve(r.firestore,Ft),s=fn(i),a=new Ga(i);return function(l,c){var h=this,d=new Jn;return l.asyncQueue.enqueueAndForget(function(){return P(h,void 0,void 0,function(){var v;return A(this,function(m){switch(m.label){case 0:return v=function(y,_,E){return P(this,void 0,void 0,function(){var S,b,I,k,C;return A(this,function(x){switch(x.label){case 0:return x.trys.push([0,2,,3]),[4,ug(y,_,!0)];case 1:return C=x.sent(),S=new kU(_,C.Bn),b=S._o(C.documents),I=S.applyChanges(b,!1),E.resolve(I.snapshot),[3,3];case 2:return k=x.sent(),C=Vc(k,"Failed to execute query '"+_+" against cache"),E.reject(C),[3,3];case 3:return[2]}})})},[4,NS(l)];case 1:return[2,v.apply(void 0,[m.sent(),c,d])]}})})}),d.promise}(s,r._query).then(function(l){return new hs(i,a,r,l)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(r){r=Ve(r,yr);var i=Ve(r.firestore,Ft),s=fn(i),a=new Ga(i);return rO(s,r._query,{source:"server"}).then(function(l){return new hs(i,a,r,l)})}(this._delegate):function(r){r=Ve(r,yr);var i=Ve(r.firestore,Ft),s=fn(i),a=new Ga(i);return YU(r._query),rO(s,r._query).then(function(l){return new hs(i,a,r,l)})}(this._delegate)).then(function(r){return new Ab(n.firestore,new hs(n.firestore._delegate,n._userDataWriter,n._delegate,r._snapshot))})},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=r3(n),s=i3(n,function(a){return new Ab(t.firestore,new hs(t.firestore._delegate,t._userDataWriter,t._delegate,a._snapshot))});return ZU(this._delegate,i,s)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Py.tu(this.firestore,t)):this._delegate.withConverter(null))},e}(),oX=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new vd(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),Ab=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"query",{get:function(){return new Yd(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(n){return new vd(t._firestore,n)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var n=this;return this._delegate.docChanges(t).map(function(r){return new oX(n._firestore,r)})},e.prototype.forEach=function(t,n){var r=this;this._delegate.forEach(function(i){t.call(n,new vd(r._firestore,i))})},e.prototype.isEqual=function(t){return QU(this._delegate,t._delegate)},e}(),pg=function(e){function t(n,r){var i=this;return(i=e.call(this,n,r)||this).firestore=n,i._delegate=r,i}return J(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._delegate.parent;return n?new Qa(this.firestore,n):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(n){try{return new Qa(this.firestore,n===void 0?em(this._delegate):em(this._delegate,n))}catch(r){throw qn(r,"doc()","CollectionReference.doc()")}},t.prototype.add=function(n){var r=this;return function(i,s){var a=Ve(i.firestore,Ft),l=em(i),c=Ry(i.converter,s);return dd(a,[Ny(Nu(i.firestore),"addDoc",l._key,c,i.converter!==null,{}).toMutation(l._key,xn.exists(!1))]).then(function(){return l})}(this._delegate,n).then(function(i){return new Qa(r.firestore,i)})},t.prototype.isEqual=function(n){return UU(this._delegate,n._delegate)},t.prototype.withConverter=function(n){return new t(this.firestore,n?this._delegate.withConverter(Py.tu(this.firestore,n)):this._delegate.withConverter(null))},t}(Yd);function Ba(e){return Ve(e,Tt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sX=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._delegate=new(Ji.bind.apply(Ji,Ne([void 0],t)))}return e.documentId=function(){return new e(ai.keyField().canonicalString())},e.prototype.isEqual=function(t){return(t=Te(t))instanceof Ji&&this._delegate._internalPath.isEqual(t._internalPath)},e}(),aX=function(){function e(t){this._delegate=t}return e.serverTimestamp=function(){var t=new WY("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new xS("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return new HY("arrayUnion",i)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return new KY("arrayRemove",i)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(r){return new GY("increment",r)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uX(e){return function(t,n){var r=fn(t=Ve(t,Ft)),i=new VY;return function(s,a,l,c){var h=this,d=function(v,m){return function(y,_){return new AY(y,_)}(function(y,_){if(y instanceof Uint8Array)return Zx(y,_);if(y instanceof ArrayBuffer)return Zx(new Uint8Array(y),_);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(typeof v=="string"?new TextEncoder().encode(v):v),m)}(l,Kd(a));s.asyncQueue.enqueueAndForget(function(){return P(h,void 0,void 0,function(){var v;return A(this,function(m){switch(m.label){case 0:return v=NY,[4,RS(s)];case 1:return v.apply(void 0,[m.sent(),d,c]),[2]}})})})}(r,t._databaseId,n,i),i}(this._delegate,e)}function lX(e){var t,n,r=this;return(t=this._delegate,n=e,function(i,s){var a=this;return i.asyncQueue.enqueue(function(){return P(a,void 0,void 0,function(){var l;return A(this,function(c){switch(c.label){case 0:return l=function(h,d){var v=X(h);return v.persistence.runTransaction("Get named query","readonly",function(m){return v.Qe.getNamedQuery(m,d)})},[4,NS(i)];case 1:return[2,l.apply(void 0,[c.sent(),s])]}})})})}(fn(t=Ve(t,Ft)),n).then(function(i){return i?new yr(t,null,i.query):null})).then(function(i){return i?new Yd(r,i):null})}var cX={Firestore:US,GeoPoint:ky,Timestamp:gr,Blob:e3,Transaction:t3,WriteBatch:n3,DocumentReference:Qa,DocumentSnapshot:pd,Query:Yd,QueryDocumentSnapshot:vd,QuerySnapshot:Ab,CollectionReference:pg,FieldPath:sX,FieldValue:aX,setLogLevel:iX,CACHE_SIZE_UNLIMITED:BY};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fX(e){(function(t,n){t.INTERNAL.registerComponent(new _r("firestore",function(r){var i=r.getProvider("app").getImmediate();return n(i,r.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},cX)))})(e,function(t,n){return new US(t,new Ft(t,n),new rX)}),e.registerVersion("@firebase/firestore","2.3.0")}fX(ue);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hX(e){e.prototype.loadBundle=uX,e.prototype.namedQuery=lX}hX(US);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wO={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Ul=function(e){J(t,e);function t(n,r,i){var s=e.call(this,r)||this;return Object.setPrototypeOf(s,t.prototype),s.code=n,s.details=i,s}return t}(Error);function dX(e){if(e>=200&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function pX(e,t,n){var r=dX(e),i=r,s=void 0;try{var a=t&&t.error;if(a){var l=a.status;if(typeof l=="string"){if(!wO[l])return new Ul("internal","internal");r=wO[l],i=l}var c=a.message;typeof c=="string"&&(i=c),s=a.details,s!==void 0&&(s=n.decode(s))}}catch{}return r==="ok"?null:new Ul(r,i,s)}var vX=function(){function e(t,n){var r=this;this.auth=null,this.messaging=null,this.auth=t.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||t.get().then(function(i){return r.auth=i},function(){}),this.messaging||n.get().then(function(i){return r.messaging=i},function(){})}return e.prototype.getAuthToken=function(){return P(this,void 0,void 0,function(){var t;return A(this,function(n){switch(n.label){case 0:if(!this.auth)return[2,void 0];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return t=n.sent(),t?[2,t.accessToken]:[2,void 0];case 3:return n.sent(),[2,void 0];case 4:return[2]}})})},e.prototype.getInstanceIdToken=function(){return P(this,void 0,void 0,function(){return A(this,function(t){if(!this.messaging||!("Notification"in self)||Notification.permission!=="granted")return[2,void 0];try{return[2,this.messaging.getToken()]}catch{return[2,void 0]}return[2]})})},e.prototype.getContext=function(){return P(this,void 0,void 0,function(){var t,n;return A(this,function(r){switch(r.label){case 0:return[4,this.getAuthToken()];case 1:return t=r.sent(),[4,this.getInstanceIdToken()];case 2:return n=r.sent(),[2,{authToken:t,instanceIdToken:n}]}})})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mX="type.googleapis.com/google.protobuf.Int64Value",gX="type.googleapis.com/google.protobuf.UInt64Value";function EO(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}var yX=function(){function e(){}return e.prototype.encode=function(t){var n=this;if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(Array.isArray(t))return t.map(function(r){return n.encode(r)});if(typeof t=="function"||typeof t=="object")return EO(t,function(r){return n.encode(r)});throw new Error("Data cannot be encoded in JSON: "+t)},e.prototype.decode=function(t){var n=this;if(t==null)return t;if(t["@type"])switch(t["@type"]){case mX:case gX:{var r=Number(t.value);if(isNaN(r))throw new Error("Data cannot be decoded from JSON: "+t);return r}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(function(i){return n.decode(i)}):typeof t=="function"||typeof t=="object"?EO(t,function(i){return n.decode(i)}):t},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _X(e){var t,n=new Promise(function(r,i){t=setTimeout(function(){i(new Ul("deadline-exceeded","deadline-exceeded"))},e)});return{timer:t,promise:n}}var bO=function(){function e(t,n,r,i,s,a){var l=this;s===void 0&&(s="us-central1"),this.app_=t,this.appCheckProvider=i,this.fetchImpl=a,this.serializer=new yX,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(l.deleteService())}},this.contextProvider=new vX(n,r),this.cancelAllRequests=new Promise(function(h){l.deleteService=function(){return h()}});try{var c=new URL(s);this.customDomain=c.origin,this.region="us-central1"}catch{this.customDomain=null,this.region=s}}return Object.defineProperty(e.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),e.prototype._url=function(t){var n=this.app_.options.projectId;if(this.emulatorOrigin!==null){var r=this.emulatorOrigin;return r+"/"+n+"/"+this.region+"/"+t}return this.customDomain!==null?this.customDomain+"/"+t:"https://"+this.region+"-"+n+".cloudfunctions.net/"+t},e.prototype.useEmulator=function(t,n){this.emulatorOrigin="http://"+t+":"+n},e.prototype.useFunctionsEmulator=function(t){this.emulatorOrigin=t},e.prototype.httpsCallable=function(t,n){var r=this;return function(i){return r.call(t,i,n||{})}},e.prototype.postJSON=function(t,n,r){return P(this,void 0,void 0,function(){var i,s,a;return A(this,function(l){switch(l.label){case 0:return r["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:i=l.sent(),i!==null&&(r["X-Firebase-AppCheck"]=i),l.label=2;case 2:return l.trys.push([2,4,,5]),[4,this.fetchImpl(t,{method:"POST",body:JSON.stringify(n),headers:r})];case 3:return s=l.sent(),[3,5];case 4:return l.sent(),[2,{status:0,json:null}];case 5:a=null,l.label=6;case 6:return l.trys.push([6,8,,9]),[4,s.json()];case 7:return a=l.sent(),[3,9];case 8:return l.sent(),[3,9];case 9:return[2,{status:s.status,json:a}]}})})},e.prototype.getAppCheckToken=function(){return P(this,void 0,void 0,function(){var t,n;return A(this,function(r){switch(r.label){case 0:return t=this.appCheckProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:return n=r.sent(),[2,n.token];case 2:return[2,null]}})})},e.prototype.call=function(t,n,r){return P(this,void 0,void 0,function(){var i,s,a,l,c,h,d,v,m,y,_,E;return A(this,function(S){switch(S.label){case 0:return i=this._url(t),n=this.serializer.encode(n),s={data:n},a={},[4,this.contextProvider.getContext()];case 1:return l=S.sent(),l.authToken&&(a.Authorization="Bearer "+l.authToken),l.instanceIdToken&&(a["Firebase-Instance-ID-Token"]=l.instanceIdToken),c=r.timeout||7e4,h=_X(c),d=h.timer,v=h.promise,[4,Promise.race([TO(d,this.postJSON(i,s,a)),v,TO(d,this.cancelAllRequests)])];case 2:if(m=S.sent(),!m)throw new Ul("cancelled","Firebase Functions instance was deleted.");if(y=pX(m.status,m.json,this.serializer),y)throw y;if(!m.json)throw new Ul("internal","Response is not valid JSON object.");if(_=m.json.data,typeof _>"u"&&(_=m.json.result),typeof _>"u")throw new Ul("internal","Response is missing data field.");return E=this.serializer.decode(_),[2,{data:E}]}})})},e}();function TO(e,t){return P(this,void 0,void 0,function(){var n;return A(this,function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),clearTimeout(e),[2,n]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wX="functions";function EX(e,t){var n={Functions:bO};function r(i,s){var a=s.instanceIdentifier,l=i.getProvider("app").getImmediate(),c=i.getProvider("auth-internal"),h=i.getProvider("app-check-internal"),d=i.getProvider("messaging");return new bO(l,c,d,h,a,t)}e.INTERNAL.registerComponent(new _r(wX,r,"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}var bX="@firebase/functions",TX="0.6.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */EX(ue,fetch.bind(self));ue.registerVersion(bX,TX);function IX(e){return Array.prototype.slice.call(e)}function o3(e){return new Promise(function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function xy(e,t,n){var r,i=new Promise(function(s,a){r=e[t].apply(e,n),o3(r).then(s,a)});return i.request=r,i}function SX(e,t,n){var r=xy(e,t,n);return r.then(function(i){if(i)return new md(i,r.request)})}function Bc(e,t,n){n.forEach(function(r){Object.defineProperty(e.prototype,r,{get:function(){return this[t][r]},set:function(i){this[t][r]=i}})})}function jS(e,t,n,r){r.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){return xy(this[t],i,arguments)})})}function Oy(e,t,n,r){r.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){return this[t][i].apply(this[t],arguments)})})}function s3(e,t,n,r){r.forEach(function(i){i in n.prototype&&(e.prototype[i]=function(){return SX(this[t],i,arguments)})})}function Au(e){this._index=e}Bc(Au,"_index",["name","keyPath","multiEntry","unique"]);jS(Au,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]);s3(Au,"_index",IDBIndex,["openCursor","openKeyCursor"]);function md(e,t){this._cursor=e,this._request=t}Bc(md,"_cursor",["direction","key","primaryKey","value"]);jS(md,"_cursor",IDBCursor,["update","delete"]);["advance","continue","continuePrimaryKey"].forEach(function(e){e in IDBCursor.prototype&&(md.prototype[e]=function(){var t=this,n=arguments;return Promise.resolve().then(function(){return t._cursor[e].apply(t._cursor,n),o3(t._request).then(function(r){if(r)return new md(r,t._request)})})})});function ao(e){this._store=e}ao.prototype.createIndex=function(){return new Au(this._store.createIndex.apply(this._store,arguments))};ao.prototype.index=function(){return new Au(this._store.index.apply(this._store,arguments))};Bc(ao,"_store",["name","keyPath","indexNames","autoIncrement"]);jS(ao,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]);s3(ao,"_store",IDBObjectStore,["openCursor","openKeyCursor"]);Oy(ao,"_store",IDBObjectStore,["deleteIndex"]);function Xd(e){this._tx=e,this.complete=new Promise(function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}})}Xd.prototype.objectStore=function(){return new ao(this._tx.objectStore.apply(this._tx,arguments))};Bc(Xd,"_tx",["objectStoreNames","mode"]);Oy(Xd,"_tx",IDBTransaction,["abort"]);function Dy(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new Xd(n)}Dy.prototype.createObjectStore=function(){return new ao(this._db.createObjectStore.apply(this._db,arguments))};Bc(Dy,"_db",["name","version","objectStoreNames"]);Oy(Dy,"_db",IDBDatabase,["deleteObjectStore","close"]);function Ly(e){this._db=e}Ly.prototype.transaction=function(){return new Xd(this._db.transaction.apply(this._db,arguments))};Bc(Ly,"_db",["name","version","objectStoreNames"]);Oy(Ly,"_db",IDBDatabase,["close"]);["openCursor","openKeyCursor"].forEach(function(e){[ao,Au].forEach(function(t){e in t.prototype&&(t.prototype[e.replace("open","iterate")]=function(){var n=IX(arguments),r=n[n.length-1],i=this._store||this._index,s=i[e].apply(i,n.slice(0,-1));s.onsuccess=function(){r(s.result)}})})});[Au,ao].forEach(function(e){e.prototype.getAll||(e.prototype.getAll=function(t,n){var r=this,i=[];return new Promise(function(s){r.iterateCursor(t,function(a){if(!a){s(i);return}if(i.push(a.value),n!==void 0&&i.length==n){s(i);return}a.continue()})})})});function VS(e,t,n){var r=xy(indexedDB,"open",[e,t]),i=r.request;return i&&(i.onupgradeneeded=function(s){n&&n(new Dy(i.result,s.oldVersion,i.transaction))}),r.then(function(s){return new Ly(s)})}function gE(e){return xy(indexedDB,"deleteDatabase",[e])}var CX="@firebase/installations",a3="0.4.26";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var u3=1e4,l3="w:"+a3,c3="FIS_v2",kX="https://firebaseinstallations.googleapis.com/v1",NX=60*60*1e3,RX="installations",AX="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rs,PX=(rs={},rs["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',rs["not-registered"]="Firebase Installation is not registered.",rs["installation-not-found"]="Firebase Installation not found.",rs["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',rs["app-offline"]="Could not process request. Application offline.",rs["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",rs),Fo=new Hs(RX,AX,PX);function f3(e){return e instanceof Cc&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BS(e){var t=e.projectId;return kX+"/projects/"+t+"/installations"}function h3(e){return{token:e.token,requestStatus:2,expiresIn:xX(e.expiresIn),creationTime:Date.now()}}function $S(e,t){return P(this,void 0,void 0,function(){var n,r;return A(this,function(i){switch(i.label){case 0:return[4,t.json()];case 1:return n=i.sent(),r=n.error,[2,Fo.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}})})}function d3(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function p3(e,t){var n=t.refreshToken,r=d3(e);return r.append("Authorization",OX(n)),r}function zS(e){return P(this,void 0,void 0,function(){var t;return A(this,function(n){switch(n.label){case 0:return[4,e()];case 1:return t=n.sent(),t.status>=500&&t.status<600?[2,e()]:[2,t]}})})}function xX(e){return Number(e.replace("s","000"))}function OX(e){return c3+" "+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DX(e,t){var n=t.fid;return P(this,void 0,void 0,function(){var r,i,s,a,l,c,h;return A(this,function(d){switch(d.label){case 0:return r=BS(e),i=d3(e),s={fid:n,authVersion:c3,appId:e.appId,sdkVersion:l3},a={method:"POST",headers:i,body:JSON.stringify(s)},[4,zS(function(){return fetch(r,a)})];case 1:return l=d.sent(),l.ok?[4,l.json()]:[3,3];case 2:return c=d.sent(),h={fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:h3(c.authToken)},[2,h];case 3:return[4,$S("Create Installation",l)];case 4:throw d.sent()}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v3(e){return new Promise(function(t){setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LX(e){var t=btoa(String.fromCharCode.apply(String,Ne([],_n(e))));return t.replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var MX=/^[cdef][\w-]{21}$/,Pb="";function FX(){try{var e=new Uint8Array(17),t=self.crypto||self.msCrypto;t.getRandomValues(e),e[0]=112+e[0]%16;var n=UX(e);return MX.test(n)?n:Pb}catch{return Pb}}function UX(e){var t=LX(e);return t.substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $c(e){return e.appName+"!"+e.appId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yc=new Map;function m3(e,t){var n=$c(e);g3(n,t),BX(n,t)}function jX(e,t){y3();var n=$c(e),r=yc.get(n);r||(r=new Set,yc.set(n,r)),r.add(t)}function VX(e,t){var n=$c(e),r=yc.get(n);r&&(r.delete(t),r.size===0&&yc.delete(n),_3())}function g3(e,t){var n,r,i=yc.get(e);if(i)try{for(var s=pn(i),a=s.next();!a.done;a=s.next()){var l=a.value;l(t)}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}function BX(e,t){var n=y3();n&&n.postMessage({key:e,fid:t}),_3()}var $a=null;function y3(){return!$a&&"BroadcastChannel"in self&&($a=new BroadcastChannel("[Firebase] FID Change"),$a.onmessage=function(e){g3(e.data.key,e.data.fid)}),$a}function _3(){yc.size===0&&$a&&($a.close(),$a=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $X="firebase-installations-database",zX=1,du="firebase-installations-store",yE=null;function qS(){return yE||(yE=VS($X,zX,function(e){switch(e.oldVersion){case 0:e.createObjectStore(du)}})),yE}function vg(e,t){return P(this,void 0,void 0,function(){var n,r,i,s,a;return A(this,function(l){switch(l.label){case 0:return n=$c(e),[4,qS()];case 1:return r=l.sent(),i=r.transaction(du,"readwrite"),s=i.objectStore(du),[4,s.get(n)];case 2:return a=l.sent(),[4,s.put(t,n)];case 3:return l.sent(),[4,i.complete];case 4:return l.sent(),(!a||a.fid!==t.fid)&&m3(e,t.fid),[2,t]}})})}function WS(e){return P(this,void 0,void 0,function(){var t,n,r;return A(this,function(i){switch(i.label){case 0:return t=$c(e),[4,qS()];case 1:return n=i.sent(),r=n.transaction(du,"readwrite"),[4,r.objectStore(du).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function Jd(e,t){return P(this,void 0,void 0,function(){var n,r,i,s,a,l;return A(this,function(c){switch(c.label){case 0:return n=$c(e),[4,qS()];case 1:return r=c.sent(),i=r.transaction(du,"readwrite"),s=i.objectStore(du),[4,s.get(n)];case 2:return a=c.sent(),l=t(a),l!==void 0?[3,4]:[4,s.delete(n)];case 3:return c.sent(),[3,6];case 4:return[4,s.put(l,n)];case 5:c.sent(),c.label=6;case 6:return[4,i.complete];case 7:return c.sent(),l&&(!a||a.fid!==l.fid)&&m3(e,l.fid),[2,l]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HS(e){return P(this,void 0,void 0,function(){var t,n,r;return A(this,function(i){switch(i.label){case 0:return[4,Jd(e,function(s){var a=qX(s),l=WX(e,a);return t=l.registrationPromise,l.installationEntry})];case 1:return n=i.sent(),n.fid!==Pb?[3,3]:(r={},[4,t]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:t}]}})})}function qX(e){var t=e||{fid:FX(),registrationStatus:0};return w3(t)}function WX(e,t){if(t.registrationStatus===0){if(!navigator.onLine){var n=Promise.reject(Fo.create("app-offline"));return{installationEntry:t,registrationPromise:n}}var r={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},i=HX(e,r);return{installationEntry:r,registrationPromise:i}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:KX(e)}:{installationEntry:t}}function HX(e,t){return P(this,void 0,void 0,function(){var n,r;return A(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,DX(e,t)];case 1:return n=i.sent(),[2,vg(e,n)];case 2:return r=i.sent(),f3(r)&&r.customData.serverCode===409?[4,WS(e)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,vg(e,{fid:t.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}})})}function KX(e){return P(this,void 0,void 0,function(){var t,n,r,i;return A(this,function(s){switch(s.label){case 0:return[4,IO(e)];case 1:t=s.sent(),s.label=2;case 2:return t.registrationStatus!==1?[3,5]:[4,v3(100)];case 3:return s.sent(),[4,IO(e)];case 4:return t=s.sent(),[3,2];case 5:return t.registrationStatus!==0?[3,7]:[4,HS(e)];case 6:return n=s.sent(),r=n.installationEntry,i=n.registrationPromise,i?[2,i]:[2,r];case 7:return[2,t]}})})}function IO(e){return Jd(e,function(t){if(!t)throw Fo.create("installation-not-found");return w3(t)})}function w3(e){return GX(e)?{fid:e.fid,registrationStatus:0}:e}function GX(e){return e.registrationStatus===1&&e.registrationTime+u3<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QX(e,t){var n=e.appConfig,r=e.platformLoggerProvider;return P(this,void 0,void 0,function(){var i,s,a,l,c,h,d,v;return A(this,function(m){switch(m.label){case 0:return i=YX(n,t),s=p3(n,t),a=r.getImmediate({optional:!0}),a&&s.append("x-firebase-client",a.getPlatformInfoString()),l={installation:{sdkVersion:l3}},c={method:"POST",headers:s,body:JSON.stringify(l)},[4,zS(function(){return fetch(i,c)})];case 1:return h=m.sent(),h.ok?[4,h.json()]:[3,3];case 2:return d=m.sent(),v=h3(d),[2,v];case 3:return[4,$S("Generate Auth Token",h)];case 4:throw m.sent()}})})}function YX(e,t){var n=t.fid;return BS(e)+"/"+n+"/authTokens:generate"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KS(e,t){return t===void 0&&(t=!1),P(this,void 0,void 0,function(){var n,r,i,s;return A(this,function(a){switch(a.label){case 0:return[4,Jd(e.appConfig,function(l){if(!E3(l))throw Fo.create("not-registered");var c=l.authToken;if(!t&&ZX(c))return l;if(c.requestStatus===1)return n=XX(e,t),l;if(!navigator.onLine)throw Fo.create("app-offline");var h=tJ(l);return n=JX(e,h),h})];case 1:return r=a.sent(),n?[4,n]:[3,3];case 2:return s=a.sent(),[3,4];case 3:s=r.authToken,a.label=4;case 4:return i=s,[2,i]}})})}function XX(e,t){return P(this,void 0,void 0,function(){var n,r;return A(this,function(i){switch(i.label){case 0:return[4,SO(e.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return n.authToken.requestStatus!==1?[3,5]:[4,v3(100)];case 3:return i.sent(),[4,SO(e.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return r=n.authToken,r.requestStatus===0?[2,KS(e,t)]:[2,r]}})})}function SO(e){return Jd(e,function(t){if(!E3(t))throw Fo.create("not-registered");var n=t.authToken;return nJ(n)?rt(rt({},t),{authToken:{requestStatus:0}}):t})}function JX(e,t){return P(this,void 0,void 0,function(){var n,i,r,i;return A(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,8]),[4,QX(e,t)];case 1:return n=s.sent(),i=rt(rt({},t),{authToken:n}),[4,vg(e.appConfig,i)];case 2:return s.sent(),[2,n];case 3:return r=s.sent(),f3(r)&&(r.customData.serverCode===401||r.customData.serverCode===404)?[4,WS(e.appConfig)]:[3,5];case 4:return s.sent(),[3,7];case 5:return i=rt(rt({},t),{authToken:{requestStatus:0}}),[4,vg(e.appConfig,i)];case 6:s.sent(),s.label=7;case 7:throw r;case 8:return[2]}})})}function E3(e){return e!==void 0&&e.registrationStatus===2}function ZX(e){return e.requestStatus===2&&!eJ(e)}function eJ(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+NX}function tJ(e){var t={requestStatus:1,requestTime:Date.now()};return rt(rt({},e),{authToken:t})}function nJ(e){return e.requestStatus===1&&e.requestTime+u3<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rJ(e){return P(this,void 0,void 0,function(){var t,n,r;return A(this,function(i){switch(i.label){case 0:return[4,HS(e.appConfig)];case 1:return t=i.sent(),n=t.installationEntry,r=t.registrationPromise,r?r.catch(console.error):KS(e).catch(console.error),[2,n.fid]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iJ(e,t){return t===void 0&&(t=!1),P(this,void 0,void 0,function(){var n;return A(this,function(r){switch(r.label){case 0:return[4,oJ(e.appConfig)];case 1:return r.sent(),[4,KS(e,t)];case 2:return n=r.sent(),[2,n.token]}})})}function oJ(e){return P(this,void 0,void 0,function(){var t;return A(this,function(n){switch(n.label){case 0:return[4,HS(e)];case 1:return t=n.sent().registrationPromise,t?[4,t]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sJ(e,t){return P(this,void 0,void 0,function(){var n,r,i,s;return A(this,function(a){switch(a.label){case 0:return n=aJ(e,t),r=p3(e,t),i={method:"DELETE",headers:r},[4,zS(function(){return fetch(n,i)})];case 1:return s=a.sent(),s.ok?[3,3]:[4,$S("Delete Installation",s)];case 2:throw a.sent();case 3:return[2]}})})}function aJ(e,t){var n=t.fid;return BS(e)+"/"+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uJ(e){return P(this,void 0,void 0,function(){var t,n;return A(this,function(r){switch(r.label){case 0:return t=e.appConfig,[4,Jd(t,function(i){if(!(i&&i.registrationStatus===0))return i})];case 1:if(n=r.sent(),!n)return[3,6];if(n.registrationStatus!==1)return[3,2];throw Fo.create("delete-pending-registration");case 2:if(n.registrationStatus!==2)return[3,6];if(navigator.onLine)return[3,3];throw Fo.create("app-offline");case 3:return[4,sJ(t,n)];case 4:return r.sent(),[4,WS(t)];case 5:r.sent(),r.label=6;case 6:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lJ(e,t){var n=e.appConfig;return jX(n,t),function(){VX(n,t)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cJ(e){var t,n;if(!e||!e.options)throw _E("App Configuration");if(!e.name)throw _E("App Name");var r=["projectId","apiKey","appId"];try{for(var i=pn(r),s=i.next();!s.done;s=i.next()){var a=s.value;if(!e.options[a])throw _E(a)}}catch(l){t={error:l}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function _E(e){return Fo.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fJ(e){var t="installations";e.INTERNAL.registerComponent(new _r(t,function(n){var r=n.getProvider("app").getImmediate(),i=cJ(r),s=n.getProvider("platform-logger"),a={appConfig:i,platformLoggerProvider:s},l={app:r,getId:function(){return rJ(a)},getToken:function(c){return iJ(a,c)},delete:function(){return uJ(a)},onIdChange:function(c){return lJ(a,c)}};return l},"PUBLIC")),e.registerVersion(CX,a3)}fJ(ue);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gt,hJ=(Gt={},Gt["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Gt["only-available-in-window"]="This method is available in a Window context.",Gt["only-available-in-sw"]="This method is available in a service worker context.",Gt["permission-default"]="The notification permission was not granted and dismissed instead.",Gt["permission-blocked"]="The notification permission was not granted and blocked instead.",Gt["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",Gt["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",Gt["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",Gt["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",Gt["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",Gt["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",Gt["token-update-no-token"]="FCM returned no token when updating the user to push.",Gt["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",Gt["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",Gt["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",Gt["invalid-vapid-key"]="The public VAPID key must be a string.",Gt["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",Gt),Qe=new Hs("messaging","Messaging",hJ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dJ="/firebase-messaging-sw.js",pJ="/firebase-cloud-messaging-push-scope",mg="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",vJ="https://fcmregistrations.googleapis.com/v1",b3="FCM_MSG",mJ="FirebaseMessaging: ",gJ="google.c.a.e",T3="google.c.a.c_id",yJ="google.c.a.ts",_J="google.c.a.c_l",wJ=1e3,EJ=3e3;/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var pu;(function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"})(pu||(pu={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wo(e){var t=new Uint8Array(e),n=btoa(String.fromCharCode.apply(String,Ne([],_n(t))));return n.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function bJ(e){for(var t="=".repeat((4-e.length%4)%4),n=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length),s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wE="fcm_token_details_db",TJ=5,CO="fcm_token_object_Store";function IJ(e){return P(this,void 0,void 0,function(){var t,n,r,i,s=this;return A(this,function(a){switch(a.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(t=a.sent(),n=t.map(function(l){return l.name}),!n.includes(wE))return[2,null];a.label=2;case 2:return r=null,[4,VS(wE,TJ,function(l){return P(s,void 0,void 0,function(){var c,h,d,d,d,v;return A(this,function(m){switch(m.label){case 0:return l.oldVersion<2?[2]:l.objectStoreNames.contains(CO)?(c=l.transaction.objectStore(CO),[4,c.index("fcmSenderId").get(e)]):[2];case 1:return h=m.sent(),[4,c.clear()];case 2:if(m.sent(),!h)return[2];if(l.oldVersion===2){if(d=h,!d.auth||!d.p256dh||!d.endpoint)return[2];r={token:d.fcmToken,createTime:(v=d.createTime)!==null&&v!==void 0?v:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:typeof d.vapidKey=="string"?d.vapidKey:wo(d.vapidKey)}}}else l.oldVersion===3?(d=h,r={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:wo(d.auth),p256dh:wo(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:wo(d.vapidKey)}}):l.oldVersion===4&&(d=h,r={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:wo(d.auth),p256dh:wo(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:wo(d.vapidKey)}});return[2]}})})})];case 3:return i=a.sent(),i.close(),[4,gE(wE)];case 4:return a.sent(),[4,gE("fcm_vapid_details_db")];case 5:return a.sent(),[4,gE("undefined")];case 6:return a.sent(),[2,SJ(r)?r:null]}})})}function SJ(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return typeof e.createTime=="number"&&e.createTime>0&&typeof e.token=="string"&&e.token.length>0&&typeof t.auth=="string"&&t.auth.length>0&&typeof t.p256dh=="string"&&t.p256dh.length>0&&typeof t.endpoint=="string"&&t.endpoint.length>0&&typeof t.swScope=="string"&&t.swScope.length>0&&typeof t.vapidKey=="string"&&t.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var CJ="firebase-messaging-database",kJ=1,vu="firebase-messaging-store",EE=null;function GS(){return EE||(EE=VS(CJ,kJ,function(e){switch(e.oldVersion){case 0:e.createObjectStore(vu)}})),EE}function gg(e){return P(this,void 0,void 0,function(){var t,n,r,i;return A(this,function(s){switch(s.label){case 0:return t=YS(e),[4,GS()];case 1:return n=s.sent(),[4,n.transaction(vu).objectStore(vu).get(t)];case 2:return r=s.sent(),r?[2,r]:[3,3];case 3:return[4,IJ(e.appConfig.senderId)];case 4:return i=s.sent(),i?[4,QS(e,i)]:[3,6];case 5:return s.sent(),[2,i];case 6:return[2]}})})}function QS(e,t){return P(this,void 0,void 0,function(){var n,r,i;return A(this,function(s){switch(s.label){case 0:return n=YS(e),[4,GS()];case 1:return r=s.sent(),i=r.transaction(vu,"readwrite"),[4,i.objectStore(vu).put(t,n)];case 2:return s.sent(),[4,i.complete];case 3:return s.sent(),[2,t]}})})}function NJ(e){return P(this,void 0,void 0,function(){var t,n,r;return A(this,function(i){switch(i.label){case 0:return t=YS(e),[4,GS()];case 1:return n=i.sent(),r=n.transaction(vu,"readwrite"),[4,r.objectStore(vu).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function YS(e){var t=e.appConfig;return t.appId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RJ(e,t){return P(this,void 0,void 0,function(){var n,r,i,s,a,l,c;return A(this,function(h){switch(h.label){case 0:return[4,JS(e)];case 1:n=h.sent(),r=S3(t),i={method:"POST",headers:n,body:JSON.stringify(r)},h.label=2;case 2:return h.trys.push([2,5,,6]),[4,fetch(XS(e.appConfig),i)];case 3:return a=h.sent(),[4,a.json()];case 4:return s=h.sent(),[3,6];case 5:throw l=h.sent(),Qe.create("token-subscribe-failed",{errorInfo:l});case 6:if(s.error)throw c=s.error.message,Qe.create("token-subscribe-failed",{errorInfo:c});if(!s.token)throw Qe.create("token-subscribe-no-token");return[2,s.token]}})})}function AJ(e,t){return P(this,void 0,void 0,function(){var n,r,i,s,a,l,c;return A(this,function(h){switch(h.label){case 0:return[4,JS(e)];case 1:n=h.sent(),r=S3(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},h.label=2;case 2:return h.trys.push([2,5,,6]),[4,fetch(XS(e.appConfig)+"/"+t.token,i)];case 3:return a=h.sent(),[4,a.json()];case 4:return s=h.sent(),[3,6];case 5:throw l=h.sent(),Qe.create("token-update-failed",{errorInfo:l});case 6:if(s.error)throw c=s.error.message,Qe.create("token-update-failed",{errorInfo:c});if(!s.token)throw Qe.create("token-update-no-token");return[2,s.token]}})})}function I3(e,t){return P(this,void 0,void 0,function(){var n,r,i,s,a,l;return A(this,function(c){switch(c.label){case 0:return[4,JS(e)];case 1:n=c.sent(),r={method:"DELETE",headers:n},c.label=2;case 2:return c.trys.push([2,5,,6]),[4,fetch(XS(e.appConfig)+"/"+t,r)];case 3:return i=c.sent(),[4,i.json()];case 4:if(s=c.sent(),s.error)throw a=s.error.message,Qe.create("token-unsubscribe-failed",{errorInfo:a});return[3,6];case 5:throw l=c.sent(),Qe.create("token-unsubscribe-failed",{errorInfo:l});case 6:return[2]}})})}function XS(e){var t=e.projectId;return vJ+"/projects/"+t+"/registrations"}function JS(e){var t=e.appConfig,n=e.installations;return P(this,void 0,void 0,function(){var r;return A(this,function(i){switch(i.label){case 0:return[4,n.getToken()];case 1:return r=i.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":"FIS "+r})]}})})}function S3(e){var t=e.p256dh,n=e.auth,r=e.endpoint,i=e.vapidKey,s={web:{endpoint:r,auth:n,p256dh:t}};return i!==mg&&(s.web.applicationPubKey=i),s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var PJ=7*24*60*60*1e3;function xb(e,t,n){return P(this,void 0,void 0,function(){var r,i,s,a;return A(this,function(l){switch(l.label){case 0:if(Notification.permission!=="granted")throw Qe.create("permission-blocked");return[4,OJ(t,n)];case 1:return r=l.sent(),[4,gg(e)];case 2:return i=l.sent(),s={vapidKey:n,swScope:t.scope,endpoint:r.endpoint,auth:wo(r.getKey("auth")),p256dh:wo(r.getKey("p256dh"))},i?[3,3]:[2,kO(e,s)];case 3:if(DJ(i.subscriptionOptions,s))return[3,8];l.label=4;case 4:return l.trys.push([4,6,,7]),[4,I3(e,i.token)];case 5:return l.sent(),[3,7];case 6:return a=l.sent(),console.warn(a),[3,7];case 7:return[2,kO(e,s)];case 8:return Date.now()>=i.createTime+PJ?[2,xJ({token:i.token,createTime:Date.now(),subscriptionOptions:s},e,t)]:[2,i.token];case 9:return[2]}})})}function Eh(e,t){return P(this,void 0,void 0,function(){var n,r;return A(this,function(i){switch(i.label){case 0:return[4,gg(e)];case 1:return n=i.sent(),n?[4,I3(e,n.token)]:[3,4];case 2:return i.sent(),[4,NJ(e)];case 3:i.sent(),i.label=4;case 4:return[4,t.pushManager.getSubscription()];case 5:return r=i.sent(),r?[2,r.unsubscribe()]:[2,!0]}})})}function xJ(e,t,n){return P(this,void 0,void 0,function(){var r,i,s;return A(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,AJ(t,e)];case 1:return r=a.sent(),i=rt(rt({},e),{token:r,createTime:Date.now()}),[4,QS(t,i)];case 2:return a.sent(),[2,r];case 3:return s=a.sent(),[4,Eh(t,n)];case 4:throw a.sent(),s;case 5:return[2]}})})}function kO(e,t){return P(this,void 0,void 0,function(){var n,r;return A(this,function(i){switch(i.label){case 0:return[4,RJ(e,t)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:t},[4,QS(e,r)];case 2:return i.sent(),[2,r.token]}})})}function OJ(e,t){return P(this,void 0,void 0,function(){var n;return A(this,function(r){switch(r.label){case 0:return[4,e.pushManager.getSubscription()];case 1:return n=r.sent(),n?[2,n]:[2,e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:bJ(t)})]}})})}function DJ(e,t){var n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,i=t.auth===e.auth,s=t.p256dh===e.p256dh;return n&&r&&i&&s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LJ(e){var t={from:e.from,collapseKey:e.collapse_key};return MJ(t,e),FJ(t,e),UJ(t,e),t}function MJ(e,t){if(t.notification){e.notification={};var n=t.notification.title;n&&(e.notification.title=n);var r=t.notification.body;r&&(e.notification.body=r);var i=t.notification.image;i&&(e.notification.image=i)}}function FJ(e,t){t.data&&(e.data=t.data)}function UJ(e,t){if(t.fcmOptions){e.fcmOptions={};var n=t.fcmOptions.link;n&&(e.fcmOptions.link=n);var r=t.fcmOptions.analytics_label;r&&(e.fcmOptions.analyticsLabel=r)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C3(e){return typeof e=="object"&&!!e&&T3 in e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NO(e){return new Promise(function(t){setTimeout(t,e)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jJ=function(){function e(t){var n=this;this.firebaseDependencies=t,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",function(r){r.waitUntil(n.onPush(r))}),self.addEventListener("pushsubscriptionchange",function(r){r.waitUntil(n.onSubChange(r))}),self.addEventListener("notificationclick",function(r){r.waitUntil(n.onNotificationClick(r))})}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.setBackgroundMessageHandler=function(t){if(this.isOnBackgroundMessageUsed=!1,!t||typeof t!="function")throw Qe.create("invalid-bg-handler");this.bgMessageHandler=t},e.prototype.onBackgroundMessage=function(t){var n=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=t,function(){n.bgMessageHandler=null}},e.prototype.getToken=function(){var t,n;return P(this,void 0,void 0,function(){var r;return A(this,function(i){switch(i.label){case 0:return this.vapidKey?[3,2]:[4,gg(this.firebaseDependencies)];case 1:r=i.sent(),this.vapidKey=(n=(t=r==null?void 0:r.subscriptionOptions)===null||t===void 0?void 0:t.vapidKey)!==null&&n!==void 0?n:mg,i.label=2;case 2:return[2,xb(this.firebaseDependencies,self.registration,this.vapidKey)]}})})},e.prototype.deleteToken=function(){return Eh(this.firebaseDependencies,self.registration)},e.prototype.requestPermission=function(){throw Qe.create("only-available-in-window")},e.prototype.usePublicVapidKey=function(t){if(this.vapidKey!==null)throw Qe.create("use-vapid-key-after-get-token");if(typeof t!="string"||t.length===0)throw Qe.create("invalid-vapid-key");this.vapidKey=t},e.prototype.useServiceWorker=function(){throw Qe.create("only-available-in-window")},e.prototype.onMessage=function(){throw Qe.create("only-available-in-window")},e.prototype.onTokenRefresh=function(){throw Qe.create("only-available-in-window")},e.prototype.onPush=function(t){return P(this,void 0,void 0,function(){var n,r,i,s;return A(this,function(a){switch(a.label){case 0:return n=BJ(t),n?[4,k3()]:(console.debug(mJ+"failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return r=a.sent(),zJ(r)?[2,qJ(r,n)]:(i=!1,n.notification?[4,WJ(VJ(n))]:[3,3]);case 2:a.sent(),i=!0,a.label=3;case 3:return i===!0&&this.isOnBackgroundMessageUsed===!1?[2]:(this.bgMessageHandler&&(s=LJ(n),typeof this.bgMessageHandler=="function"?this.bgMessageHandler(s):this.bgMessageHandler.next(s)),[4,NO(wJ)]);case 4:return a.sent(),[2]}})})},e.prototype.onSubChange=function(t){var n,r;return P(this,void 0,void 0,function(){var i,s;return A(this,function(a){switch(a.label){case 0:return i=t.newSubscription,i?[3,2]:[4,Eh(this.firebaseDependencies,self.registration)];case 1:return a.sent(),[2];case 2:return[4,gg(this.firebaseDependencies)];case 3:return s=a.sent(),[4,Eh(this.firebaseDependencies,self.registration)];case 4:return a.sent(),[4,xb(this.firebaseDependencies,self.registration,(r=(n=s==null?void 0:s.subscriptionOptions)===null||n===void 0?void 0:n.vapidKey)!==null&&r!==void 0?r:mg)];case 5:return a.sent(),[2]}})})},e.prototype.onNotificationClick=function(t){var n,r;return P(this,void 0,void 0,function(){var i,s,a,l,c;return A(this,function(h){switch(h.label){case 0:if(i=(r=(n=t.notification)===null||n===void 0?void 0:n.data)===null||r===void 0?void 0:r[b3],i){if(t.action)return[2]}else return[2];return t.stopImmediatePropagation(),t.notification.close(),s=HJ(i),s?(a=new URL(s,self.location.href),l=new URL(self.location.origin),a.host!==l.host?[2]:[4,$J(a)]):[2];case 1:return c=h.sent(),c?[3,4]:[4,self.clients.openWindow(s)];case 2:return c=h.sent(),[4,NO(EJ)];case 3:return h.sent(),[3,6];case 4:return[4,c.focus()];case 5:c=h.sent(),h.label=6;case 6:return c?(i.messageType=pu.NOTIFICATION_CLICKED,i.isFirebaseMessaging=!0,[2,c.postMessage(i)]):[2]}})})},e}();function VJ(e){var t,n=rt({},e.notification);return n.data=(t={},t[b3]=e,t),n}function BJ(e){var t=e.data;if(!t)return null;try{return t.json()}catch{return null}}function $J(e){return P(this,void 0,void 0,function(){var t,n,r,i,s,a,l;return A(this,function(c){switch(c.label){case 0:return[4,k3()];case 1:t=c.sent();try{for(n=pn(t),r=n.next();!r.done;r=n.next())if(i=r.value,s=new URL(i.url,self.location.href),e.host===s.host)return[2,i]}catch(h){a={error:h}}finally{try{r&&!r.done&&(l=n.return)&&l.call(n)}finally{if(a)throw a.error}}return[2,null]}})})}function zJ(e){return e.some(function(t){return t.visibilityState==="visible"&&!t.url.startsWith("chrome-extension://")})}function qJ(e,t){var n,r;t.isFirebaseMessaging=!0,t.messageType=pu.PUSH_RECEIVED;try{for(var i=pn(e),s=i.next();!s.done;s=i.next()){var a=s.value;a.postMessage(t)}}catch(l){n={error:l}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function k3(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function WJ(e){var t,n=e.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification((t=e.title)!==null&&t!==void 0?t:"",e)}function HJ(e){var t,n,r,i=(n=(t=e.fcmOptions)===null||t===void 0?void 0:t.link)!==null&&n!==void 0?n:(r=e.notification)===null||r===void 0?void 0:r.click_action;return i||(C3(e.data)?self.location.origin:null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var KJ=function(){function e(t){var n=this;this.firebaseDependencies=t,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",function(r){return n.messageEventListener(r)})}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.messageEventListener=function(t){return P(this,void 0,void 0,function(){var n,r;return A(this,function(i){switch(i.label){case 0:return n=t.data,n.isFirebaseMessaging?(this.onMessageCallback&&n.messageType===pu.PUSH_RECEIVED&&(typeof this.onMessageCallback=="function"?this.onMessageCallback(QJ(Object.assign({},n))):this.onMessageCallback.next(Object.assign({},n))),r=n.data,C3(r)&&r[gJ]==="1"?[4,this.logEvent(n.messageType,r)]:[3,2]):[2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.getVapidKey=function(){return this.vapidKey},e.prototype.getSwReg=function(){return this.swRegistration},e.prototype.getToken=function(t){return P(this,void 0,void 0,function(){return A(this,function(n){switch(n.label){case 0:return Notification.permission!=="default"?[3,2]:[4,Notification.requestPermission()];case 1:n.sent(),n.label=2;case 2:if(Notification.permission!=="granted")throw Qe.create("permission-blocked");return[4,this.updateVapidKey(t==null?void 0:t.vapidKey)];case 3:return n.sent(),[4,this.updateSwReg(t==null?void 0:t.serviceWorkerRegistration)];case 4:return n.sent(),[2,xb(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}})})},e.prototype.updateVapidKey=function(t){return P(this,void 0,void 0,function(){return A(this,function(n){return t?this.vapidKey=t:this.vapidKey||(this.vapidKey=mg),[2]})})},e.prototype.updateSwReg=function(t){return P(this,void 0,void 0,function(){return A(this,function(n){switch(n.label){case 0:return!t&&!this.swRegistration?[4,this.registerDefaultSw()]:[3,2];case 1:n.sent(),n.label=2;case 2:if(!t&&this.swRegistration)return[2];if(!(t instanceof ServiceWorkerRegistration))throw Qe.create("invalid-sw-registration");return this.swRegistration=t,[2]}})})},e.prototype.registerDefaultSw=function(){return P(this,void 0,void 0,function(){var t,n;return A(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),t=this,[4,navigator.serviceWorker.register(dJ,{scope:pJ})];case 1:return t.swRegistration=r.sent(),this.swRegistration.update().catch(function(){}),[3,3];case 2:throw n=r.sent(),Qe.create("failed-service-worker-registration",{browserErrorMessage:n.message});case 3:return[2]}})})},e.prototype.deleteToken=function(){return P(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:return[2,Eh(this.firebaseDependencies,this.swRegistration)]}})})},e.prototype.requestPermission=function(){return P(this,void 0,void 0,function(){var t;return A(this,function(n){switch(n.label){case 0:return Notification.permission==="granted"?[2]:[4,Notification.requestPermission()];case 1:if(t=n.sent(),t==="granted")return[2];throw t==="denied"?Qe.create("permission-blocked"):Qe.create("permission-default")}})})},e.prototype.usePublicVapidKey=function(t){if(this.vapidKey!==null)throw Qe.create("use-vapid-key-after-get-token");if(typeof t!="string"||t.length===0)throw Qe.create("invalid-vapid-key");this.vapidKey=t},e.prototype.useServiceWorker=function(t){if(!(t instanceof ServiceWorkerRegistration))throw Qe.create("invalid-sw-registration");if(this.swRegistration)throw Qe.create("use-sw-after-get-token");this.swRegistration=t},e.prototype.onMessage=function(t){var n=this;return this.onMessageCallback=t,function(){n.onMessageCallback=null}},e.prototype.setBackgroundMessageHandler=function(){throw Qe.create("only-available-in-sw")},e.prototype.onBackgroundMessage=function(){throw Qe.create("only-available-in-sw")},e.prototype.onTokenRefresh=function(){return function(){}},e.prototype.logEvent=function(t,n){return P(this,void 0,void 0,function(){var r,i;return A(this,function(s){switch(s.label){case 0:return r=GJ(t),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return i=s.sent(),i.logEvent(r,{message_id:n[T3],message_name:n[_J],message_time:n[yJ],message_device_time:Math.floor(Date.now()/1e3)}),[2]}})})},e}();function GJ(e){switch(e){case pu.NOTIFICATION_CLICKED:return"notification_open";case pu.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function QJ(e){return delete e.messageType,delete e.isFirebaseMessaging,e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YJ(e){var t,n;if(!e||!e.options)throw bE("App Configuration Object");if(!e.name)throw bE("App Name");var r=["projectId","apiKey","appId","messagingSenderId"],i=e.options;try{for(var s=pn(r),a=s.next();!a.done;a=s.next()){var l=a.value;if(!i[l])throw bE(l)}}catch(c){t={error:c}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return{appName:e.name,projectId:i.projectId,apiKey:i.apiKey,appId:i.appId,senderId:i.messagingSenderId}}function bE(e){return Qe.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var XJ="messaging";function JJ(e){var t=e.getProvider("app").getImmediate(),n=YJ(t),r=e.getProvider("installations").getImmediate(),i=e.getProvider("analytics-internal"),s={app:t,appConfig:n,installations:r,analyticsProvider:i};if(!N3())throw Qe.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new jJ(s):new KJ(s)}var ZJ={isSupported:N3};ue.INTERNAL.registerComponent(new _r(XJ,JJ,"PUBLIC").setServiceProps(ZJ));function N3(){return self&&"ServiceWorkerGlobalScope"in self?tZ():eZ()}function eZ(){return"indexedDB"in window&&indexedDB!==null&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function tZ(){return"indexedDB"in self&&indexedDB!==null&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var R3="firebasestorage.googleapis.com",A3="storageBucket",nZ=2*60*1e3,rZ=10*60*1e3,Ht=function(e){J(t,e);function t(n,r){var i=e.call(this,TE(n),"Firebase Storage: "+r+" ("+TE(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,t.prototype),i}return t.prototype._codeEquals=function(n){return TE(n)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(n){this.customData.serverResponse=n,this.customData.serverResponse?this.message=this._baseMessage+`
`+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),t}(Cc);function TE(e){return"storage/"+e}function ZS(){var e="An unknown error occurred, please check the error payload for server response.";return new Ht("unknown",e)}function iZ(e){return new Ht("object-not-found","Object '"+e+"' does not exist.")}function oZ(e){return new Ht("quota-exceeded","Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function sZ(){var e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ht("unauthenticated",e)}function aZ(){return new Ht("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function uZ(e){return new Ht("unauthorized","User does not have permission to access '"+e+"'.")}function lZ(){return new Ht("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function P3(){return new Ht("canceled","User canceled the upload/download.")}function cZ(e){return new Ht("invalid-url","Invalid URL '"+e+"'.")}function fZ(e){return new Ht("invalid-default-bucket","Invalid default bucket '"+e+"'.")}function hZ(){return new Ht("no-default-bucket","No default bucket found. Did you set the '"+A3+"' property when initializing the app?")}function x3(){return new Ht("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function dZ(){return new Ht("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function pZ(){return new Ht("no-download-url","The given file does not have any download URLs.")}function Ya(e){return new Ht("invalid-argument",e)}function O3(){return new Ht("app-deleted","The Firebase app was deleted.")}function D3(e){return new Ht("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function bh(e,t){return new Ht("invalid-format","String does not match format '"+e+"': "+t)}function Rv(e){throw new Ht("internal-error","Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},IE=function(){function e(t,n){this.data=t,this.contentType=n||null}return e}();function L3(e,t){switch(e){case Jr.RAW:return new IE(M3(t));case Jr.BASE64:case Jr.BASE64URL:return new IE(F3(e,t));case Jr.DATA_URL:return new IE(mZ(t),gZ(t))}throw ZS()}function M3(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296){var i=n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320;if(!i)t.push(239,191,189);else{var s=r,a=e.charCodeAt(++n);r=65536|(s&1023)<<10|a&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function vZ(e){var t;try{t=decodeURIComponent(e)}catch{throw bh(Jr.DATA_URL,"Malformed data URL.")}return M3(t)}function F3(e,t){switch(e){case Jr.BASE64:{var n=t.indexOf("-")!==-1,r=t.indexOf("_")!==-1;if(n||r){var i=n?"-":"_";throw bh(e,"Invalid character '"+i+"' found: is it base64url encoded?")}break}case Jr.BASE64URL:{var s=t.indexOf("+")!==-1,a=t.indexOf("/")!==-1;if(s||a){var i=s?"+":"/";throw bh(e,"Invalid character '"+i+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}var l;try{l=atob(t)}catch{throw bh(e,"Invalid character found")}for(var c=new Uint8Array(l.length),h=0;h<l.length;h++)c[h]=l.charCodeAt(h);return c}var U3=function(){function e(t){this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(n===null)throw bh(Jr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;r!=null&&(this.base64=yZ(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}return e}();function mZ(e){var t=new U3(e);return t.base64?F3(Jr.BASE64,t.rest):vZ(t.rest)}function gZ(e){var t=new U3(e);return t.contentType}function yZ(e,t){var n=e.length>=t.length;return n?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _Z={STATE_CHANGED:"state_changed"},Wn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function SE(e){switch(e){case"running":case"pausing":case"canceling":return Wn.RUNNING;case"paused":return Wn.PAUSED;case"success":return Wn.SUCCESS;case"canceled":return Wn.CANCELED;case"error":return Wn.ERROR;default:return Wn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xa;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(Xa||(Xa={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wZ=function(){function e(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Xa.NO_ERROR,this.sendPromise_=new Promise(function(n){t.xhr_.addEventListener("abort",function(){t.errorCode_=Xa.ABORT,n(t)}),t.xhr_.addEventListener("error",function(){t.errorCode_=Xa.NETWORK_ERROR,n(t)}),t.xhr_.addEventListener("load",function(){n(t)})})}return e.prototype.send=function(t,n,r,i){if(this.sent_)throw Rv("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),i!==void 0)for(var s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw Rv("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw Rv("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw Rv("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},e.prototype.addUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)},e.prototype.removeUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var EZ=function(){function e(){}return e.prototype.createXhrIo=function(){return new wZ},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zr=function(){function e(t,n){this.bucket=t,this.path_=n}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return this.path.length===0},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},e.prototype.bucketOnlyServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch{return new e(t,"")}if(r.path==="")return r;throw fZ(t)},e.makeFromUrl=function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";function s(te){te.path.charAt(te.path.length-1)==="/"&&(te.path_=te.path_.slice(0,-1))}var a="(/(.*))?$",l=new RegExp("^gs://"+i+a,"i"),c={bucket:1,path:3};function h(te){te.path_=decodeURIComponent(te.path)}for(var d="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",y=new RegExp("^https?://"+v+"/"+d+"/b/"+i+"/o"+m,"i"),_={bucket:1,path:3},E=n===R3?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",b=new RegExp("^https?://"+E+"/"+i+"/"+S,"i"),I={bucket:1,path:2},k=[{regex:l,indices:c,postModify:s},{regex:y,indices:_,postModify:h},{regex:b,indices:I,postModify:h}],C=0;C<k.length;C++){var x=k[C],O=x.regex.exec(t);if(O){var V=O[x.indices.bucket],M=O[x.indices.path];M||(M=""),r=new e(V,M),x.postModify(r);break}}if(r==null)throw cZ(t);return r},e}(),bZ=function(){function e(t){this.promise_=Promise.reject(t)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TZ(e,t,n){var r=1,i=null,s=!1,a=0;function l(){return a===2}var c=!1;function h(){for(var _=[],E=0;E<arguments.length;E++)_[E]=arguments[E];c||(c=!0,t.apply(null,_))}function d(_){i=setTimeout(function(){i=null,e(v,l())},_)}function v(_){for(var E=[],S=1;S<arguments.length;S++)E[S-1]=arguments[S];if(!c){if(_){h.call.apply(h,Ne([null,_],E));return}var b=l()||s;if(b){h.call.apply(h,Ne([null,_],E));return}r<64&&(r*=2);var I;a===1?(a=2,I=0):I=(r+Math.random())*1e3,d(I)}}var m=!1;function y(_){m||(m=!0,!c&&(i!==null?(_||(a=2),clearTimeout(i),d(0)):_||(a=1)))}return d(0),setTimeout(function(){s=!0,y(!0)},n),y}function IZ(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SZ(e){return e!==void 0}function CZ(e){return typeof e=="function"}function kZ(e){return typeof e=="object"&&!Array.isArray(e)}function My(e){return typeof e=="string"||e instanceof String}function RO(e){return eC()&&e instanceof Blob}function eC(){return typeof Blob<"u"}function Ob(e,t,n,r){if(r<t)throw Ya("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw Ya("Invalid value for '"+e+"'. Expected "+n+" or less.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Js(e,t){var n=t.match(/^(\w+):\/\/.+/),r=n==null?void 0:n[1],i=t;return r==null&&(i="https://"+t),i+"/v0"+e}function j3(e){var t=encodeURIComponent,n="?";for(var r in e)if(e.hasOwnProperty(r)){var i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var NZ=function(){function e(t,n,r,i,s,a,l,c,h,d,v){var m=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s.slice(),this.additionalRetryCodes_=a.slice(),this.callback_=l,this.errorCallback_=c,this.progressCallback_=d,this.timeout_=h,this.pool_=v,this.promise_=new Promise(function(y,_){m.resolve_=y,m.reject_=_,m.start_()})}return e.prototype.start_=function(){var t=this;function n(i,s){if(s){i(!1,new Av(!1,null,!0));return}var a=t.pool_.createXhrIo();t.pendingXhr_=a;function l(c){var h=c.loaded,d=c.lengthComputable?c.total:-1;t.progressCallback_!==null&&t.progressCallback_(h,d)}t.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(t.url_,t.method_,t.body_,t.headers_).then(function(c){t.progressCallback_!==null&&c.removeUploadProgressListener(l),t.pendingXhr_=null,c=c;var h=c.getErrorCode()===Xa.NO_ERROR,d=c.getStatus();if(!h||t.isRetryStatusCode_(d)){var v=c.getErrorCode()===Xa.ABORT;i(!1,new Av(!1,null,v));return}var m=t.successCodes_.indexOf(d)!==-1;i(!0,new Av(m,c))})}function r(i,s){var a=t.resolve_,l=t.reject_,c=s.xhr;if(s.wasSuccessCode)try{var h=t.callback_(c,c.getResponseText());SZ(h)?a(h):a()}catch(v){l(v)}else if(c!==null){var d=ZS();d.serverResponse=c.getResponseText(),t.errorCallback_?l(t.errorCallback_(c,d)):l(d)}else if(s.canceled){var d=t.appDelete_?O3():P3();l(d)}else{var d=lZ();l(d)}}this.canceled_?r(!1,new Av(!1,null,!0)):this.backoffId_=TZ(n,r,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&IZ(this.backoffId_),this.pendingXhr_!==null&&this.pendingXhr_.abort()},e.prototype.isRetryStatusCode_=function(t){var n=t>=500&&t<600,r=[408,429],i=r.indexOf(t)!==-1,s=this.additionalRetryCodes_.indexOf(t)!==-1;return n||i||s},e}(),Av=function(){function e(t,n,r){this.wasSuccessCode=t,this.xhr=n,this.canceled=!!r}return e}();function RZ(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function AZ(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function PZ(e,t){t&&(e["X-Firebase-GMPID"]=t)}function xZ(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function OZ(e,t,n,r,i,s){var a=j3(e.urlParams),l=e.url+a,c=Object.assign({},e.headers);return PZ(c,t),RZ(c,n),AZ(c,s),xZ(c,r),new NZ(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DZ(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function LZ(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=DZ();if(n!==void 0){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}else{if(eC())return new Blob(e);throw new Ht("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function MZ(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tC=function(){function e(t,n){var r=0,i="";RO(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(RO(this.data_)){var r=this.data_,i=MZ(r,t,n);return i===null?null:new e(i)}else{var s=new Uint8Array(this.data_.buffer,t,n-t);return new e(s,!0)}},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(eC()){var r=t.map(function(c){return c instanceof e?c.data_:c});return new e(LZ.apply(null,r))}else{var i=t.map(function(c){return My(c)?L3(Jr.RAW,c).data:c.data_}),s=0;i.forEach(function(c){s+=c.byteLength});var a=new Uint8Array(s),l=0;return i.forEach(function(c){for(var h=0;h<c.length;h++)a[l++]=c[h]}),new e(a,!0)}},e.prototype.uploadData=function(){return this.data_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nC(e){var t;try{t=JSON.parse(e)}catch{return null}return kZ(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FZ(e){if(e.length===0)return null;var t=e.lastIndexOf("/");if(t===-1)return"";var n=e.slice(0,t);return n}function UZ(e,t){var n=t.split("/").filter(function(r){return r.length>0}).join("/");return e.length===0?n:e+"/"+n}function V3(e){var t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jZ(e,t){return t}var Bn=function(){function e(t,n,r,i){this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||jZ}return e}(),Pv=null;function VZ(e){return!My(e)||e.length<2?e:V3(e)}function Fy(){if(Pv)return Pv;var e=[];e.push(new Bn("bucket")),e.push(new Bn("generation")),e.push(new Bn("metageneration")),e.push(new Bn("name","fullPath",!0));function t(s,a){return VZ(a)}var n=new Bn("name");n.xform=t,e.push(n);function r(s,a){return a!==void 0?Number(a):a}var i=new Bn("size");return i.xform=r,e.push(i),e.push(new Bn("timeCreated")),e.push(new Bn("updated")),e.push(new Bn("md5Hash",null,!0)),e.push(new Bn("cacheControl",null,!0)),e.push(new Bn("contentDisposition",null,!0)),e.push(new Bn("contentEncoding",null,!0)),e.push(new Bn("contentLanguage",null,!0)),e.push(new Bn("contentType",null,!0)),e.push(new Bn("metadata","customMetadata",!0)),Pv=e,Pv}function BZ(e,t){function n(){var r=e.bucket,i=e.fullPath,s=new Zr(r,i);return t._makeStorageReference(s)}Object.defineProperty(e,"ref",{get:n})}function $Z(e,t,n){var r={};r.type="file";for(var i=n.length,s=0;s<i;s++){var a=n[s];r[a.local]=a.xform(r,t[a.server])}return BZ(r,e),r}function B3(e,t,n){var r=nC(t);if(r===null)return null;var i=r;return $Z(e,i,n)}function zZ(e,t,n){var r=nC(t);if(r===null||!My(r.downloadTokens))return null;var i=r.downloadTokens;if(i.length===0)return null;var s=encodeURIComponent,a=i.split(","),l=a.map(function(c){var h=e.bucket,d=e.fullPath,v="/b/"+s(h)+"/o/"+s(d),m=Js(v,n),y=j3({alt:"media",token:c});return m+y});return l[0]}function rC(e,t){for(var n={},r=t.length,i=0;i<r;i++){var s=t[i];s.writable&&(n[s.server]=e[s.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var AO="prefixes",PO="items";function qZ(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[AO])for(var i=0,s=n[AO];i<s.length;i++){var a=s[i],l=a.replace(/\/$/,""),c=e._makeStorageReference(new Zr(t,l));r.prefixes.push(c)}if(n[PO])for(var h=0,d=n[PO];h<d.length;h++){var v=d[h],c=e._makeStorageReference(new Zr(t,v.name));r.items.push(c)}return r}function WZ(e,t,n){var r=nC(n);if(r===null)return null;var i=r;return qZ(e,t,i)}var zo=function(){function e(t,n,r,i){this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zi(e){if(!e)throw ZS()}function Uy(e,t){function n(r,i){var s=B3(e,i,t);return Zi(s!==null),s}return n}function HZ(e,t){function n(r,i){var s=WZ(e,t,i);return Zi(s!==null),s}return n}function KZ(e,t){function n(r,i){var s=B3(e,i,t);return Zi(s!==null),zZ(s,i,e.host)}return n}function zc(e){function t(n,r){var i;return n.getStatus()===401?n.getResponseText().includes("Firebase App Check token is invalid")?i=aZ():i=sZ():n.getStatus()===402?i=oZ(e.bucket):n.getStatus()===403?i=uZ(e.path):i=r,i.serverResponse=r.serverResponse,i}return t}function jy(e){var t=zc(e);function n(r,i){var s=t(r,i);return r.getStatus()===404&&(s=iZ(e.path)),s.serverResponse=i.serverResponse,s}return n}function $3(e,t,n){var r=t.fullServerUrl(),i=Js(r,e.host),s="GET",a=e.maxOperationRetryTime,l=new zo(i,s,Uy(e,n),a);return l.errorHandler=jy(t),l}function GZ(e,t,n,r,i){var s={};t.isRoot?s.prefix="":s.prefix=t.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);var a=t.bucketOnlyServerUrl(),l=Js(a,e.host),c="GET",h=e.maxOperationRetryTime,d=new zo(l,c,HZ(e,t.bucket),h);return d.urlParams=s,d.errorHandler=zc(t),d}function QZ(e,t,n){var r=t.fullServerUrl(),i=Js(r,e.host),s="GET",a=e.maxOperationRetryTime,l=new zo(i,s,KZ(e,n),a);return l.errorHandler=jy(t),l}function YZ(e,t,n,r){var i=t.fullServerUrl(),s=Js(i,e.host),a="PATCH",l=rC(n,r),c={"Content-Type":"application/json; charset=utf-8"},h=e.maxOperationRetryTime,d=new zo(s,a,Uy(e,r),h);return d.headers=c,d.body=l,d.errorHandler=jy(t),d}function XZ(e,t){var n=t.fullServerUrl(),r=Js(n,e.host),i="DELETE",s=e.maxOperationRetryTime;function a(c,h){}var l=new zo(r,i,a,s);return l.successCodes=[200,204],l.errorHandler=jy(t),l}function JZ(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function z3(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=JZ(null,t)),r}function ZZ(e,t,n,r,i){var s=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function l(){for(var k="",C=0;C<2;C++)k=k+Math.random().toString().slice(2);return k}var c=l();a["Content-Type"]="multipart/related; boundary="+c;var h=z3(t,r,i),d=rC(h,n),v="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+c+`\r
Content-Type: `+h.contentType+`\r
\r
`,m=`\r
--`+c+"--",y=tC.getBlob(v,r,m);if(y===null)throw x3();var _={name:h.fullPath},E=Js(s,e.host),S="POST",b=e.maxUploadRetryTime,I=new zo(E,S,Uy(e,n),b);return I.urlParams=_,I.headers=a,I.body=y.uploadData(),I.errorHandler=zc(t),I}var yg=function(){function e(t,n,r,i){this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}return e}();function iC(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch{Zi(!1)}var r=t||["active"];return Zi(!!n&&r.indexOf(n)!==-1),n}function eee(e,t,n,r,i){var s=t.bucketOnlyServerUrl(),a=z3(t,r,i),l={name:a.fullPath},c=Js(s,e.host),h="POST",d={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},v=rC(a,n),m=e.maxUploadRetryTime;function y(E){iC(E);var S;try{S=E.getResponseHeader("X-Goog-Upload-URL")}catch{Zi(!1)}return Zi(My(S)),S}var _=new zo(c,h,y,m);return _.urlParams=l,_.headers=d,_.body=v,_.errorHandler=zc(t),_}function tee(e,t,n,r){var i={"X-Goog-Upload-Command":"query"};function s(h){var d=iC(h,["active","final"]),v=null;try{v=h.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Zi(!1)}v||Zi(!1);var m=Number(v);return Zi(!isNaN(m)),new yg(m,r.size(),d==="final")}var a="POST",l=e.maxUploadRetryTime,c=new zo(n,a,s,l);return c.headers=i,c.errorHandler=zc(t),c}var xO=256*1024;function nee(e,t,n,r,i,s,a,l){var c=new yg(0,0);if(a?(c.current=a.current,c.total=a.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw dZ();var h=c.total-c.current,d=h;i>0&&(d=Math.min(d,i));var v=c.current,m=v+d,y=d===h?"upload, finalize":"upload",_={"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":c.current},E=r.slice(v,m);if(E===null)throw x3();function S(C,x){var O=iC(C,["active","final"]),V=c.current+d,M=r.size(),te;return O==="final"?te=Uy(t,s)(C,x):te=null,new yg(V,M,O==="final",te)}var b="POST",I=t.maxUploadRetryTime,k=new zo(n,b,S,I);return k.headers=_,k.body=E.uploadData(),k.progressCallback=l||null,k.errorHandler=zc(e),k}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ree=function(){function e(t,n,r){var i=CZ(t)||n!=null||r!=null;if(i)this.next=t,this.error=n,this.complete=r;else{var s=t;this.next=s.next,this.error=s.error,this.complete=s.complete}}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ul(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then(function(){return e.apply(void 0,t)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var q3=function(){function e(t,n,r){var i=this;r===void 0&&(r=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=r,this._mappings=Fy(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(s){i._request=void 0,i._chunkMultiplier=1,s._codeEquals("canceled")?(i._needToFetchStatus=!0,i.completeTransitions_()):(i._error=s,i._transition("error"))},this._metadataErrorHandler=function(s){i._request=void 0,s._codeEquals("canceled")?i.completeTransitions_():(i._error=s,i._transition("error"))},this._promise=new Promise(function(s,a){i._resolve=s,i._reject=a,i._start()}),this._promise.then(null,function(){})}return e.prototype._makeProgressCallback=function(){var t=this,n=this._transferred;return function(r){return t._updateProgress(n+r)}},e.prototype._shouldDoResumable=function(t){return t.size()>256*1024},e.prototype._start=function(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(t){var n=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(r){var i=r[0],s=r[1];switch(n._state){case"running":t(i,s);break;case"canceling":n._transition("canceled");break;case"pausing":n._transition("paused");break}})},e.prototype._createResumable=function(){var t=this;this._resolveToken(function(n,r){var i=eee(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),s=t._ref.storage._makeRequest(i,n,r);t._request=s,s.getPromise().then(function(a){t._request=void 0,t._uploadUrl=a,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},e.prototype._fetchStatus=function(){var t=this,n=this._uploadUrl;this._resolveToken(function(r,i){var s=tee(t._ref.storage,t._ref._location,n,t._blob),a=t._ref.storage._makeRequest(s,r,i);t._request=a,a.getPromise().then(function(l){l=l,t._request=void 0,t._updateProgress(l.current),t._needToFetchStatus=!1,l.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},e.prototype._continueUpload=function(){var t=this,n=xO*this._chunkMultiplier,r=new yg(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken(function(s,a){var l;try{l=nee(t._ref._location,t._ref.storage,i,t._blob,n,t._mappings,r,t._makeProgressCallback())}catch(h){t._error=h,t._transition("error");return}var c=t._ref.storage._makeRequest(l,s,a);t._request=c,c.getPromise().then(function(h){t._increaseMultiplier(),t._request=void 0,t._updateProgress(h.current),h.finalized?(t._metadata=h.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},e.prototype._increaseMultiplier=function(){var t=xO*this._chunkMultiplier;t<32*1024*1024&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(n,r){var i=$3(t._ref.storage,t._ref._location,t._mappings),s=t._ref.storage._makeRequest(i,n,r);t._request=s,s.getPromise().then(function(a){t._request=void 0,t._metadata=a,t._transition("success")},t._metadataErrorHandler)})},e.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(n,r){var i=ZZ(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),s=t._ref.storage._makeRequest(i,n,r);t._request=s,s.getPromise().then(function(a){t._request=void 0,t._metadata=a,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},e.prototype._updateProgress=function(t){var n=this._transferred;this._transferred=t,this._transferred!==n&&this._notifyObservers()},e.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":this._state=t,this._request!==void 0&&this._request.cancel();break;case"pausing":this._state=t,this._request!==void 0&&this._request.cancel();break;case"running":var n=this._state==="paused";this._state=t,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=P3(),this._state=t,this._notifyObservers();break;case"error":this._state=t,this._notifyObservers();break;case"success":this._state=t,this._notifyObservers();break}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var t=SE(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(t,n,r,i){var s=this,a=new ree(n,r,i);return this._addObserver(a),function(){s._removeObserver(a)}},e.prototype.then=function(t,n){return this._promise.then(t,n)},e.prototype.catch=function(t){return this.then(null,t)},e.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},e.prototype._removeObserver=function(t){var n=this._observers.indexOf(t);n!==-1&&this._observers.splice(n,1)},e.prototype._notifyObservers=function(){var t=this;this._finishPromise();var n=this._observers.slice();n.forEach(function(r){t._notifyObserver(r)})},e.prototype._finishPromise=function(){if(this._resolve!==void 0){var t=!0;switch(SE(this._state)){case Wn.SUCCESS:ul(this._resolve.bind(null,this.snapshot))();break;case Wn.CANCELED:case Wn.ERROR:var n=this._reject;ul(n.bind(null,this._error))();break;default:t=!1;break}t&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(t){var n=SE(this._state);switch(n){case Wn.RUNNING:case Wn.PAUSED:t.next&&ul(t.next.bind(t,this.snapshot))();break;case Wn.SUCCESS:t.complete&&ul(t.complete.bind(t))();break;case Wn.CANCELED:case Wn.ERROR:t.error&&ul(t.error.bind(t,this._error))();break;default:t.error&&ul(t.error.bind(t,this._error))()}},e.prototype.resume=function(){var t=this._state==="paused"||this._state==="pausing";return t&&this._transition("running"),t},e.prototype.pause=function(){var t=this._state==="running";return t&&this._transition("pausing"),t},e.prototype.cancel=function(){var t=this._state==="running"||this._state==="pausing";return t&&this._transition("canceling"),t},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vy=function(){function e(t,n){this._service=t,n instanceof Zr?this._location=n:this._location=Zr.makeFromUrl(n,t.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var t=new Zr(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return V3(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=FZ(this._location.path);if(t===null)return null;var n=new Zr(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(t){if(this._location.path==="")throw D3(t)},e}();function iee(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new q3(e,new tC(t),n)}function oee(e){var t={prefixes:[],items:[]};return W3(e,t).then(function(){return t})}function W3(e,t,n){return P(this,void 0,void 0,function(){var r,i,s,a;return A(this,function(l){switch(l.label){case 0:return r={pageToken:n},[4,H3(e,r)];case 1:return i=l.sent(),(s=t.prefixes).push.apply(s,i.prefixes),(a=t.items).push.apply(a,i.items),i.nextPageToken==null?[3,3]:[4,W3(e,t,i.nextPageToken)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function H3(e,t){return P(this,void 0,void 0,function(){var n,r;return A(this,function(i){switch(i.label){case 0:return t!=null&&typeof t.maxResults=="number"&&Ob("options.maxResults",1,1e3,t.maxResults),n=t||{},r=GZ(e.storage,e._location,"/",n.pageToken,n.maxResults),[4,e.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}})})}function see(e){return P(this,void 0,void 0,function(){var t;return A(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=$3(e.storage,e._location,Fy()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function aee(e,t){return P(this,void 0,void 0,function(){var n;return A(this,function(r){switch(r.label){case 0:return e._throwIfRoot("updateMetadata"),n=YZ(e.storage,e._location,t,Fy()),[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}})})}function uee(e){return P(this,void 0,void 0,function(){var t;return A(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getDownloadURL"),t=QZ(e.storage,e._location,Fy()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise().then(function(r){if(r===null)throw pZ();return r})]}})})}function lee(e){return P(this,void 0,void 0,function(){var t;return A(this,function(n){switch(n.label){case 0:return e._throwIfRoot("deleteObject"),t=XZ(e.storage,e._location),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function K3(e,t){var n=UZ(e._location.path,t),r=new Zr(e._location.bucket,n);return new Vy(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Db(e){return/^[A-Za-z]+:\/\//.test(e)}function cee(e,t){return new Vy(e,t)}function G3(e,t){if(e instanceof By){var n=e;if(n._bucket==null)throw hZ();var r=new Vy(n,n._bucket);return t!=null?G3(r,t):r}else if(t!==void 0){if(t.includes(".."))throw Ya('`path` param cannot contain ".."');return K3(e,t)}else return e}function fee(e,t){if(t&&Db(t)){if(e instanceof By)return cee(e,t);throw Ya("To use ref(service, url), the first argument must be a Storage instance.")}else return G3(e,t)}function OO(e,t){var n=t==null?void 0:t[A3];return n==null?null:Zr.makeFromBucketSpec(n,e)}function hee(e,t,n){e.host="http://"+t+":"+n}var By=function(){function e(t,n,r,i,s,a){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._pool=i,this._url=s,this._firebaseVersion=a,this._bucket=null,this._host=R3,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=nZ,this._maxUploadRetryTime=rZ,this._requests=new Set,s!=null?this._bucket=Zr.makeFromBucketSpec(s,this._host):this._bucket=OO(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,this._url!=null?this._bucket=Zr.makeFromBucketSpec(this._url,t):this._bucket=OO(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){Ob("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){Ob("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return P(this,void 0,void 0,function(){var t,n;return A(this,function(r){switch(r.label){case 0:return t=this._authProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:if(n=r.sent(),n!==null)return[2,n.accessToken];r.label=2;case 2:return[2,null]}})})},e.prototype._getAppCheckToken=function(){return P(this,void 0,void 0,function(){var t,n;return A(this,function(r){switch(r.label){case 0:return t=this._appCheckProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:return n=r.sent(),[2,n.token];case 2:return[2,null]}})})},e.prototype._delete=function(){return this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear(),Promise.resolve()},e.prototype._makeStorageReference=function(t){return new Vy(this,t)},e.prototype._makeRequest=function(t,n,r){var i=this;if(this._deleted)return new bZ(O3());var s=OZ(t,this._appId,n,r,this._pool,this._firebaseVersion);return this._requests.add(s),s.getPromise().then(function(){return i._requests.delete(s)},function(){return i._requests.delete(s)}),s},e.prototype.makeRequestWithTokens=function(t){return P(this,void 0,void 0,function(){var n,r,i;return A(this,function(s){switch(s.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return n=s.sent(),r=n[0],i=n[1],[2,this._makeRequest(t,r,i)]}})})},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dee(e,t,n){return e=Te(e),iee(e,t,n)}function pee(e){return e=Te(e),see(e)}function vee(e,t){return e=Te(e),aee(e,t)}function mee(e,t){return e=Te(e),H3(e,t)}function gee(e){return e=Te(e),oee(e)}function yee(e){return e=Te(e),uee(e)}function _ee(e){return e=Te(e),lee(e)}function DO(e,t){return e=Te(e),fee(e,t)}function wee(e,t){return K3(e,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xv=function(){function e(t,n,r){this._delegate=t,this.task=n,this.ref=r}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LO=function(){function e(t,n){this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new xv(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(t,n){var r=this;return this._delegate.then(function(i){if(t)return t(new xv(i,r,r._ref))},n)},e.prototype.on=function(t,n,r,i){var s=this,a=void 0;return n&&(typeof n=="function"?a=function(l){return n(new xv(l,s,s._ref))}:a={next:n.next?function(l){return n.next(new xv(l,s,s._ref))}:void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(t,a,r||void 0,i||void 0)},e}(),MO=function(){function e(t,n){this._delegate=t,this._service=n}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(n){return new gd(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(n){return new gd(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gd=function(){function e(t,n){this._delegate=t,this.storage=n}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){var n=wee(this._delegate,t);return new e(n,this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t==null?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(t,n){return this._throwIfRoot("put"),new LO(dee(this._delegate,t,n),this)},e.prototype.putString=function(t,n,r){n===void 0&&(n=Jr.RAW),this._throwIfRoot("putString");var i=L3(n,t),s=rt({},r);return s.contentType==null&&i.contentType!=null&&(s.contentType=i.contentType),new LO(new q3(this._delegate,new tC(i.data,!0),s),this)},e.prototype.listAll=function(){var t=this;return gee(this._delegate).then(function(n){return new MO(n,t.storage)})},e.prototype.list=function(t){var n=this;return mee(this._delegate,t||void 0).then(function(r){return new MO(r,n.storage)})},e.prototype.getMetadata=function(){return pee(this._delegate)},e.prototype.updateMetadata=function(t){return vee(this._delegate,t)},e.prototype.getDownloadURL=function(){return yee(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),_ee(this._delegate)},e.prototype._throwIfRoot=function(t){if(this._delegate._location.path==="")throw D3(t)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Eee=function(){function e(t,n){var r=this;this.app=t,this._delegate=n,this.INTERNAL={delete:function(){return r._delegate._delete()}}}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(t){if(Db(t))throw Ya("ref() expected a child path but got a URL, use refFromURL instead.");return new gd(DO(this._delegate,t),this)},e.prototype.refFromURL=function(t){if(!Db(t))throw Ya("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Zr.makeFromUrl(t,this._delegate.host)}catch{throw Ya("refFromUrl() expected a valid full URL but got an invalid one.")}return new gd(DO(this._delegate,t),this)},e.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},e.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},e.prototype.useEmulator=function(t,n){hee(this._delegate,t,n)},e}(),bee="@firebase/storage",Tee="0.5.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Iee="storage";function See(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal"),a=new Eee(r,new By(r,i,s,new EZ,n,ue.SDK_VERSION));return a}function Cee(e){var t={TaskState:Wn,TaskEvent:_Z,StringFormat:Jr,Storage:By,Reference:gd};e.INTERNAL.registerComponent(new _r(Iee,See,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion(bee,Tee)}Cee(ue);var kee="@firebase/performance",Q3="0.4.12";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Y3=Q3,Nee="FB-PERF-TRACE-START",Ree="FB-PERF-TRACE-STOP",Lb="FB-PERF-TRACE-MEASURE",X3="_wt_",J3="_fp",Z3="_fcp",ej="_fid",tj="@firebase/performance/config",nj="@firebase/performance/configexpire",Aee="performance",rj="Performance";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mn,Pee=(mn={},mn["trace started"]="Trace {$traceName} was started before.",mn["trace stopped"]="Trace {$traceName} is not running.",mn["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",mn["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",mn["no window"]="Window is not available.",mn["no app id"]="App id is not available.",mn["no project id"]="Project id is not available.",mn["no api key"]="Api key is not available.",mn["invalid cc log"]="Attempted to queue invalid cc event",mn["FB not default"]="Performance can only start when Firebase app instance is the default one.",mn["RC response not ok"]="RC response is not ok",mn["invalid attribute name"]="Attribute name {$attributeName} is invalid.",mn["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",mn["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",mn["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",mn),Rn=new Hs(Aee,rj,Pee);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Uo=new kc(rj);Uo.logLevel=ke.INFO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var CE,ij,Ln=function(){function e(t){if(this.window=t,!t)throw Rn.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay)}return e.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},e.prototype.mark=function(t){!this.performance||!this.performance.mark||this.performance.mark(t)},e.prototype.measure=function(t,n,r){!this.performance||!this.performance.measure||this.performance.measure(t,n,r)},e.prototype.getEntriesByType=function(t){return!this.performance||!this.performance.getEntriesByType?[]:this.performance.getEntriesByType(t)},e.prototype.getEntriesByName=function(t){return!this.performance||!this.performance.getEntriesByName?[]:this.performance.getEntriesByName(t)},e.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},e.prototype.requiredApisAvailable=function(){return!fetch||!Promise||!this.navigator||!this.navigator.cookieEnabled?(Uo.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1):jT()?!0:(Uo.info("IndexedDB is not supported by current browswer"),!1)},e.prototype.setupObserver=function(t,n){if(this.PerformanceObserver){var r=new this.PerformanceObserver(function(i){for(var s=0,a=i.getEntries();s<a.length;s++){var l=a[s];n(l)}});r.observe({entryTypes:[t]})}},e.getInstance=function(){return CE===void 0&&(CE=new e(ij)),CE},e}();function xee(e){ij=e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FO(e,t){var n=e.length-t.length;if(n<0||n>1)throw Rn.create("invalid String merger input");for(var r=[],i=0;i<e.length;i++)r.push(e.charAt(i)),t.length>i&&r.push(t.charAt(i));return r.join("")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kE,Zt=function(){function e(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=FO("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=FO("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return e.prototype.getAppId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!t)throw Rn.create("no app id");return t},e.prototype.getProjectId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!t)throw Rn.create("no project id");return t},e.prototype.getApiKey=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!t)throw Rn.create("no api key");return t},e.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},e.getInstance=function(){return kE===void 0&&(kE=new e),kE},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oj;function Oee(){var e=Zt.getInstance().installationsService.getId();return e.then(function(t){oj=t}),e}function oC(){return oj}function Dee(){var e=Zt.getInstance().installationsService.getToken();return e.then(function(t){}),e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jl;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.VISIBLE=1]="VISIBLE",e[e.HIDDEN=2]="HIDDEN"})(jl||(jl={}));var Lee=["firebase_","google_","ga_"],Mee=new RegExp("^[a-zA-Z]\\w*$"),Fee=40,Uee=100;function jee(){var e=Ln.getInstance().navigator;return"serviceWorker"in e?e.serviceWorker.controller?2:3:1}function sj(){var e=Ln.getInstance().document,t=e.visibilityState;switch(t){case"visible":return jl.VISIBLE;case"hidden":return jl.HIDDEN;default:return jl.UNKNOWN}}function Vee(){var e=Ln.getInstance().navigator,t=e.connection,n=t&&t.effectiveType;switch(n){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function Bee(e){if(e.length===0||e.length>Fee)return!1;var t=Lee.some(function(n){return e.startsWith(n)});return!t&&!!e.match(Mee)}function $ee(e){return e.length!==0&&e.length<=Uee}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zee="0.0.1",qee={loggingEnabled:!0},Wee="FIREBASE_INSTALLATIONS_AUTH";function Hee(e){var t=Kee();return t?(UO(t),Promise.resolve()):Yee(e).then(UO).then(function(n){return Gee(n)},function(){})}function Kee(){var e=Ln.getInstance().localStorage;if(e){var t=e.getItem(nj);if(!(!t||!Xee(t))){var n=e.getItem(tj);if(n)try{var r=JSON.parse(n);return r}catch{return}}}}function Gee(e){var t=Ln.getInstance().localStorage;!e||!t||(t.setItem(tj,JSON.stringify(e)),t.setItem(nj,String(Date.now()+Zt.getInstance().configTimeToLive*60*60*1e3)))}var Qee="Could not fetch config, will use default configs";function Yee(e){return Dee().then(function(t){var n=Zt.getInstance().getProjectId(),r="https://firebaseremoteconfig.googleapis.com/v1/projects/"+n+"/namespaces/fireperf:fetch?key="+Zt.getInstance().getApiKey(),i=new Request(r,{method:"POST",headers:{Authorization:Wee+" "+t},body:JSON.stringify({app_instance_id:e,app_instance_id_token:t,app_id:Zt.getInstance().getAppId(),app_version:Y3,sdk_version:zee})});return fetch(i).then(function(s){if(s.ok)return s.json();throw Rn.create("RC response not ok")})}).catch(function(){Uo.info(Qee)})}function UO(e){if(!e)return e;var t=Zt.getInstance(),n=e.entries||{};return n.fpr_enabled!==void 0?t.loggingEnabled=String(n.fpr_enabled)==="true":t.loggingEnabled=qee.loggingEnabled,n.fpr_log_source&&(t.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(t.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(t.transportKey=n.fpr_log_transport_key),n.fpr_vc_network_request_sampling_rate!==void 0&&(t.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),n.fpr_vc_trace_sampling_rate!==void 0&&(t.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),t.logTraceAfterSampling=jO(t.tracesSamplingRate),t.logNetworkAfterSampling=jO(t.networkRequestsSamplingRate),e}function Xee(e){return Number(e)>Date.now()}function jO(e){return Math.random()<=e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sC=1,NE;function aj(){return sC=2,NE=NE||Zee(),NE}function Jee(){return sC===3}function Zee(){return ete().then(function(){return Oee()}).then(function(e){return Hee(e)}).then(function(){return VO()},function(){return VO()})}function ete(){var e=Ln.getInstance().document;return new Promise(function(t){if(e&&e.readyState!=="complete"){var n=function(){e.readyState==="complete"&&(e.removeEventListener("readystatechange",n),t())};e.addEventListener("readystatechange",n)}else t()})}function VO(){sC=3}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aC=10*1e3,tte=5.5*1e3,uj=3,nte=1e3,_g=uj,Ps=[],BO=!1;function rte(){BO||($y(tte),BO=!0)}function $y(e){setTimeout(function(){if(_g!==0){if(!Ps.length)return $y(aC);ite()}},e)}function ite(){var e=Ps.splice(0,nte),t=e.map(function(r){return{source_extension_json_proto3:r.message,event_time_ms:String(r.eventTime)}}),n={request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:Zt.getInstance().logSource,log_event:t};ote(n,e).catch(function(){Ps=Ne(Ne([],e),Ps),_g--,Uo.info("Tries left: "+_g+"."),$y(aC)})}function ote(e,t){return ste(e).then(function(n){return n.ok||Uo.info("Call to Firebase backend failed."),n.json()}).then(function(n){var r=Number(n.nextRequestWaitMillis),i=aC;isNaN(r)||(i=Math.max(r,i));var s=n.logResponseDetails;Array.isArray(s)&&s.length>0&&s[0].responseAction==="RETRY_REQUEST_LATER"&&(Ps=Ne(Ne([],t),Ps),Uo.info("Retry transport request later.")),_g=uj,$y(i)})}function ste(e){var t=Zt.getInstance().getFlTransportFullUrl();return fetch(t,{method:"POST",body:JSON.stringify(e)})}function ate(e){if(!e.eventTime||!e.message)throw Rn.create("invalid cc log");Ps=Ne(Ne([],Ps),[e])}function ute(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=e.apply(void 0,t);ate({message:r,eventTime:Date.now()})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RE;function lj(e,t){RE||(RE=ute(cte)),RE(e,t)}function Ov(e){var t=Zt.getInstance();!t.instrumentationEnabled&&e.isAuto||!t.dataCollectionEnabled&&!e.isAuto||Ln.getInstance().requiredApisAvailable()&&(e.isAuto&&sj()!==jl.VISIBLE||(Jee()?AE(e):aj().then(function(){return AE(e)},function(){return AE(e)})))}function AE(e){if(oC()){var t=Zt.getInstance();!t.loggingEnabled||!t.logTraceAfterSampling||setTimeout(function(){return lj(e,1)},0)}}function lte(e){var t=Zt.getInstance();if(t.instrumentationEnabled){var n=e.url,r=t.logEndPointUrl.split("?")[0],i=t.flTransportEndpointUrl.split("?")[0];n===r||n===i||!t.loggingEnabled||!t.logNetworkAfterSampling||setTimeout(function(){return lj(e,0)},0)}}function cte(e,t){return t===0?fte(e):hte(e)}function fte(e){var t={url:e.url,http_method:e.httpMethod||0,http_response_code:200,response_payload_bytes:e.responsePayloadBytes,client_start_time_us:e.startTimeUs,time_to_response_initiated_us:e.timeToResponseInitiatedUs,time_to_response_completed_us:e.timeToResponseCompletedUs},n={application_info:cj(),network_request_metric:t};return JSON.stringify(n)}function hte(e){var t={name:e.name,is_auto:e.isAuto,client_start_time_us:e.startTimeUs,duration_us:e.durationUs};Object.keys(e.counters).length!==0&&(t.counters=e.counters);var n=e.getAttributes();Object.keys(n).length!==0&&(t.custom_attributes=n);var r={application_info:cj(),trace_metric:t};return JSON.stringify(r)}function cj(){return{google_app_id:Zt.getInstance().getAppId(),app_instance_id:oC(),web_app_info:{sdk_version:Y3,page_url:Ln.getInstance().getUrl(),service_worker_status:jee(),visibility_state:sj(),effective_connection_type:Vee()},application_process_state:0}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dte=100,pte="_",vte=[J3,Z3,ej];function mte(e,t){return e.length===0||e.length>dte?!1:t&&t.startsWith(X3)&&vte.indexOf(e)>-1||!e.startsWith(pte)}function gte(e){var t=Math.floor(e);return t<e&&Uo.info("Metric value should be an Integer, setting the value as : "+t+"."),t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Th=function(){function e(t,n,r){n===void 0&&(n=!1),this.name=t,this.isAuto=n,this.state=1,this.customAttributes={},this.counters={},this.api=Ln.getInstance(),this.randomId=Math.floor(Math.random()*1e6),this.isAuto||(this.traceStartMark=Nee+"-"+this.randomId+"-"+this.name,this.traceStopMark=Ree+"-"+this.randomId+"-"+this.name,this.traceMeasure=r||Lb+"-"+this.randomId+"-"+this.name,r&&this.calculateTraceMetrics())}return e.prototype.start=function(){if(this.state!==1)throw Rn.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},e.prototype.stop=function(){if(this.state!==2)throw Rn.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),Ov(this)},e.prototype.record=function(t,n,r){if(t<=0)throw Rn.create("nonpositive trace startTime",{traceName:this.name});if(n<=0)throw Rn.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(n*1e3),this.startTimeUs=Math.floor(t*1e3),r&&r.attributes&&(this.customAttributes=rt({},r.attributes)),r&&r.metrics)for(var i=0,s=Object.keys(r.metrics);i<s.length;i++){var a=s[i];isNaN(Number(r.metrics[a]))||(this.counters[a]=Number(Math.floor(r.metrics[a])))}Ov(this)},e.prototype.incrementMetric=function(t,n){n===void 0&&(n=1),this.counters[t]===void 0?this.putMetric(t,n):this.putMetric(t,this.counters[t]+n)},e.prototype.putMetric=function(t,n){if(mte(t,this.name))this.counters[t]=gte(n);else throw Rn.create("invalid custom metric name",{customMetricName:t})},e.prototype.getMetric=function(t){return this.counters[t]||0},e.prototype.putAttribute=function(t,n){var r=Bee(t),i=$ee(n);if(r&&i){this.customAttributes[t]=n;return}if(!r)throw Rn.create("invalid attribute name",{attributeName:t});if(!i)throw Rn.create("invalid attribute value",{attributeValue:n})},e.prototype.getAttribute=function(t){return this.customAttributes[t]},e.prototype.removeAttribute=function(t){this.customAttributes[t]!==void 0&&delete this.customAttributes[t]},e.prototype.getAttributes=function(){return rt({},this.customAttributes)},e.prototype.setStartTime=function(t){this.startTimeUs=t},e.prototype.setDuration=function(t){this.durationUs=t},e.prototype.calculateTraceMetrics=function(){var t=this.api.getEntriesByName(this.traceMeasure),n=t&&t[0];n&&(this.durationUs=Math.floor(n.duration*1e3),this.startTimeUs=Math.floor((n.startTime+this.api.getTimeOrigin())*1e3))},e.createOobTrace=function(t,n,r){var i=Ln.getInstance().getUrl();if(i){var s=new e(X3+i,!0),a=Math.floor(Ln.getInstance().getTimeOrigin()*1e3);s.setStartTime(a),t&&t[0]&&(s.setDuration(Math.floor(t[0].duration*1e3)),s.putMetric("domInteractive",Math.floor(t[0].domInteractive*1e3)),s.putMetric("domContentLoadedEventEnd",Math.floor(t[0].domContentLoadedEventEnd*1e3)),s.putMetric("loadEventEnd",Math.floor(t[0].loadEventEnd*1e3)));var l="first-paint",c="first-contentful-paint";if(n){var h=n.find(function(v){return v.name===l});h&&h.startTime&&s.putMetric(J3,Math.floor(h.startTime*1e3));var d=n.find(function(v){return v.name===c});d&&d.startTime&&s.putMetric(Z3,Math.floor(d.startTime*1e3)),r&&s.putMetric(ej,Math.floor(r*1e3))}Ov(s)}},e.createUserTimingTrace=function(t){var n=new e(t,!1,t);Ov(n)},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $O(e){var t=e;if(!(!t||t.responseStart===void 0)){var n=Ln.getInstance().getTimeOrigin(),r=Math.floor((t.startTime+n)*1e3),i=t.responseStart?Math.floor((t.responseStart-t.startTime)*1e3):void 0,s=Math.floor((t.responseEnd-t.startTime)*1e3),a=t.name&&t.name.split("?")[0],l={url:a,responsePayloadBytes:t.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:s};lte(l)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yte=5e3;function zO(){oC()&&(setTimeout(function(){return wte()},0),setTimeout(function(){return _te()},0),setTimeout(function(){return Ete()},0))}function _te(){for(var e=Ln.getInstance(),t=e.getEntriesByType("resource"),n=0,r=t;n<r.length;n++){var i=r[n];$O(i)}e.setupObserver("resource",$O)}function wte(){var e=Ln.getInstance(),t=e.getEntriesByType("navigation"),n=e.getEntriesByType("paint");if(e.onFirstInputDelay){var r=setTimeout(function(){Th.createOobTrace(t,n),r=void 0},yte);e.onFirstInputDelay(function(i){r&&(clearTimeout(r),Th.createOobTrace(t,n,i))})}else Th.createOobTrace(t,n)}function Ete(){for(var e=Ln.getInstance(),t=e.getEntriesByType("measure"),n=0,r=t;n<r.length;n++){var i=r[n];qO(i)}e.setupObserver("measure",qO)}function qO(e){var t=e.name;t.substring(0,Lb.length)!==Lb&&Th.createUserTimingTrace(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bte=function(){function e(t){this.app=t,Ln.getInstance().requiredApisAvailable()&&VT().then(function(n){n&&(rte(),aj().then(zO,zO))}).catch(function(n){Uo.info("Environment doesn't support IndexedDB: "+n)})}return e.prototype.trace=function(t){return new Th(t)},Object.defineProperty(e.prototype,"instrumentationEnabled",{get:function(){return Zt.getInstance().instrumentationEnabled},set:function(t){Zt.getInstance().instrumentationEnabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dataCollectionEnabled",{get:function(){return Zt.getInstance().dataCollectionEnabled},set:function(t){Zt.getInstance().dataCollectionEnabled=t},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tte="[DEFAULT]";function Ite(e){var t=function(n,r){if(n.name!==Tte)throw Rn.create("FB not default");if(typeof window>"u")throw Rn.create("no window");return xee(window),Zt.getInstance().firebaseAppInstance=n,Zt.getInstance().installationsService=r,new bte(n)};e.INTERNAL.registerComponent(new _r("performance",function(n){var r=n.getProvider("app").getImmediate(),i=n.getProvider("installations").getImmediate();return t(r,i)},"PUBLIC")),e.registerVersion(kee,Q3)}Ite(ue);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ste="firebase_id",Cte="origin",kte=60*1e3,Nte="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",fj="https://www.googletagmanager.com/gtag/js",Mn;(function(e){e.EVENT="event",e.SET="set",e.CONFIG="config"})(Mn||(Mn={}));var Mb;(function(e){e.ADD_SHIPPING_INFO="add_shipping_info",e.ADD_PAYMENT_INFO="add_payment_info",e.ADD_TO_CART="add_to_cart",e.ADD_TO_WISHLIST="add_to_wishlist",e.BEGIN_CHECKOUT="begin_checkout",e.CHECKOUT_PROGRESS="checkout_progress",e.EXCEPTION="exception",e.GENERATE_LEAD="generate_lead",e.LOGIN="login",e.PAGE_VIEW="page_view",e.PURCHASE="purchase",e.REFUND="refund",e.REMOVE_FROM_CART="remove_from_cart",e.SCREEN_VIEW="screen_view",e.SEARCH="search",e.SELECT_CONTENT="select_content",e.SELECT_ITEM="select_item",e.SELECT_PROMOTION="select_promotion",e.SET_CHECKOUT_OPTION="set_checkout_option",e.SHARE="share",e.SIGN_UP="sign_up",e.TIMING_COMPLETE="timing_complete",e.VIEW_CART="view_cart",e.VIEW_ITEM="view_item",e.VIEW_ITEM_LIST="view_item_list",e.VIEW_PROMOTION="view_promotion",e.VIEW_SEARCH_RESULTS="view_search_results"})(Mb||(Mb={}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rte(e,t,n,r,i){return P(this,void 0,void 0,function(){var s,a;return A(this,function(l){switch(l.label){case 0:return i&&i.global?(e(Mn.EVENT,n,r),[2]):[3,1];case 1:return[4,t];case 2:s=l.sent(),a=rt(rt({},r),{send_to:s}),e(Mn.EVENT,n,a),l.label=3;case 3:return[2]}})})}function Ate(e,t,n,r){return P(this,void 0,void 0,function(){var i;return A(this,function(s){switch(s.label){case 0:return r&&r.global?(e(Mn.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=s.sent(),e(Mn.CONFIG,i,{update:!0,screen_name:n}),s.label=3;case 3:return[2]}})})}function Pte(e,t,n,r){return P(this,void 0,void 0,function(){var i;return A(this,function(s){switch(s.label){case 0:return r&&r.global?(e(Mn.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=s.sent(),e(Mn.CONFIG,i,{update:!0,user_id:n}),s.label=3;case 3:return[2]}})})}function xte(e,t,n,r){return P(this,void 0,void 0,function(){var i,s,a,l,c;return A(this,function(h){switch(h.label){case 0:if(!(r&&r.global))return[3,1];for(i={},s=0,a=Object.keys(n);s<a.length;s++)l=a[s],i["user_properties."+l]=n[l];return e(Mn.SET,i),[2,Promise.resolve()];case 1:return[4,t];case 2:c=h.sent(),e(Mn.CONFIG,c,{update:!0,user_properties:n}),h.label=3;case 3:return[2]}})})}function Ote(e,t){return P(this,void 0,void 0,function(){var n;return A(this,function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),window["ga-disable-"+n]=!t,[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yn=new kc("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dte(e,t){var n=document.createElement("script");n.src=fj+"?l="+e+"&id="+t,n.async=!0,document.head.appendChild(n)}function Lte(e){var t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}function Mte(e,t,n,r,i,s){return P(this,void 0,void 0,function(){var a,l,c,h;return A(this,function(d){switch(d.label){case 0:a=r[i],d.label=1;case 1:return d.trys.push([1,7,,8]),a?[4,t[a]]:[3,3];case 2:return d.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return l=d.sent(),c=l.find(function(v){return v.measurementId===i}),c?[4,t[c.appId]]:[3,6];case 5:d.sent(),d.label=6;case 6:return[3,8];case 7:return h=d.sent(),yn.error(h),[3,8];case 8:return e(Mn.CONFIG,i,s),[2]}})})}function Fte(e,t,n,r,i){return P(this,void 0,void 0,function(){var s,a,l,c,h,d,v,m,y;return A(this,function(_){switch(_.label){case 0:return _.trys.push([0,4,,5]),s=[],i&&i.send_to?(a=i.send_to,Array.isArray(a)||(a=[a]),[4,Promise.all(n)]):[3,2];case 1:for(l=_.sent(),c=function(E){var S=l.find(function(I){return I.measurementId===E}),b=S&&t[S.appId];if(b)s.push(b);else return s=[],"break"},h=0,d=a;h<d.length&&(v=d[h],m=c(v),m!=="break");h++);_.label=2;case 2:return s.length===0&&(s=Object.values(t)),[4,Promise.all(s)];case 3:return _.sent(),e(Mn.EVENT,r,i||{}),[3,5];case 4:return y=_.sent(),yn.error(y),[3,5];case 5:return[2]}})})}function Ute(e,t,n,r){function i(s,a,l){return P(this,void 0,void 0,function(){var c;return A(this,function(h){switch(h.label){case 0:return h.trys.push([0,6,,7]),s!==Mn.EVENT?[3,2]:[4,Fte(e,t,n,a,l)];case 1:return h.sent(),[3,5];case 2:return s!==Mn.CONFIG?[3,4]:[4,Mte(e,t,n,r,a,l)];case 3:return h.sent(),[3,5];case 4:e(Mn.SET,a),h.label=5;case 5:return[3,7];case 6:return c=h.sent(),yn.error(c),[3,7];case 7:return[2]}})})}return i}function jte(e,t,n,r,i){var s=function(){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=Ute(s,e,t,n),{gtagCore:s,wrappedGtag:window[i]}}function Vte(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(r.src&&r.src.includes(fj))return r}return null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wi,Bte=(wi={},wi["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",wi["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",wi["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",wi["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",wi["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",wi["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",wi["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",wi["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',wi["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',wi),ri=new Hs("analytics","Analytics",Bte);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $te=30,zte=1e3,qte=function(){function e(t,n){t===void 0&&(t={}),n===void 0&&(n=zte),this.throttleMetadata=t,this.intervalMillis=n}return e.prototype.getThrottleMetadata=function(t){return this.throttleMetadata[t]},e.prototype.setThrottleMetadata=function(t,n){this.throttleMetadata[t]=n},e.prototype.deleteThrottleMetadata=function(t){delete this.throttleMetadata[t]},e}(),hj=new qte;function Wte(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function Hte(e){var t;return P(this,void 0,void 0,function(){var n,r,i,s,a,l,c;return A(this,function(h){switch(h.label){case 0:return n=e.appId,r=e.apiKey,i={method:"GET",headers:Wte(r)},s=Nte.replace("{app-id}",n),[4,fetch(s,i)];case 1:if(a=h.sent(),!(a.status!==200&&a.status!==304))return[3,6];l="",h.label=2;case 2:return h.trys.push([2,4,,5]),[4,a.json()];case 3:return c=h.sent(),!((t=c.error)===null||t===void 0)&&t.message&&(l=c.error.message),[3,5];case 4:return h.sent(),[3,5];case 5:throw ri.create("config-fetch-failed",{httpStatus:a.status,responseMessage:l});case 6:return[2,a.json()]}})})}function Kte(e,t,n){return t===void 0&&(t=hj),P(this,void 0,void 0,function(){var r,i,s,a,l,c,h=this;return A(this,function(d){if(r=e.options,i=r.appId,s=r.apiKey,a=r.measurementId,!i)throw ri.create("no-app-id");if(!s){if(a)return[2,{measurementId:a,appId:i}];throw ri.create("no-api-key")}return l=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new Yte,setTimeout(function(){return P(h,void 0,void 0,function(){return A(this,function(v){return c.abort(),[2]})})},n!==void 0?n:kte),[2,dj({appId:i,apiKey:s,measurementId:a},l,c,t)]})})}function dj(e,t,n,r){var i=t.throttleEndTimeMillis,s=t.backoffCount;return r===void 0&&(r=hj),P(this,void 0,void 0,function(){var a,l,c,h,d,v,m;return A(this,function(y){switch(y.label){case 0:a=e.appId,l=e.measurementId,y.label=1;case 1:return y.trys.push([1,3,,4]),[4,Gte(n,i)];case 2:return y.sent(),[3,4];case 3:if(c=y.sent(),l)return yn.warn("Timed out fetching this Firebase app's measurement ID from the server."+(" Falling back to the measurement ID "+l)+(' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]")),[2,{appId:a,measurementId:l}];throw c;case 4:return y.trys.push([4,6,,7]),[4,Hte(e)];case 5:return h=y.sent(),r.deleteThrottleMetadata(a),[2,h];case 6:if(d=y.sent(),!Qte(d)){if(r.deleteThrottleMetadata(a),l)return yn.warn("Failed to fetch this Firebase app's measurement ID from the server."+(" Falling back to the measurement ID "+l)+(' provided in the "measurementId" field in the local Firebase config. ['+d.message+"]")),[2,{appId:a,measurementId:l}];throw d}return v=Number(d.customData.httpStatus)===503?M1(s,r.intervalMillis,$te):M1(s,r.intervalMillis),m={throttleEndTimeMillis:Date.now()+v,backoffCount:s+1},r.setThrottleMetadata(a,m),yn.debug("Calling attemptFetch again in "+v+" millis"),[2,dj(e,m,n,r)];case 7:return[2]}})})}function Gte(e,t){return new Promise(function(n,r){var i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener(function(){clearTimeout(s),r(ri.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function Qte(e){if(!(e instanceof Cc)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}var Yte=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(t){this.listeners.push(t)},e.prototype.abort=function(){this.listeners.forEach(function(t){return t()})},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xte(){return P(this,void 0,void 0,function(){var e;return A(this,function(t){switch(t.label){case 0:return jT()?[3,1]:(yn.warn(ri.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return t.trys.push([1,3,,4]),[4,VT()];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),yn.warn(ri.create("indexeddb-unavailable",{errorInfo:e}).message),[2,!1];case 4:return[2,!0]}})})}function Jte(e,t,n,r,i,s){return P(this,void 0,void 0,function(){var a,l,c,h,d,v,m;return A(this,function(y){switch(y.label){case 0:return a=Kte(e),a.then(function(_){n[_.measurementId]=_.appId,e.options.measurementId&&_.measurementId!==e.options.measurementId&&yn.warn("The measurement ID in the local Firebase config ("+e.options.measurementId+")"+(" does not match the measurement ID fetched from the server ("+_.measurementId+").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(function(_){return yn.error(_)}),t.push(a),l=Xte().then(function(_){if(_)return r.getId()}),[4,Promise.all([a,l])];case 1:return c=y.sent(),h=c[0],d=c[1],Vte()||Dte(s,h.measurementId),i("js",new Date),v=(m={},m[Cte]="firebase",m.update=!0,m),d!=null&&(v[Ste]=d),i(Mn.CONFIG,h.measurementId,v),[2,h.measurementId]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yo={},WO=[],HO={},tm="dataLayer",pj="gtag",KO,Gf,Fb=!1;function Zte(e){if(Fb)throw ri.create("already-initialized");e.dataLayerName&&(tm=e.dataLayerName),e.gtagName&&(pj=e.gtagName)}function ene(){var e=[];if(UT()&&e.push("This is a browser extension environment."),x2()||e.push("Cookies are not available."),e.length>0){var t=e.map(function(r,i){return"("+(i+1)+") "+r}).join(" "),n=ri.create("invalid-analytics-context",{errorInfo:t});yn.warn(n.message)}}function tne(e,t){ene();var n=e.options.appId;if(!n)throw ri.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)yn.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+(" measurement ID for this Firebase app. Falling back to the measurement ID "+e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.');else throw ri.create("no-api-key");if(yo[n]!=null)throw ri.create("already-exists",{id:n});if(!Fb){Lte(tm);var r=jte(yo,WO,HO,tm,pj),i=r.wrappedGtag,s=r.gtagCore;Gf=i,KO=s,Fb=!0}yo[n]=Jte(e,WO,HO,t,KO,tm);var a={app:e,logEvent:function(l,c,h){Rte(Gf,yo[n],l,c,h).catch(function(d){return yn.error(d)})},setCurrentScreen:function(l,c){Ate(Gf,yo[n],l,c).catch(function(h){return yn.error(h)})},setUserId:function(l,c){Pte(Gf,yo[n],l,c).catch(function(h){return yn.error(h)})},setUserProperties:function(l,c){xte(Gf,yo[n],l,c).catch(function(h){return yn.error(h)})},setAnalyticsCollectionEnabled:function(l){Ote(yo[n],l).catch(function(c){return yn.error(c)})},INTERNAL:{delete:function(){return delete yo[n],Promise.resolve()}}};return a}var nne="@firebase/analytics",rne="0.6.10",GO="analytics";function ine(e){e.INTERNAL.registerComponent(new _r(GO,function(n){var r=n.getProvider("app").getImmediate(),i=n.getProvider("installations").getImmediate();return tne(r,i)},"PUBLIC").setServiceProps({settings:Zte,EventName:Mb,isSupported:one})),e.INTERNAL.registerComponent(new _r("analytics-internal",t,"PRIVATE")),e.registerVersion(nne,rne);function t(n){try{var r=n.getProvider(GO).getImmediate();return{logEvent:r.logEvent}}catch(i){throw ri.create("interop-component-reg-failed",{reason:i})}}}ine(ue);function one(){return P(this,void 0,void 0,function(){var e;return A(this,function(t){switch(t.label){case 0:if(UT())return[2,!1];if(!x2())return[2,!1];if(!jT())return[2,!1];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,VT()];case 2:return e=t.sent(),[2,e];case 3:return t.sent(),[2,!1];case 4:return[2]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sne=function(){function e(t,n,r,i){this.client=t,this.storage=n,this.storageCache=r,this.logger=i}return e.prototype.isCachedDataFresh=function(t,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var r=Date.now()-n,i=r<=t;return this.logger.debug("Config fetch cache check."+(" Cache age millis: "+r+".")+(" Cache max age millis (minimumFetchIntervalMillis setting): "+t+".")+(" Is cache hit: "+i+".")),i},e.prototype.fetch=function(t){return P(this,void 0,void 0,function(){var n,r,i,s,a;return A(this,function(l){switch(l.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return n=l.sent(),r=n[0],i=n[1],i&&this.isCachedDataFresh(t.cacheMaxAgeMillis,r)?[2,i]:(t.eTag=i&&i.eTag,[4,this.client.fetch(t)]);case 2:return s=l.sent(),a=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],s.status===200&&a.push(this.storage.setLastSuccessfulFetchResponse(s)),[4,Promise.all(a)];case 3:return l.sent(),[2,s]}})})},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $n,ane=($n={},$n["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",$n["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",$n["registration-api-key"]="Undefined API key. Check Firebase app initialization.",$n["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",$n["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",$n["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",$n["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",$n["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",$n["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",$n["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',$n["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',$n["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",$n["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",$n),ei=new Hs("remoteconfig","Remote Config",ane);function une(e,t){return e instanceof Cc&&e.code.indexOf(t)!==-1}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lne(e){return e===void 0&&(e=navigator),e.languages&&e.languages[0]||e.language}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cne=function(){function e(t,n,r,i,s,a){this.firebaseInstallations=t,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=a}return e.prototype.fetch=function(t){return P(this,void 0,void 0,function(){var n,r,i,s,a,l,c,h,d,v,m,y,_,E,S,b,I,k,C;return A(this,function(x){switch(x.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:n=x.sent(),r=n[0],i=n[1],s=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",a=s+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,l={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},c={sdk_version:this.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:this.appId,language_code:lne()},h={method:"POST",headers:l,body:JSON.stringify(c)},d=fetch(a,h),v=new Promise(function(O,V){t.signal.addEventListener(function(){var M=new Error("The operation was aborted.");M.name="AbortError",V(M)})}),x.label=2;case 2:return x.trys.push([2,5,,6]),[4,Promise.race([d,v])];case 3:return x.sent(),[4,d];case 4:return m=x.sent(),[3,6];case 5:throw y=x.sent(),_="fetch-client-network",y.name==="AbortError"&&(_="fetch-timeout"),ei.create(_,{originalErrorMessage:y.message});case 6:if(E=m.status,S=m.headers.get("ETag")||void 0,m.status!==200)return[3,11];k=void 0,x.label=7;case 7:return x.trys.push([7,9,,10]),[4,m.json()];case 8:return k=x.sent(),[3,10];case 9:throw C=x.sent(),ei.create("fetch-client-parse",{originalErrorMessage:C.message});case 10:b=k.entries,I=k.state,x.label=11;case 11:if(I==="INSTANCE_STATE_UNSPECIFIED"?E=500:I==="NO_CHANGE"?E=304:(I==="NO_TEMPLATE"||I==="EMPTY_CONFIG")&&(b={}),E!==304&&E!==200)throw ei.create("fetch-status",{httpStatus:E});return[2,{status:E,eTag:S,config:b}]}})})},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fne=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(t){this.listeners.push(t)},e.prototype.abort=function(){this.listeners.forEach(function(t){return t()})},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hne=!1,dne="",QO=0,pne=["1","true","t","yes","y","on"],PE=function(){function e(t,n){n===void 0&&(n=dne),this._source=t,this._value=n}return e.prototype.asString=function(){return this._value},e.prototype.asBoolean=function(){return this._source==="static"?hne:pne.indexOf(this._value.toLowerCase())>=0},e.prototype.asNumber=function(){if(this._source==="static")return QO;var t=Number(this._value);return isNaN(t)&&(t=QO),t},e.prototype.getSource=function(){return this._source},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vne=60*1e3,mne=12*60*60*1e3,gne=function(){function e(t,n,r,i,s){this.app=t,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:vne,minimumFetchIntervalMillis:mne},this.defaultConfig={}}return e.prototype.setLogLevel=function(t){switch(t){case"debug":this._logger.logLevel=ke.DEBUG;break;case"silent":this._logger.logLevel=ke.SILENT;break;default:this._logger.logLevel=ke.ERROR}},Object.defineProperty(e.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),e.prototype.activate=function(){return P(this,void 0,void 0,function(){var t,n,r;return A(this,function(i){switch(i.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return t=i.sent(),n=t[0],r=t[1],!n||!n.config||!n.eTag||n.eTag===r?[2,!1]:[4,Promise.all([this._storageCache.setActiveConfig(n.config),this._storage.setActiveConfigEtag(n.eTag)])];case 2:return i.sent(),[2,!0]}})})},e.prototype.ensureInitialized=function(){var t=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then(function(){t._isInitializationComplete=!0})),this._initializePromise},e.prototype.fetch=function(){return P(this,void 0,void 0,function(){var t,n,r,i=this;return A(this,function(s){switch(s.label){case 0:t=new fne,setTimeout(function(){return P(i,void 0,void 0,function(){return A(this,function(a){return t.abort(),[2]})})},this.settings.fetchTimeoutMillis),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:t})];case 2:return s.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return s.sent(),[3,6];case 4:return n=s.sent(),r=une(n,"fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(r)];case 5:throw s.sent(),n;case 6:return[2]}})})},e.prototype.fetchAndActivate=function(){return P(this,void 0,void 0,function(){return A(this,function(t){switch(t.label){case 0:return[4,this.fetch()];case 1:return t.sent(),[2,this.activate()]}})})},e.prototype.getAll=function(){var t=this;return yne(this._storageCache.getActiveConfig(),this.defaultConfig).reduce(function(n,r){return n[r]=t.getValue(r),n},{})},e.prototype.getBoolean=function(t){return this.getValue(t).asBoolean()},e.prototype.getNumber=function(t){return this.getValue(t).asNumber()},e.prototype.getString=function(t){return this.getValue(t).asString()},e.prototype.getValue=function(t){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+t+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var n=this._storageCache.getActiveConfig();return n&&n[t]!==void 0?new PE("remote",n[t]):this.defaultConfig&&this.defaultConfig[t]!==void 0?new PE("default",String(this.defaultConfig[t])):(this._logger.debug('Returning static value for key "'+t+'". Define a default or remote value if this is unintentional.'),new PE("static"))},e}();function yne(e,t){return e===void 0&&(e={}),t===void 0&&(t={}),Object.keys(rt(rt({},e),t))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nm(e,t){var n=e.target.error||void 0;return ei.create(t,{originalErrorMessage:n&&n.message})}var Ra="app_namespace_store",_ne="firebase_remote_config",wne=1;function Ene(){return new Promise(function(e,t){var n=indexedDB.open(_ne,wne);n.onerror=function(r){t(nm(r,"storage-open"))},n.onsuccess=function(r){e(r.target.result)},n.onupgradeneeded=function(r){var i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Ra,{keyPath:"compositeKey"})}}})}var bne=function(){function e(t,n,r,i){i===void 0&&(i=Ene()),this.appId=t,this.appName=n,this.namespace=r,this.openDbPromise=i}return e.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},e.prototype.setLastFetchStatus=function(t){return this.set("last_fetch_status",t)},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},e.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.set("last_successful_fetch_timestamp_millis",t)},e.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},e.prototype.setLastSuccessfulFetchResponse=function(t){return this.set("last_successful_fetch_response",t)},e.prototype.getActiveConfig=function(){return this.get("active_config")},e.prototype.setActiveConfig=function(t){return this.set("active_config",t)},e.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},e.prototype.setActiveConfigEtag=function(t){return this.set("active_config_etag",t)},e.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},e.prototype.setThrottleMetadata=function(t){return this.set("throttle_metadata",t)},e.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},e.prototype.get=function(t){return P(this,void 0,void 0,function(){var n,r=this;return A(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise(function(s,a){var l=n.transaction([Ra],"readonly"),c=l.objectStore(Ra),h=r.createCompositeKey(t);try{var d=c.get(h);d.onerror=function(v){a(nm(v,"storage-get"))},d.onsuccess=function(v){var m=v.target.result;s(m?m.value:void 0)}}catch(v){a(ei.create("storage-get",{originalErrorMessage:v&&v.message}))}})]}})})},e.prototype.set=function(t,n){return P(this,void 0,void 0,function(){var r,i=this;return A(this,function(s){switch(s.label){case 0:return[4,this.openDbPromise];case 1:return r=s.sent(),[2,new Promise(function(a,l){var c=r.transaction([Ra],"readwrite"),h=c.objectStore(Ra),d=i.createCompositeKey(t);try{var v=h.put({compositeKey:d,value:n});v.onerror=function(m){l(nm(m,"storage-set"))},v.onsuccess=function(){a()}}catch(m){l(ei.create("storage-set",{originalErrorMessage:m&&m.message}))}})]}})})},e.prototype.delete=function(t){return P(this,void 0,void 0,function(){var n,r=this;return A(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise(function(s,a){var l=n.transaction([Ra],"readwrite"),c=l.objectStore(Ra),h=r.createCompositeKey(t);try{var d=c.delete(h);d.onerror=function(v){a(nm(v,"storage-delete"))},d.onsuccess=function(){s()}}catch(v){a(ei.create("storage-delete",{originalErrorMessage:v&&v.message}))}})]}})})},e.prototype.createCompositeKey=function(t){return[this.appId,this.appName,this.namespace,t].join()},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tne=function(){function e(t){this.storage=t}return e.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},e.prototype.getActiveConfig=function(){return this.activeConfig},e.prototype.loadFromStorage=function(){return P(this,void 0,void 0,function(){var t,n,r,i,s,a;return A(this,function(l){switch(l.label){case 0:return t=this.storage.getLastFetchStatus(),n=this.storage.getLastSuccessfulFetchTimestampMillis(),r=this.storage.getActiveConfig(),[4,t];case 1:return i=l.sent(),i&&(this.lastFetchStatus=i),[4,n];case 2:return s=l.sent(),s&&(this.lastSuccessfulFetchTimestampMillis=s),[4,r];case 3:return a=l.sent(),a&&(this.activeConfig=a),[2]}})})},e.prototype.setLastFetchStatus=function(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)},e.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)},e.prototype.setActiveConfig=function(t){return this.activeConfig=t,this.storage.setActiveConfig(t)},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ine(e,t){return new Promise(function(n,r){var i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener(function(){clearTimeout(s),r(ei.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function Sne(e){if(!(e instanceof Cc)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}var Cne=function(){function e(t,n){this.client=t,this.storage=n}return e.prototype.fetch=function(t){return P(this,void 0,void 0,function(){var n;return A(this,function(r){switch(r.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return n=r.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(t,n)]}})})},e.prototype.attemptFetch=function(t,n){var r=n.throttleEndTimeMillis,i=n.backoffCount;return P(this,void 0,void 0,function(){var s,a,l;return A(this,function(c){switch(c.label){case 0:return[4,Ine(t.signal,r)];case 1:c.sent(),c.label=2;case 2:return c.trys.push([2,5,,7]),[4,this.client.fetch(t)];case 3:return s=c.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return c.sent(),[2,s];case 5:if(a=c.sent(),!Sne(a))throw a;return l={throttleEndTimeMillis:Date.now()+M1(i),backoffCount:i+1},[4,this.storage.setThrottleMetadata(l)];case 6:return c.sent(),[2,this.attemptFetch(t,l)];case 7:return[2]}})})},e}(),YO="@firebase/remote-config",kne="0.1.37";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nne(e){e.INTERNAL.registerComponent(new _r("remoteConfig",t,"PUBLIC").setMultipleInstances(!0)),e.registerVersion(YO,kne);function t(n,r){var i=r.instanceIdentifier,s=n.getProvider("app").getImmediate(),a=n.getProvider("installations").getImmediate();if(typeof window>"u")throw ei.create("registration-window");var l=s.options,c=l.projectId,h=l.apiKey,d=l.appId;if(!c)throw ei.create("registration-project-id");if(!h)throw ei.create("registration-api-key");if(!d)throw ei.create("registration-app-id");i=i||"firebase";var v=new bne(d,s.name,i),m=new Tne(v),y=new kc(YO);y.logLevel=ke.ERROR;var _=new cne(a,e.SDK_VERSION,i,c,h,d),E=new Cne(_,v),S=new sne(E,v,m,y),b=new gne(s,S,m,v,y);return b.ensureInitialized(),b}}Nne(ue);var Rne="firebase",Ane="8.5.0";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ue.registerVersion(Rne,Ane,"app");var Pne="firebase",xne="8.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */console.warn(`
It looks like you're using the development build of the Firebase JS SDK.
When deploying Firebase apps to production, it is advisable to only import
the individual SDK components you intend to use.

For the module builds, these are available in the following manner
(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):

CommonJS Modules:
const firebase = require('firebase/app');
require('firebase/<PACKAGE>');

ES Modules:
import firebase from 'firebase/app';
import 'firebase/<PACKAGE>';

Typescript:
import firebase from 'firebase/app';
import 'firebase/<PACKAGE>';
`);ue.registerVersion(Pne,xne);const One={apiKey:"AIzaSyB-bxkAWY9qgd6cUX0taS4U6lnV241iR8M",authDomain:"cooking1-b5d78.firebaseapp.com",projectId:"cooking1-b5d78",storageBucket:"cooking1-b5d78.appspot.com",messagingSenderId:"762500899034",appId:"1:762500899034:web:8fa6ccf49e1d991fbbc5e3",measurementId:"G-C1YMW1TNRE"};ue.initializeApp(One);const wg=ue.firestore();function Dne(){const[e,t]=U.useState(""),[n,r]=U.useState(""),[i,s]=U.useState(""),[a,l]=U.useState(""),[c,h]=U.useState([]),[d,v]=U.useState(!1),m=Bg();async function y(E){if(E.preventDefault(),v(!0),e&&n&&i){const S={title:e,method:n,cookingTime:i,ingredients:c};await wg.collection("recipes").add(S),v(!1),m("/")}else alert("Please! Fill the inputs...");t(""),r(""),s("")}function _(E){E.preventDefault(),c.includes(a)?alert("You wrote this ingridient!"):a?h(S=>[...S,a]):alert("Write the ingridient!"),l("")}return q.jsx("div",{className:"create container",children:d?q.jsx("h1",{className:"loader",children:"Adding..."}):q.jsxs("div",{children:[q.jsx("p",{className:"create-heading",children:"Create Recipe"}),q.jsxs("form",{onSubmit:y,children:[q.jsxs("label",{htmlFor:"title",children:[q.jsx("p",{className:"label-title",children:"Title:"}),q.jsx("input",{autoFocus:!0,value:e,onChange:E=>{t(E.target.value)},type:"text",placeholder:"Enter your recipe !",id:"title"})]}),q.jsxs("label",{htmlFor:"ingridients",children:[q.jsx("p",{className:"label-title",children:"Ingridients:"}),q.jsxs("label",{className:"flex-part",children:[q.jsx("input",{value:a,onChange:E=>{l(E.target.value)},type:"text",placeholder:"Enter your ingridients !",id:"ingridients"}),q.jsx("button",{onClick:_,children:"Add"})]}),q.jsxs("p",{className:"ing",children:["Ingridients:",c.map(E=>" "+E+",")]})]}),q.jsxs("label",{htmlFor:"method",children:[q.jsx("p",{className:"label-title",children:"Method:"}),q.jsx("textarea",{value:n,onChange:E=>{r(E.target.value)},id:"method",cols:"20",rows:"3",placeholder:"Enter your method !"})]}),q.jsxs("label",{htmlFor:"time",children:[q.jsx("p",{className:"label-title",children:"Cooking Time:"}),q.jsx("input",{value:i,onChange:E=>{s(E.target.value)},type:"number",placeholder:"Enter your cooking time !",id:"time"})]}),q.jsx("div",{className:"form-btn",children:q.jsx("button",{children:"Send"})})]})]})})}var vj={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},XO=Me.createContext&&Me.createContext(vj),xs=globalThis&&globalThis.__assign||function(){return xs=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},xs.apply(this,arguments)},Lne=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function mj(e){return e&&e.map(function(t,n){return Me.createElement(t.tag,xs({key:n},t.attr),mj(t.child))})}function uC(e){return function(t){return Me.createElement(Mne,xs({attr:xs({},e.attr)},t),mj(e.child))}}function Mne(e){var t=function(n){var r=e.attr,i=e.size,s=e.title,a=Lne(e,["attr","size","title"]),l=i||n.size||"1em",c;return n.className&&(c=n.className),e.className&&(c=(c?c+" ":"")+e.className),Me.createElement("svg",xs({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,a,{className:c,style:xs(xs({color:e.color||n.color},n.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),s&&Me.createElement("title",null,s),e.children)};return XO!==void 0?Me.createElement(XO.Consumer,null,function(n){return t(n)}):t(vj)}function Fne(e){return uC({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"}}]})(e)}function Une(e){return uC({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"}}]})(e)}function jne(e){return uC({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z"}}]})(e)}function gj(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=gj(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function ys(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=gj(e))&&(r&&(r+=" "),r+=t);return r}const Ih=e=>typeof e=="number"&&!isNaN(e),mu=e=>typeof e=="string",hr=e=>typeof e=="function",rm=e=>mu(e)||hr(e)?e:null,xE=e=>U.isValidElement(e)||mu(e)||hr(e)||Ih(e);function Vne(e,t,n){n===void 0&&(n=300);const{scrollHeight:r,style:i}=e;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)})})}function zy(e){let{enter:t,exit:n,appendPosition:r=!1,collapse:i=!0,collapseDuration:s=300}=e;return function(a){let{children:l,position:c,preventExitTransition:h,done:d,nodeRef:v,isIn:m}=a;const y=r?`${t}--${c}`:t,_=r?`${n}--${c}`:n,E=U.useRef(0);return U.useLayoutEffect(()=>{const S=v.current,b=y.split(" "),I=k=>{k.target===v.current&&(S.dispatchEvent(new Event("d")),S.removeEventListener("animationend",I),S.removeEventListener("animationcancel",I),E.current===0&&k.type!=="animationcancel"&&S.classList.remove(...b))};S.classList.add(...b),S.addEventListener("animationend",I),S.addEventListener("animationcancel",I)},[]),U.useEffect(()=>{const S=v.current,b=()=>{S.removeEventListener("animationend",b),i?Vne(S,d,s):d()};m||(h?b():(E.current=1,S.className+=` ${_}`,S.addEventListener("animationend",b)))},[m]),Me.createElement(Me.Fragment,null,l)}}function JO(e,t){return e!=null?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}const Hr={list:new Map,emitQueue:new Map,on(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off(e,t){if(t){const n=this.list.get(e).filter(r=>r!==t);return this.list.set(e,n),this}return this.list.delete(e),this},cancelEmit(e){const t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit(e){this.list.has(e)&&this.list.get(e).forEach(t=>{const n=setTimeout(()=>{t(...[].slice.call(arguments,1))},0);this.emitQueue.has(e)||this.emitQueue.set(e,[]),this.emitQueue.get(e).push(n)})}},Dv=e=>{let{theme:t,type:n,...r}=e;return Me.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...r})},OE={info:function(e){return Me.createElement(Dv,{...e},Me.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return Me.createElement(Dv,{...e},Me.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return Me.createElement(Dv,{...e},Me.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return Me.createElement(Dv,{...e},Me.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return Me.createElement("div",{className:"Toastify__spinner"})}};function Bne(e){const[,t]=U.useReducer(y=>y+1,0),[n,r]=U.useState([]),i=U.useRef(null),s=U.useRef(new Map).current,a=y=>n.indexOf(y)!==-1,l=U.useRef({toastKey:1,displayedToast:0,count:0,queue:[],props:e,containerId:null,isToastActive:a,getToast:y=>s.get(y)}).current;function c(y){let{containerId:_}=y;const{limit:E}=l.props;!E||_&&l.containerId!==_||(l.count-=l.queue.length,l.queue=[])}function h(y){r(_=>y==null?[]:_.filter(E=>E!==y))}function d(){const{toastContent:y,toastProps:_,staleId:E}=l.queue.shift();m(y,_,E)}function v(y,_){let{delay:E,staleId:S,...b}=_;if(!xE(y)||function(me){return!i.current||l.props.enableMultiContainer&&me.containerId!==l.props.containerId||s.has(me.toastId)&&me.updateId==null}(b))return;const{toastId:I,updateId:k,data:C}=b,{props:x}=l,O=()=>h(I),V=k==null;V&&l.count++;const M={...x,style:x.toastStyle,key:l.toastKey++,...Object.fromEntries(Object.entries(b).filter(me=>{let[Ut,lt]=me;return lt!=null})),toastId:I,updateId:k,data:C,closeToast:O,isIn:!1,className:rm(b.className||x.toastClassName),bodyClassName:rm(b.bodyClassName||x.bodyClassName),progressClassName:rm(b.progressClassName||x.progressClassName),autoClose:!b.isLoading&&(te=b.autoClose,R=x.autoClose,te===!1||Ih(te)&&te>0?te:R),deleteToast(){const me=JO(s.get(I),"removed");s.delete(I),Hr.emit(4,me);const Ut=l.queue.length;if(l.count=I==null?l.count-l.displayedToast:l.count-1,l.count<0&&(l.count=0),Ut>0){const lt=I==null?l.props.limit:1;if(Ut===1||lt===1)l.displayedToast++,d();else{const kt=lt>Ut?Ut:lt;l.displayedToast=kt;for(let qe=0;qe<kt;qe++)d()}}else t()}};var te,R;M.iconOut=function(me){let{theme:Ut,type:lt,isLoading:kt,icon:qe}=me,_t=null;const W={theme:Ut,type:lt};return qe===!1||(hr(qe)?_t=qe(W):U.isValidElement(qe)?_t=U.cloneElement(qe,W):mu(qe)||Ih(qe)?_t=qe:kt?_t=OE.spinner():(oe=>oe in OE)(lt)&&(_t=OE[lt](W))),_t}(M),hr(b.onOpen)&&(M.onOpen=b.onOpen),hr(b.onClose)&&(M.onClose=b.onClose),M.closeButton=x.closeButton,b.closeButton===!1||xE(b.closeButton)?M.closeButton=b.closeButton:b.closeButton===!0&&(M.closeButton=!xE(x.closeButton)||x.closeButton);let ze=y;U.isValidElement(y)&&!mu(y.type)?ze=U.cloneElement(y,{closeToast:O,toastProps:M,data:C}):hr(y)&&(ze=y({closeToast:O,toastProps:M,data:C})),x.limit&&x.limit>0&&l.count>x.limit&&V?l.queue.push({toastContent:ze,toastProps:M,staleId:S}):Ih(E)?setTimeout(()=>{m(ze,M,S)},E):m(ze,M,S)}function m(y,_,E){const{toastId:S}=_;E&&s.delete(E);const b={content:y,props:_};s.set(S,b),r(I=>[...I,S].filter(k=>k!==E)),Hr.emit(4,JO(b,b.props.updateId==null?"added":"updated"))}return U.useEffect(()=>(l.containerId=e.containerId,Hr.cancelEmit(3).on(0,v).on(1,y=>i.current&&h(y)).on(5,c).emit(2,l),()=>{s.clear(),Hr.emit(3,l)}),[]),U.useEffect(()=>{l.props=e,l.isToastActive=a,l.displayedToast=n.length}),{getToastToRender:function(y){const _=new Map,E=Array.from(s.values());return e.newestOnTop&&E.reverse(),E.forEach(S=>{const{position:b}=S.props;_.has(b)||_.set(b,[]),_.get(b).push(S)}),Array.from(_,S=>y(S[0],S[1]))},containerRef:i,isToastActive:a}}function ZO(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function eD(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function $ne(e){const[t,n]=U.useState(!1),[r,i]=U.useState(!1),s=U.useRef(null),a=U.useRef({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,l=U.useRef(e),{autoClose:c,pauseOnHover:h,closeToast:d,onClick:v,closeOnClick:m}=e;function y(C){if(e.draggable){C.nativeEvent.type==="touchstart"&&C.nativeEvent.preventDefault(),a.didMove=!1,document.addEventListener("mousemove",b),document.addEventListener("mouseup",I),document.addEventListener("touchmove",b),document.addEventListener("touchend",I);const x=s.current;a.canCloseOnClick=!0,a.canDrag=!0,a.boundingRect=x.getBoundingClientRect(),x.style.transition="",a.x=ZO(C.nativeEvent),a.y=eD(C.nativeEvent),e.draggableDirection==="x"?(a.start=a.x,a.removalDistance=x.offsetWidth*(e.draggablePercent/100)):(a.start=a.y,a.removalDistance=x.offsetHeight*(e.draggablePercent===80?1.5*e.draggablePercent:e.draggablePercent/100))}}function _(C){if(a.boundingRect){const{top:x,bottom:O,left:V,right:M}=a.boundingRect;C.nativeEvent.type!=="touchend"&&e.pauseOnHover&&a.x>=V&&a.x<=M&&a.y>=x&&a.y<=O?S():E()}}function E(){n(!0)}function S(){n(!1)}function b(C){const x=s.current;a.canDrag&&x&&(a.didMove=!0,t&&S(),a.x=ZO(C),a.y=eD(C),a.delta=e.draggableDirection==="x"?a.x-a.start:a.y-a.start,a.start!==a.x&&(a.canCloseOnClick=!1),x.style.transform=`translate${e.draggableDirection}(${a.delta}px)`,x.style.opacity=""+(1-Math.abs(a.delta/a.removalDistance)))}function I(){document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",I),document.removeEventListener("touchmove",b),document.removeEventListener("touchend",I);const C=s.current;if(a.canDrag&&a.didMove&&C){if(a.canDrag=!1,Math.abs(a.delta)>a.removalDistance)return i(!0),void e.closeToast();C.style.transition="transform 0.2s, opacity 0.2s",C.style.transform=`translate${e.draggableDirection}(0)`,C.style.opacity="1"}}U.useEffect(()=>{l.current=e}),U.useEffect(()=>(s.current&&s.current.addEventListener("d",E,{once:!0}),hr(e.onOpen)&&e.onOpen(U.isValidElement(e.children)&&e.children.props),()=>{const C=l.current;hr(C.onClose)&&C.onClose(U.isValidElement(C.children)&&C.children.props)}),[]),U.useEffect(()=>(e.pauseOnFocusLoss&&(document.hasFocus()||S(),window.addEventListener("focus",E),window.addEventListener("blur",S)),()=>{e.pauseOnFocusLoss&&(window.removeEventListener("focus",E),window.removeEventListener("blur",S))}),[e.pauseOnFocusLoss]);const k={onMouseDown:y,onTouchStart:y,onMouseUp:_,onTouchEnd:_};return c&&h&&(k.onMouseEnter=S,k.onMouseLeave=E),m&&(k.onClick=C=>{v&&v(C),a.canCloseOnClick&&d()}),{playToast:E,pauseToast:S,isRunning:t,preventExitTransition:r,toastRef:s,eventHandlers:k}}function yj(e){let{closeToast:t,theme:n,ariaLabel:r="close"}=e;return Me.createElement("button",{className:`Toastify__close-button Toastify__close-button--${n}`,type:"button",onClick:i=>{i.stopPropagation(),t(i)},"aria-label":r},Me.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Me.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function zne(e){let{delay:t,isRunning:n,closeToast:r,type:i="default",hide:s,className:a,style:l,controlledProgress:c,progress:h,rtl:d,isIn:v,theme:m}=e;const y=s||c&&h===0,_={...l,animationDuration:`${t}ms`,animationPlayState:n?"running":"paused",opacity:y?0:1};c&&(_.transform=`scaleX(${h})`);const E=ys("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${m}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":d}),S=hr(a)?a({rtl:d,type:i,defaultClassName:E}):ys(E,a);return Me.createElement("div",{role:"progressbar","aria-hidden":y?"true":"false","aria-label":"notification timer",className:S,style:_,[c&&h>=1?"onTransitionEnd":"onAnimationEnd"]:c&&h<1?null:()=>{v&&r()}})}const qne=e=>{const{isRunning:t,preventExitTransition:n,toastRef:r,eventHandlers:i}=$ne(e),{closeButton:s,children:a,autoClose:l,onClick:c,type:h,hideProgressBar:d,closeToast:v,transition:m,position:y,className:_,style:E,bodyClassName:S,bodyStyle:b,progressClassName:I,progressStyle:k,updateId:C,role:x,progress:O,rtl:V,toastId:M,deleteToast:te,isIn:R,isLoading:ze,iconOut:me,closeOnClick:Ut,theme:lt}=e,kt=ys("Toastify__toast",`Toastify__toast-theme--${lt}`,`Toastify__toast--${h}`,{"Toastify__toast--rtl":V},{"Toastify__toast--close-on-click":Ut}),qe=hr(_)?_({rtl:V,position:y,type:h,defaultClassName:kt}):ys(kt,_),_t=!!O||!l,W={closeToast:v,type:h,theme:lt};let oe=null;return s===!1||(oe=hr(s)?s(W):U.isValidElement(s)?U.cloneElement(s,W):yj(W)),Me.createElement(m,{isIn:R,done:te,position:y,preventExitTransition:n,nodeRef:r},Me.createElement("div",{id:M,onClick:c,className:qe,...i,style:E,ref:r},Me.createElement("div",{...R&&{role:x},className:hr(S)?S({type:h}):ys("Toastify__toast-body",S),style:b},me!=null&&Me.createElement("div",{className:ys("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!ze})},me),Me.createElement("div",null,a)),oe,Me.createElement(zne,{...C&&!_t?{key:`pb-${C}`}:{},rtl:V,theme:lt,delay:l,isRunning:t,isIn:R,closeToast:v,hide:d,type:h,style:k,className:I,controlledProgress:_t,progress:O||0})))},qy=function(e,t){return t===void 0&&(t=!1),{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}},Wne=zy(qy("bounce",!0));zy(qy("slide",!0));zy(qy("zoom"));zy(qy("flip"));const Ub=U.forwardRef((e,t)=>{const{getToastToRender:n,containerRef:r,isToastActive:i}=Bne(e),{className:s,style:a,rtl:l,containerId:c}=e;function h(d){const v=ys("Toastify__toast-container",`Toastify__toast-container--${d}`,{"Toastify__toast-container--rtl":l});return hr(s)?s({position:d,rtl:l,defaultClassName:v}):ys(v,rm(s))}return U.useEffect(()=>{t&&(t.current=r.current)},[]),Me.createElement("div",{ref:r,className:"Toastify",id:c},n((d,v)=>{const m=v.length?{...a}:{...a,pointerEvents:"none"};return Me.createElement("div",{className:h(d),style:m,key:`container-${d}`},v.map((y,_)=>{let{content:E,props:S}=y;return Me.createElement(qne,{...S,isIn:i(S.toastId),style:{...S.style,"--nth":_+1,"--len":v.length},key:`toast-${S.key}`},E)}))}))});Ub.displayName="ToastContainer",Ub.defaultProps={position:"top-right",transition:Wne,autoClose:5e3,closeButton:yj,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let DE,Aa=new Map,th=[],Hne=1;function _j(){return""+Hne++}function Kne(e){return e&&(mu(e.toastId)||Ih(e.toastId))?e.toastId:_j()}function Sh(e,t){return Aa.size>0?Hr.emit(0,e,t):th.push({content:e,options:t}),t.toastId}function Eg(e,t){return{...t,type:t&&t.type||e,toastId:Kne(t)}}function Lv(e){return(t,n)=>Sh(t,Eg(e,n))}function pt(e,t){return Sh(e,Eg("default",t))}pt.loading=(e,t)=>Sh(e,Eg("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),pt.promise=function(e,t,n){let r,{pending:i,error:s,success:a}=t;i&&(r=mu(i)?pt.loading(i,n):pt.loading(i.render,{...n,...i}));const l={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},c=(d,v,m)=>{if(v==null)return void pt.dismiss(r);const y={type:d,...l,...n,data:m},_=mu(v)?{render:v}:v;return r?pt.update(r,{...y,..._}):pt(_.render,{...y,..._}),m},h=hr(e)?e():e;return h.then(d=>c("success",a,d)).catch(d=>c("error",s,d)),h},pt.success=Lv("success"),pt.info=Lv("info"),pt.error=Lv("error"),pt.warning=Lv("warning"),pt.warn=pt.warning,pt.dark=(e,t)=>Sh(e,Eg("default",{theme:"dark",...t})),pt.dismiss=e=>{Aa.size>0?Hr.emit(1,e):th=th.filter(t=>e!=null&&t.options.toastId!==e)},pt.clearWaitingQueue=function(e){return e===void 0&&(e={}),Hr.emit(5,e)},pt.isActive=e=>{let t=!1;return Aa.forEach(n=>{n.isToastActive&&n.isToastActive(e)&&(t=!0)}),t},pt.update=function(e,t){t===void 0&&(t={}),setTimeout(()=>{const n=function(r,i){let{containerId:s}=i;const a=Aa.get(s||DE);return a&&a.getToast(r)}(e,t);if(n){const{props:r,content:i}=n,s={delay:100,...r,...t,toastId:t.toastId||e,updateId:_j()};s.toastId!==e&&(s.staleId=e);const a=s.render||i;delete s.render,Sh(a,s)}},0)},pt.done=e=>{pt.update(e,{progress:1})},pt.onChange=e=>(Hr.on(4,e),()=>{Hr.off(4,e)}),pt.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},pt.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},Hr.on(2,e=>{DE=e.containerId||e,Aa.set(DE,e),th.forEach(t=>{Hr.emit(0,t.content,t.options)}),th=[]}).on(3,e=>{Aa.delete(e.containerId||e),Aa.size===0&&Hr.off(0).off(1).off(5)});function Gne(){const[e,t]=U.useState(null),[n,r]=U.useState(null),[i,s]=U.useState(!1);U.useEffect(()=>{s(!0),wg.collection("recipes").onSnapshot(l=>{if(l.empty)r("Nothing here"),s(!1),t([]);else{let c=[];l.docs.forEach(h=>{c.push({...h.data(),id:h.id})}),c.reverse(),t(c),s(!1)}})},[]);function a(l){wg.collection("recipes").doc(l).delete(),pt.success("Wow so easy!")}return q.jsxs("div",{className:"home",children:[q.jsx(Ub,{}),q.jsxs("div",{className:"home-cards container",children:[n&&q.jsx("h1",{className:"error",children:n}),i&&q.jsx("h1",{className:"loader",children:"Loading..."}),e&&e.map(l=>{var c;return q.jsxs("div",{className:"home-card",title:"Scroll card!",children:[q.jsx(jne,{onClick:()=>{a(l.id)},className:"home-card__icons"}),q.jsxs("p",{className:"home-title",children:[q.jsx("span",{children:"Title: "}),l.title]}),q.jsx("ol",{className:"ingredients-parent",children:(c=l.ingredients)==null?void 0:c.map(h=>q.jsx("li",{className:"ingredients",children:h},h))},l.id),q.jsxs("p",{className:"method",children:[q.jsx("span",{children:"Method:"})," ",l.method.slice(0,35)]}),q.jsxs("p",{className:"cookingTime",children:[q.jsx("span",{children:"Cooking Time:"})," ",l.cookingTime]}),q.jsx(Wh,{to:`/more/${l.id}`,children:q.jsx("p",{className:"home-card__link",children:"Learn More"})})]},l.id)})]})]})}function Qne(){var c;const{id:e}=C6(),t=Bg(),[n,r]=U.useState(null),[i,s]=U.useState(!1),[a,l]=U.useState(null);return U.useEffect(()=>{s(!0),wg.collection("recipes").doc(e).get().then(h=>{h.exists?(r(h.data()),console.log(h.data()),s(!1)):(l("Not Found"),s(!1))})},[]),U.useEffect(()=>{a&&setTimeout(()=>{t("/")},1e3)},[a]),q.jsxs("div",{className:"more container",children:[q.jsx(Wh,{to:"/",children:q.jsx("button",{className:"more-btn",children:"Back home page"})}),a&&q.jsx("h1",{className:"error",children:a}),i&&q.jsx("h1",{className:"loader",children:"Loading..."}),n&&q.jsxs("div",{className:"more-card",children:[q.jsxs("p",{className:"more-title",children:[q.jsx("span",{children:"Title: "}),n.title]}),q.jsx("ol",{className:"more-ingredients__parent",children:(c=n.ingredients)==null?void 0:c.map(h=>q.jsx("li",{className:"more-ingredients",children:h},h))},n.id),q.jsxs("p",{className:"method",children:[q.jsx("span",{children:"Method:"})," ",n.method]}),q.jsxs("p",{className:"cookingTime",children:[q.jsx("span",{children:"Cooking Time:"})," ",n.cookingTime]})]},n.id)]})}const Wy=U.createContext();function Yne({children:e}){function t(a,l){switch(l.type){case"CHANGE_MODE":return{...a,mode:l.payload};case"CHANGE_BACKGROUND":return{...a,background:l.payload};default:return a}}const[n,r]=U.useReducer(t,{mode:!1,background:"transparent"});function i(){r({type:"CHANGE_MODE",payload:!n.mode})}function s(a){r({type:"CHANGE_BACKGROUND",payload:a}),localStorage.setItem("theme-color",a)}return q.jsx(Wy.Provider,{value:{...n,changeMode:i,changeColor:s},children:e})}function Xne(){let e=["red","green","orangered","blue","purple"];const{changeMode:t,mode:n,changeColor:r}=U.useContext(Wy);return q.jsx("div",{className:"header",children:q.jsxs("div",{className:"header-cards container",children:[q.jsx("div",{className:"header-mode",onClick:t,children:n?q.jsx(Fne,{}):q.jsx(Une,{})}),q.jsx("div",{className:"header-card",children:e.map(i=>q.jsx("div",{className:"color",style:{background:i},onClick:()=>{r(i)}},i))})]})})}function Jne(){const{background:e}=U.useContext(Wy),[t,n]=U.useState();return U.useEffect(()=>{const r=localStorage.getItem("theme-color");r&&n(r)},[e]),q.jsx("div",{style:{background:t},className:"navbar",children:q.jsxs("div",{className:"navbar-cards container",children:[q.jsx(Wh,{to:"/",children:q.jsx("p",{className:"navbar-logo",children:"Cooking Abdulaziz"})}),q.jsx("div",{className:"navbar-link",children:q.jsx(Wh,{to:"/create",children:q.jsx("button",{className:"navbar-btn",children:"Create"})})})]})})}function Zne({change:e,setChange:t}){let[n,r]=U.useState("transparent");return q.jsxs(q.Fragment,{children:[q.jsx("nav",{children:q.jsx(Jne,{color:n,setColor:r})}),q.jsx("header",{children:q.jsx(Xne,{change:e,setChange:t,setColor:r})}),q.jsx("main",{children:q.jsx($6,{})})]})}function ere(){return q.jsx("div",{className:"error-page container",children:q.jsxs("div",{className:"error-cards",children:[q.jsxs("div",{className:"error-title",children:[q.jsx("h1",{children:"404"}),q.jsx("p",{children:"Page not found. Try again later..."})]}),q.jsx(Wh,{to:"/",children:q.jsx("button",{children:"Back Home"})})]})})}function tre(){const{mode:e}=U.useContext(Wy);let t=Q6(O1(q.jsxs(ka,{path:"/",element:q.jsx(Zne,{}),children:[q.jsx(ka,{index:!0,element:q.jsx(Gne,{})}),q.jsx(ka,{path:"/create",element:q.jsx(Dne,{})}),q.jsx(ka,{path:"/more/:id",element:q.jsx(Qne,{})}),q.jsx(ka,{path:"/error",element:q.jsx(ere,{})}),q.jsx(ka,{path:"*",element:q.jsx(B6,{to:"/error",replace:!0})})]})));return q.jsx("div",{className:e?"app":"app night",children:q.jsx(j6,{router:t})})}LE.createRoot(document.getElementById("root")).render(q.jsx(Me.StrictMode,{children:q.jsx(Yne,{children:q.jsx(tre,{})})}));
